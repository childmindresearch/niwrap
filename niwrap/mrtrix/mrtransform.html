<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.1"/>
    <title>niwrap.mrtrix.mrtransform API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}@media (prefers-color-scheme:dark){pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#49483e}.pdoc-code{background:#272822; color:#f8f8f2}.pdoc-code .c{color:#75715e}.pdoc-code .err{color:#960050; background-color:#1e0010}.pdoc-code .esc{color:#f8f8f2}.pdoc-code .g{color:#f8f8f2}.pdoc-code .k{color:#66d9ef}.pdoc-code .l{color:#ae81ff}.pdoc-code .n{color:#f8f8f2}.pdoc-code .o{color:#f92672}.pdoc-code .x{color:#f8f8f2}.pdoc-code .p{color:#f8f8f2}.pdoc-code .ch{color:#75715e}.pdoc-code .cm{color:#75715e}.pdoc-code .cp{color:#75715e}.pdoc-code .cpf{color:#75715e}.pdoc-code .c1{color:#75715e}.pdoc-code .cs{color:#75715e}.pdoc-code .gd{color:#f92672}.pdoc-code .ge{color:#f8f8f2; font-style:italic}.pdoc-code .gr{color:#f8f8f2}.pdoc-code .gh{color:#f8f8f2}.pdoc-code .gi{color:#a6e22e}.pdoc-code .go{color:#66d9ef}.pdoc-code .gp{color:#f92672; font-weight:bold}.pdoc-code .gs{color:#f8f8f2; font-weight:bold}.pdoc-code .gu{color:#75715e}.pdoc-code .gt{color:#f8f8f2}.pdoc-code .kc{color:#66d9ef}.pdoc-code .kd{color:#66d9ef}.pdoc-code .kn{color:#f92672}.pdoc-code .kp{color:#66d9ef}.pdoc-code .kr{color:#66d9ef}.pdoc-code .kt{color:#66d9ef}.pdoc-code .ld{color:#e6db74}.pdoc-code .m{color:#ae81ff}.pdoc-code .s{color:#e6db74}.pdoc-code .na{color:#a6e22e}.pdoc-code .nb{color:#f8f8f2}.pdoc-code .nc{color:#a6e22e}.pdoc-code .no{color:#66d9ef}.pdoc-code .nd{color:#a6e22e}.pdoc-code .ni{color:#f8f8f2}.pdoc-code .ne{color:#a6e22e}.pdoc-code .nf{color:#a6e22e}.pdoc-code .nl{color:#f8f8f2}.pdoc-code .nn{color:#f8f8f2}.pdoc-code .nx{color:#a6e22e}.pdoc-code .py{color:#f8f8f2}.pdoc-code .nt{color:#f92672}.pdoc-code .nv{color:#f8f8f2}.pdoc-code .ow{color:#f92672}.pdoc-code .w{color:#f8f8f2}.pdoc-code .mb{color:#ae81ff}.pdoc-code .mf{color:#ae81ff}.pdoc-code .mh{color:#ae81ff}.pdoc-code .mi{color:#ae81ff}.pdoc-code .mo{color:#ae81ff}.pdoc-code .sa{color:#e6db74}.pdoc-code .sb{color:#e6db74}.pdoc-code .sc{color:#e6db74}.pdoc-code .dl{color:#e6db74}.pdoc-code .sd{color:#e6db74}.pdoc-code .s2{color:#e6db74}.pdoc-code .se{color:#ae81ff}.pdoc-code .sh{color:#e6db74}.pdoc-code .si{color:#e6db74}.pdoc-code .sx{color:#e6db74}.pdoc-code .sr{color:#e6db74}.pdoc-code .s1{color:#e6db74}.pdoc-code .ss{color:#e6db74}.pdoc-code .bp{color:#f8f8f2}.pdoc-code .fm{color:#a6e22e}.pdoc-code .vc{color:#f8f8f2}.pdoc-code .vg{color:#f8f8f2}.pdoc-code .vi{color:#f8f8f2}.pdoc-code .vm{color:#f8f8f2}}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}@media (prefers-color-scheme:dark){:root{--pdoc-background:#212529;}.pdoc{--text:#f7f7f7;--muted:#9d9d9d;--link:#58a6ff;--link-hover:#3989ff;--code:#333;--active:#555;--accent:#343434;--accent2:#555;--nav-hover:rgba(0, 0, 0, 0.1);--name:#77C1FF;--def:#0cdd0c;--annotation:#00c037;}}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../mrtrix.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;niwrap.mrtrix</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="variable" href="#MRTRANSFORM_METADATA">MRTRANSFORM_METADATA</a>
            </li>
            <li>
                    <a class="class" href="#MrtransformExportGradFslOutputs">MrtransformExportGradFslOutputs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#MrtransformExportGradFslOutputs.__init__">MrtransformExportGradFslOutputs</a>
                        </li>
                        <li>
                                <a class="variable" href="#MrtransformExportGradFslOutputs.root">root</a>
                        </li>
                        <li>
                                <a class="variable" href="#MrtransformExportGradFslOutputs.bvecs_path">bvecs_path</a>
                        </li>
                        <li>
                                <a class="variable" href="#MrtransformExportGradFslOutputs.bvals_path">bvals_path</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#MrtransformOutputs">MrtransformOutputs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#MrtransformOutputs.__init__">MrtransformOutputs</a>
                        </li>
                        <li>
                                <a class="variable" href="#MrtransformOutputs.root">root</a>
                        </li>
                        <li>
                                <a class="variable" href="#MrtransformOutputs.output">output</a>
                        </li>
                        <li>
                                <a class="variable" href="#MrtransformOutputs.export_grad_mrtrix">export_grad_mrtrix</a>
                        </li>
                        <li>
                                <a class="variable" href="#MrtransformOutputs.export_grad_fsl">export_grad_fsl</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#mrtransform">mrtransform</a>
            </li>
            <li>
                    <a class="function" href="#mrtransform_config_params">mrtransform_config_params</a>
            </li>
            <li>
                    <a class="function" href="#mrtransform_export_grad_fsl_params">mrtransform_export_grad_fsl_params</a>
            </li>
            <li>
                    <a class="function" href="#mrtransform_fslgrad_params">mrtransform_fslgrad_params</a>
            </li>
            <li>
                    <a class="function" href="#mrtransform_params">mrtransform_params</a>
            </li>
            <li>
                    <a class="function" href="#mrtransform_various_file_params">mrtransform_various_file_params</a>
            </li>
            <li>
                    <a class="function" href="#mrtransform_various_string_params">mrtransform_various_string_params</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../../niwrap.html">niwrap</a><wbr>.<a href="./../mrtrix.html">mrtrix</a><wbr>.mrtransform    </h1>

                
                        <input id="mod-mrtransform-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-mrtransform-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">   1</span></a><span class="c1"># This file was auto generated by Styx.</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">   2</span></a><span class="c1"># Do not edit this file directly.</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">   3</span></a>
</span><span id="L-4"><a href="#L-4"><span class="linenos">   4</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">typing</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">   5</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">pathlib</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">   6</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">styxdefs</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">   7</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">dataclasses</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">   8</span></a>
</span><span id="L-9"><a href="#L-9"><span class="linenos">   9</span></a><span class="n">MRTRANSFORM_METADATA</span> <span class="o">=</span> <span class="n">Metadata</span><span class="p">(</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">  10</span></a>    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;faaa07c120c0bcc84911ab27778920e0d881a5ea.boutiques&quot;</span><span class="p">,</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">  11</span></a>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;mrtransform&quot;</span><span class="p">,</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">  12</span></a>    <span class="n">package</span><span class="o">=</span><span class="s2">&quot;mrtrix&quot;</span><span class="p">,</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">  13</span></a>    <span class="n">container_image_tag</span><span class="o">=</span><span class="s2">&quot;mrtrix3/mrtrix3:3.0.4&quot;</span><span class="p">,</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">  14</span></a><span class="p">)</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">  15</span></a><span class="n">MrtransformFslgradParameters</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">TypedDict</span><span class="p">(</span><span class="s1">&#39;MrtransformFslgradParameters&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">  16</span></a>    <span class="s2">&quot;__STYX_TYPE__&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;fslgrad&quot;</span><span class="p">],</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">  17</span></a>    <span class="s2">&quot;bvecs&quot;</span><span class="p">:</span> <span class="n">InputPathType</span><span class="p">,</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">  18</span></a>    <span class="s2">&quot;bvals&quot;</span><span class="p">:</span> <span class="n">InputPathType</span><span class="p">,</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">  19</span></a><span class="p">})</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">  20</span></a><span class="n">MrtransformExportGradFslParameters</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">TypedDict</span><span class="p">(</span><span class="s1">&#39;MrtransformExportGradFslParameters&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">  21</span></a>    <span class="s2">&quot;__STYX_TYPE__&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;export_grad_fsl&quot;</span><span class="p">],</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">  22</span></a>    <span class="s2">&quot;bvecs_path&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">  23</span></a>    <span class="s2">&quot;bvals_path&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">  24</span></a><span class="p">})</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">  25</span></a><span class="n">MrtransformVariousStringParameters</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">TypedDict</span><span class="p">(</span><span class="s1">&#39;MrtransformVariousStringParameters&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">  26</span></a>    <span class="s2">&quot;__STYX_TYPE__&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;VariousString&quot;</span><span class="p">],</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">  27</span></a>    <span class="s2">&quot;obj&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos">  28</span></a><span class="p">})</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">  29</span></a><span class="n">MrtransformVariousFileParameters</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">TypedDict</span><span class="p">(</span><span class="s1">&#39;MrtransformVariousFileParameters&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">  30</span></a>    <span class="s2">&quot;__STYX_TYPE__&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;VariousFile&quot;</span><span class="p">],</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">  31</span></a>    <span class="s2">&quot;obj&quot;</span><span class="p">:</span> <span class="n">InputPathType</span><span class="p">,</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">  32</span></a><span class="p">})</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos">  33</span></a><span class="n">MrtransformConfigParameters</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">TypedDict</span><span class="p">(</span><span class="s1">&#39;MrtransformConfigParameters&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">  34</span></a>    <span class="s2">&quot;__STYX_TYPE__&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;config&quot;</span><span class="p">],</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">  35</span></a>    <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos">  36</span></a>    <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">  37</span></a><span class="p">})</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">  38</span></a><span class="n">MrtransformParameters</span> <span class="o">=</span> <span class="n">typing</span><span class="o">.</span><span class="n">TypedDict</span><span class="p">(</span><span class="s1">&#39;MrtransformParameters&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">  39</span></a>    <span class="s2">&quot;__STYX_TYPE__&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;mrtransform&quot;</span><span class="p">],</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">  40</span></a>    <span class="s2">&quot;linear&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">  41</span></a>    <span class="s2">&quot;flip&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">  42</span></a>    <span class="s2">&quot;inverse&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos">  43</span></a>    <span class="s2">&quot;half&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">  44</span></a>    <span class="s2">&quot;replace&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">  45</span></a>    <span class="s2">&quot;identity&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos">  46</span></a>    <span class="s2">&quot;template&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos">  47</span></a>    <span class="s2">&quot;midway_space&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos">  48</span></a>    <span class="s2">&quot;interp&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">  49</span></a>    <span class="s2">&quot;oversample&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos">  50</span></a>    <span class="s2">&quot;warp&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos">  51</span></a>    <span class="s2">&quot;warp_full&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos">  52</span></a>    <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos">  53</span></a>    <span class="s2">&quot;modulate&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos">  54</span></a>    <span class="s2">&quot;directions&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos">  55</span></a>    <span class="s2">&quot;reorient_fod&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos">  56</span></a>    <span class="s2">&quot;grad&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos">  57</span></a>    <span class="s2">&quot;fslgrad&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="n">MrtransformFslgradParameters</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos">  58</span></a>    <span class="s2">&quot;export_grad_mrtrix&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos">  59</span></a>    <span class="s2">&quot;export_grad_fsl&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="n">MrtransformExportGradFslParameters</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos">  60</span></a>    <span class="s2">&quot;datatype&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos">  61</span></a>    <span class="s2">&quot;strides&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">MrtransformVariousStringParameters</span><span class="p">,</span> <span class="n">MrtransformVariousFileParameters</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos">  62</span></a>    <span class="s2">&quot;nan&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos">  63</span></a>    <span class="s2">&quot;no_reorientation&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos">  64</span></a>    <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos">  65</span></a>    <span class="s2">&quot;quiet&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos">  66</span></a>    <span class="s2">&quot;debug&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos">  67</span></a>    <span class="s2">&quot;force&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos">  68</span></a>    <span class="s2">&quot;nthreads&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos">  69</span></a>    <span class="s2">&quot;config&quot;</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">NotRequired</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">MrtransformConfigParameters</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos">  70</span></a>    <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos">  71</span></a>    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos">  72</span></a>    <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="n">InputPathType</span><span class="p">,</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos">  73</span></a>    <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos">  74</span></a><span class="p">})</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos">  75</span></a>
</span><span id="L-76"><a href="#L-76"><span class="linenos">  76</span></a>
</span><span id="L-77"><a href="#L-77"><span class="linenos">  77</span></a><span class="k">def</span><span class="w"> </span><span class="nf">dyn_cargs</span><span class="p">(</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos">  78</span></a>    <span class="n">t</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos">  79</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos">  80</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos">  81</span></a><span class="sd">    Get build cargs function by command type.</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos">  82</span></a><span class="sd">    </span>
</span><span id="L-83"><a href="#L-83"><span class="linenos">  83</span></a><span class="sd">    Args:</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos">  84</span></a><span class="sd">        t: Command type.</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos">  85</span></a><span class="sd">    Returns:</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos">  86</span></a><span class="sd">        Build cargs function.</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos">  87</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos">  88</span></a>    <span class="n">vt</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos">  89</span></a>        <span class="s2">&quot;mrtransform&quot;</span><span class="p">:</span> <span class="n">mrtransform_cargs</span><span class="p">,</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos">  90</span></a>        <span class="s2">&quot;fslgrad&quot;</span><span class="p">:</span> <span class="n">mrtransform_fslgrad_cargs</span><span class="p">,</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos">  91</span></a>        <span class="s2">&quot;export_grad_fsl&quot;</span><span class="p">:</span> <span class="n">mrtransform_export_grad_fsl_cargs</span><span class="p">,</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos">  92</span></a>        <span class="s2">&quot;VariousString&quot;</span><span class="p">:</span> <span class="n">mrtransform_various_string_cargs</span><span class="p">,</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos">  93</span></a>        <span class="s2">&quot;VariousFile&quot;</span><span class="p">:</span> <span class="n">mrtransform_various_file_cargs</span><span class="p">,</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos">  94</span></a>        <span class="s2">&quot;config&quot;</span><span class="p">:</span> <span class="n">mrtransform_config_cargs</span><span class="p">,</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos">  95</span></a>    <span class="p">}</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos">  96</span></a>    <span class="k">return</span> <span class="n">vt</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos">  97</span></a>
</span><span id="L-98"><a href="#L-98"><span class="linenos">  98</span></a>
</span><span id="L-99"><a href="#L-99"><span class="linenos">  99</span></a><span class="k">def</span><span class="w"> </span><span class="nf">dyn_outputs</span><span class="p">(</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos"> 100</span></a>    <span class="n">t</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos"> 101</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos"> 102</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos"> 103</span></a><span class="sd">    Get build outputs function by command type.</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos"> 104</span></a><span class="sd">    </span>
</span><span id="L-105"><a href="#L-105"><span class="linenos"> 105</span></a><span class="sd">    Args:</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos"> 106</span></a><span class="sd">        t: Command type.</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos"> 107</span></a><span class="sd">    Returns:</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos"> 108</span></a><span class="sd">        Build outputs function.</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos"> 109</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos"> 110</span></a>    <span class="n">vt</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos"> 111</span></a>        <span class="s2">&quot;mrtransform&quot;</span><span class="p">:</span> <span class="n">mrtransform_outputs</span><span class="p">,</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos"> 112</span></a>        <span class="s2">&quot;export_grad_fsl&quot;</span><span class="p">:</span> <span class="n">mrtransform_export_grad_fsl_outputs</span><span class="p">,</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos"> 113</span></a>    <span class="p">}</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos"> 114</span></a>    <span class="k">return</span> <span class="n">vt</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos"> 115</span></a>
</span><span id="L-116"><a href="#L-116"><span class="linenos"> 116</span></a>
</span><span id="L-117"><a href="#L-117"><span class="linenos"> 117</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_fslgrad_params</span><span class="p">(</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos"> 118</span></a>    <span class="n">bvecs</span><span class="p">:</span> <span class="n">InputPathType</span><span class="p">,</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos"> 119</span></a>    <span class="n">bvals</span><span class="p">:</span> <span class="n">InputPathType</span><span class="p">,</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos"> 120</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MrtransformFslgradParameters</span><span class="p">:</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos"> 121</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos"> 122</span></a><span class="sd">    Build parameters.</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos"> 123</span></a><span class="sd">    </span>
</span><span id="L-124"><a href="#L-124"><span class="linenos"> 124</span></a><span class="sd">    Args:</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos"> 125</span></a><span class="sd">        bvecs: Provide the diffusion-weighted gradient scheme used in the\</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos"> 126</span></a><span class="sd">            acquisition in FSL bvecs/bvals format files. If a diffusion gradient\</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos"> 127</span></a><span class="sd">            scheme is present in the input image header, the data provided with\</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos"> 128</span></a><span class="sd">            this option will be instead used.</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos"> 129</span></a><span class="sd">        bvals: Provide the diffusion-weighted gradient scheme used in the\</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos"> 130</span></a><span class="sd">            acquisition in FSL bvecs/bvals format files. If a diffusion gradient\</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos"> 131</span></a><span class="sd">            scheme is present in the input image header, the data provided with\</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos"> 132</span></a><span class="sd">            this option will be instead used.</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos"> 133</span></a><span class="sd">    Returns:</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos"> 134</span></a><span class="sd">        Parameter dictionary</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos"> 135</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos"> 136</span></a>    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos"> 137</span></a>        <span class="s2">&quot;__STYXTYPE__&quot;</span><span class="p">:</span> <span class="s2">&quot;fslgrad&quot;</span><span class="p">,</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos"> 138</span></a>        <span class="s2">&quot;bvecs&quot;</span><span class="p">:</span> <span class="n">bvecs</span><span class="p">,</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos"> 139</span></a>        <span class="s2">&quot;bvals&quot;</span><span class="p">:</span> <span class="n">bvals</span><span class="p">,</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos"> 140</span></a>    <span class="p">}</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos"> 141</span></a>    <span class="k">return</span> <span class="n">params</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos"> 142</span></a>
</span><span id="L-143"><a href="#L-143"><span class="linenos"> 143</span></a>
</span><span id="L-144"><a href="#L-144"><span class="linenos"> 144</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_fslgrad_cargs</span><span class="p">(</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos"> 145</span></a>    <span class="n">params</span><span class="p">:</span> <span class="n">MrtransformFslgradParameters</span><span class="p">,</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos"> 146</span></a>    <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos"> 147</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos"> 148</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos"> 149</span></a><span class="sd">    Build command-line arguments from parameters.</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos"> 150</span></a><span class="sd">    </span>
</span><span id="L-151"><a href="#L-151"><span class="linenos"> 151</span></a><span class="sd">    Args:</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos"> 152</span></a><span class="sd">        params: The parameters.</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos"> 153</span></a><span class="sd">        execution: The execution object for resolving input paths.</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos"> 154</span></a><span class="sd">    Returns:</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos"> 155</span></a><span class="sd">        Command-line arguments.</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos"> 156</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos"> 157</span></a>    <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos"> 158</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-fslgrad&quot;</span><span class="p">)</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos"> 159</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bvecs&quot;</span><span class="p">)))</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos"> 160</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bvals&quot;</span><span class="p">)))</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos"> 161</span></a>    <span class="k">return</span> <span class="n">cargs</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos"> 162</span></a>
</span><span id="L-163"><a href="#L-163"><span class="linenos"> 163</span></a>
</span><span id="L-164"><a href="#L-164"><span class="linenos"> 164</span></a><span class="k">class</span><span class="w"> </span><span class="nc">MrtransformExportGradFslOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos"> 165</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos"> 166</span></a><span class="sd">    Output object returned when calling `MrtransformExportGradFslParameters | None(...)`.</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos"> 167</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos"> 168</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos"> 169</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos"> 170</span></a>    <span class="n">bvecs_path</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos"> 171</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;export the diffusion-weighted gradient table to files in FSL (bvecs /</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos"> 172</span></a><span class="sd">    bvals) format&quot;&quot;&quot;</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos"> 173</span></a>    <span class="n">bvals_path</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos"> 174</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;export the diffusion-weighted gradient table to files in FSL (bvecs /</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos"> 175</span></a><span class="sd">    bvals) format&quot;&quot;&quot;</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos"> 176</span></a>
</span><span id="L-177"><a href="#L-177"><span class="linenos"> 177</span></a>
</span><span id="L-178"><a href="#L-178"><span class="linenos"> 178</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_export_grad_fsl_params</span><span class="p">(</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos"> 179</span></a>    <span class="n">bvecs_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos"> 180</span></a>    <span class="n">bvals_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos"> 181</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MrtransformExportGradFslParameters</span><span class="p">:</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos"> 182</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos"> 183</span></a><span class="sd">    Build parameters.</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos"> 184</span></a><span class="sd">    </span>
</span><span id="L-185"><a href="#L-185"><span class="linenos"> 185</span></a><span class="sd">    Args:</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos"> 186</span></a><span class="sd">        bvecs_path: export the diffusion-weighted gradient table to files in\</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos"> 187</span></a><span class="sd">            FSL (bvecs / bvals) format.</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos"> 188</span></a><span class="sd">        bvals_path: export the diffusion-weighted gradient table to files in\</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos"> 189</span></a><span class="sd">            FSL (bvecs / bvals) format.</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos"> 190</span></a><span class="sd">    Returns:</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos"> 191</span></a><span class="sd">        Parameter dictionary</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos"> 192</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos"> 193</span></a>    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos"> 194</span></a>        <span class="s2">&quot;__STYXTYPE__&quot;</span><span class="p">:</span> <span class="s2">&quot;export_grad_fsl&quot;</span><span class="p">,</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos"> 195</span></a>        <span class="s2">&quot;bvecs_path&quot;</span><span class="p">:</span> <span class="n">bvecs_path</span><span class="p">,</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos"> 196</span></a>        <span class="s2">&quot;bvals_path&quot;</span><span class="p">:</span> <span class="n">bvals_path</span><span class="p">,</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos"> 197</span></a>    <span class="p">}</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos"> 198</span></a>    <span class="k">return</span> <span class="n">params</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos"> 199</span></a>
</span><span id="L-200"><a href="#L-200"><span class="linenos"> 200</span></a>
</span><span id="L-201"><a href="#L-201"><span class="linenos"> 201</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_export_grad_fsl_cargs</span><span class="p">(</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos"> 202</span></a>    <span class="n">params</span><span class="p">:</span> <span class="n">MrtransformExportGradFslParameters</span><span class="p">,</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos"> 203</span></a>    <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos"> 204</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos"> 205</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos"> 206</span></a><span class="sd">    Build command-line arguments from parameters.</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos"> 207</span></a><span class="sd">    </span>
</span><span id="L-208"><a href="#L-208"><span class="linenos"> 208</span></a><span class="sd">    Args:</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos"> 209</span></a><span class="sd">        params: The parameters.</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos"> 210</span></a><span class="sd">        execution: The execution object for resolving input paths.</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos"> 211</span></a><span class="sd">    Returns:</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos"> 212</span></a><span class="sd">        Command-line arguments.</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos"> 213</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos"> 214</span></a>    <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos"> 215</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-export_grad_fsl&quot;</span><span class="p">)</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos"> 216</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bvecs_path&quot;</span><span class="p">))</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos"> 217</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bvals_path&quot;</span><span class="p">))</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos"> 218</span></a>    <span class="k">return</span> <span class="n">cargs</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos"> 219</span></a>
</span><span id="L-220"><a href="#L-220"><span class="linenos"> 220</span></a>
</span><span id="L-221"><a href="#L-221"><span class="linenos"> 221</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_export_grad_fsl_outputs</span><span class="p">(</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos"> 222</span></a>    <span class="n">params</span><span class="p">:</span> <span class="n">MrtransformExportGradFslParameters</span><span class="p">,</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos"> 223</span></a>    <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos"> 224</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MrtransformExportGradFslOutputs</span><span class="p">:</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos"> 225</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos"> 226</span></a><span class="sd">    Build outputs object containing output file paths and possibly stdout/stderr.</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos"> 227</span></a><span class="sd">    </span>
</span><span id="L-228"><a href="#L-228"><span class="linenos"> 228</span></a><span class="sd">    Args:</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos"> 229</span></a><span class="sd">        params: The parameters.</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos"> 230</span></a><span class="sd">        execution: The execution object for resolving input paths.</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos"> 231</span></a><span class="sd">    Returns:</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos"> 232</span></a><span class="sd">        Outputs object.</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos"> 233</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos"> 234</span></a>    <span class="n">ret</span> <span class="o">=</span> <span class="n">MrtransformExportGradFslOutputs</span><span class="p">(</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos"> 235</span></a>        <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos"> 236</span></a>        <span class="n">bvecs_path</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bvecs_path&quot;</span><span class="p">)),</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos"> 237</span></a>        <span class="n">bvals_path</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bvals_path&quot;</span><span class="p">)),</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos"> 238</span></a>    <span class="p">)</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos"> 239</span></a>    <span class="k">return</span> <span class="n">ret</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos"> 240</span></a>
</span><span id="L-241"><a href="#L-241"><span class="linenos"> 241</span></a>
</span><span id="L-242"><a href="#L-242"><span class="linenos"> 242</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_various_string_params</span><span class="p">(</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos"> 243</span></a>    <span class="n">obj</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos"> 244</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MrtransformVariousStringParameters</span><span class="p">:</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos"> 245</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos"> 246</span></a><span class="sd">    Build parameters.</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos"> 247</span></a><span class="sd">    </span>
</span><span id="L-248"><a href="#L-248"><span class="linenos"> 248</span></a><span class="sd">    Args:</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos"> 249</span></a><span class="sd">        obj: String object.</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos"> 250</span></a><span class="sd">    Returns:</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos"> 251</span></a><span class="sd">        Parameter dictionary</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos"> 252</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos"> 253</span></a>    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos"> 254</span></a>        <span class="s2">&quot;__STYXTYPE__&quot;</span><span class="p">:</span> <span class="s2">&quot;VariousString&quot;</span><span class="p">,</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos"> 255</span></a>        <span class="s2">&quot;obj&quot;</span><span class="p">:</span> <span class="n">obj</span><span class="p">,</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos"> 256</span></a>    <span class="p">}</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos"> 257</span></a>    <span class="k">return</span> <span class="n">params</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos"> 258</span></a>
</span><span id="L-259"><a href="#L-259"><span class="linenos"> 259</span></a>
</span><span id="L-260"><a href="#L-260"><span class="linenos"> 260</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_various_string_cargs</span><span class="p">(</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos"> 261</span></a>    <span class="n">params</span><span class="p">:</span> <span class="n">MrtransformVariousStringParameters</span><span class="p">,</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos"> 262</span></a>    <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos"> 263</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos"> 264</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos"> 265</span></a><span class="sd">    Build command-line arguments from parameters.</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos"> 266</span></a><span class="sd">    </span>
</span><span id="L-267"><a href="#L-267"><span class="linenos"> 267</span></a><span class="sd">    Args:</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos"> 268</span></a><span class="sd">        params: The parameters.</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos"> 269</span></a><span class="sd">        execution: The execution object for resolving input paths.</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos"> 270</span></a><span class="sd">    Returns:</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos"> 271</span></a><span class="sd">        Command-line arguments.</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos"> 272</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos"> 273</span></a>    <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos"> 274</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;obj&quot;</span><span class="p">))</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos"> 275</span></a>    <span class="k">return</span> <span class="n">cargs</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos"> 276</span></a>
</span><span id="L-277"><a href="#L-277"><span class="linenos"> 277</span></a>
</span><span id="L-278"><a href="#L-278"><span class="linenos"> 278</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_various_file_params</span><span class="p">(</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos"> 279</span></a>    <span class="n">obj</span><span class="p">:</span> <span class="n">InputPathType</span><span class="p">,</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos"> 280</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MrtransformVariousFileParameters</span><span class="p">:</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos"> 281</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos"> 282</span></a><span class="sd">    Build parameters.</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos"> 283</span></a><span class="sd">    </span>
</span><span id="L-284"><a href="#L-284"><span class="linenos"> 284</span></a><span class="sd">    Args:</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos"> 285</span></a><span class="sd">        obj: File object.</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos"> 286</span></a><span class="sd">    Returns:</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos"> 287</span></a><span class="sd">        Parameter dictionary</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos"> 288</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos"> 289</span></a>    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos"> 290</span></a>        <span class="s2">&quot;__STYXTYPE__&quot;</span><span class="p">:</span> <span class="s2">&quot;VariousFile&quot;</span><span class="p">,</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos"> 291</span></a>        <span class="s2">&quot;obj&quot;</span><span class="p">:</span> <span class="n">obj</span><span class="p">,</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos"> 292</span></a>    <span class="p">}</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos"> 293</span></a>    <span class="k">return</span> <span class="n">params</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos"> 294</span></a>
</span><span id="L-295"><a href="#L-295"><span class="linenos"> 295</span></a>
</span><span id="L-296"><a href="#L-296"><span class="linenos"> 296</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_various_file_cargs</span><span class="p">(</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos"> 297</span></a>    <span class="n">params</span><span class="p">:</span> <span class="n">MrtransformVariousFileParameters</span><span class="p">,</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos"> 298</span></a>    <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos"> 299</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos"> 300</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos"> 301</span></a><span class="sd">    Build command-line arguments from parameters.</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos"> 302</span></a><span class="sd">    </span>
</span><span id="L-303"><a href="#L-303"><span class="linenos"> 303</span></a><span class="sd">    Args:</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos"> 304</span></a><span class="sd">        params: The parameters.</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos"> 305</span></a><span class="sd">        execution: The execution object for resolving input paths.</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos"> 306</span></a><span class="sd">    Returns:</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos"> 307</span></a><span class="sd">        Command-line arguments.</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos"> 308</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos"> 309</span></a>    <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos"> 310</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;obj&quot;</span><span class="p">)))</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos"> 311</span></a>    <span class="k">return</span> <span class="n">cargs</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos"> 312</span></a>
</span><span id="L-313"><a href="#L-313"><span class="linenos"> 313</span></a>
</span><span id="L-314"><a href="#L-314"><span class="linenos"> 314</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_config_params</span><span class="p">(</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos"> 315</span></a>    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos"> 316</span></a>    <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos"> 317</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MrtransformConfigParameters</span><span class="p">:</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos"> 318</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos"> 319</span></a><span class="sd">    Build parameters.</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos"> 320</span></a><span class="sd">    </span>
</span><span id="L-321"><a href="#L-321"><span class="linenos"> 321</span></a><span class="sd">    Args:</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos"> 322</span></a><span class="sd">        key: temporarily set the value of an MRtrix config file entry.</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos"> 323</span></a><span class="sd">        value: temporarily set the value of an MRtrix config file entry.</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos"> 324</span></a><span class="sd">    Returns:</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos"> 325</span></a><span class="sd">        Parameter dictionary</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos"> 326</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos"> 327</span></a>    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos"> 328</span></a>        <span class="s2">&quot;__STYXTYPE__&quot;</span><span class="p">:</span> <span class="s2">&quot;config&quot;</span><span class="p">,</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos"> 329</span></a>        <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="n">key</span><span class="p">,</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos"> 330</span></a>        <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos"> 331</span></a>    <span class="p">}</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos"> 332</span></a>    <span class="k">return</span> <span class="n">params</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos"> 333</span></a>
</span><span id="L-334"><a href="#L-334"><span class="linenos"> 334</span></a>
</span><span id="L-335"><a href="#L-335"><span class="linenos"> 335</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_config_cargs</span><span class="p">(</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos"> 336</span></a>    <span class="n">params</span><span class="p">:</span> <span class="n">MrtransformConfigParameters</span><span class="p">,</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos"> 337</span></a>    <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos"> 338</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos"> 339</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos"> 340</span></a><span class="sd">    Build command-line arguments from parameters.</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos"> 341</span></a><span class="sd">    </span>
</span><span id="L-342"><a href="#L-342"><span class="linenos"> 342</span></a><span class="sd">    Args:</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos"> 343</span></a><span class="sd">        params: The parameters.</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos"> 344</span></a><span class="sd">        execution: The execution object for resolving input paths.</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos"> 345</span></a><span class="sd">    Returns:</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos"> 346</span></a><span class="sd">        Command-line arguments.</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos"> 347</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos"> 348</span></a>    <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos"> 349</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-config&quot;</span><span class="p">)</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos"> 350</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="p">))</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos"> 351</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">))</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos"> 352</span></a>    <span class="k">return</span> <span class="n">cargs</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos"> 353</span></a>
</span><span id="L-354"><a href="#L-354"><span class="linenos"> 354</span></a>
</span><span id="L-355"><a href="#L-355"><span class="linenos"> 355</span></a><span class="k">class</span><span class="w"> </span><span class="nc">MrtransformOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos"> 356</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos"> 357</span></a><span class="sd">    Output object returned when calling `mrtransform(...)`.</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos"> 358</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos"> 359</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos"> 360</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos"> 361</span></a>    <span class="n">output</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos"> 362</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;the output image.&quot;&quot;&quot;</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos"> 363</span></a>    <span class="n">export_grad_mrtrix</span><span class="p">:</span> <span class="n">OutputPathType</span> <span class="o">|</span> <span class="kc">None</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos"> 364</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;export the diffusion-weighted gradient table to file in MRtrix format &quot;&quot;&quot;</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos"> 365</span></a>    <span class="n">export_grad_fsl</span><span class="p">:</span> <span class="n">MrtransformExportGradFslOutputs</span> <span class="o">|</span> <span class="kc">None</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos"> 366</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Outputs from `mrtransform_export_grad_fsl_outputs`.&quot;&quot;&quot;</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos"> 367</span></a>
</span><span id="L-368"><a href="#L-368"><span class="linenos"> 368</span></a>
</span><span id="L-369"><a href="#L-369"><span class="linenos"> 369</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_params</span><span class="p">(</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos"> 370</span></a>    <span class="n">input_</span><span class="p">:</span> <span class="n">InputPathType</span><span class="p">,</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos"> 371</span></a>    <span class="n">output</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos"> 372</span></a>    <span class="n">linear</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos"> 373</span></a>    <span class="n">flip</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos"> 374</span></a>    <span class="n">inverse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos"> 375</span></a>    <span class="n">half</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos"> 376</span></a>    <span class="n">replace</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos"> 377</span></a>    <span class="n">identity</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos"> 378</span></a>    <span class="n">template</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos"> 379</span></a>    <span class="n">midway_space</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos"> 380</span></a>    <span class="n">interp</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos"> 381</span></a>    <span class="n">oversample</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos"> 382</span></a>    <span class="n">warp</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos"> 383</span></a>    <span class="n">warp_full</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos"> 384</span></a>    <span class="n">from_</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos"> 385</span></a>    <span class="n">modulate</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos"> 386</span></a>    <span class="n">directions</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos"> 387</span></a>    <span class="n">reorient_fod</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos"> 388</span></a>    <span class="n">grad</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos"> 389</span></a>    <span class="n">fslgrad</span><span class="p">:</span> <span class="n">MrtransformFslgradParameters</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos"> 390</span></a>    <span class="n">export_grad_mrtrix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos"> 391</span></a>    <span class="n">export_grad_fsl</span><span class="p">:</span> <span class="n">MrtransformExportGradFslParameters</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos"> 392</span></a>    <span class="n">datatype</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos"> 393</span></a>    <span class="n">strides</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">MrtransformVariousStringParameters</span><span class="p">,</span> <span class="n">MrtransformVariousFileParameters</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos"> 394</span></a>    <span class="n">nan</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos"> 395</span></a>    <span class="n">no_reorientation</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos"> 396</span></a>    <span class="n">info</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos"> 397</span></a>    <span class="n">quiet</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos"> 398</span></a>    <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos"> 399</span></a>    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos"> 400</span></a>    <span class="n">nthreads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos"> 401</span></a>    <span class="n">config</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">MrtransformConfigParameters</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos"> 402</span></a>    <span class="n">help_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos"> 403</span></a>    <span class="n">version</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos"> 404</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MrtransformParameters</span><span class="p">:</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos"> 405</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos"> 406</span></a><span class="sd">    Build parameters.</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos"> 407</span></a><span class="sd">    </span>
</span><span id="L-408"><a href="#L-408"><span class="linenos"> 408</span></a><span class="sd">    Args:</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos"> 409</span></a><span class="sd">        input_: input image to be transformed.</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos"> 410</span></a><span class="sd">        output: the output image.</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos"> 411</span></a><span class="sd">        linear: specify a linear transform to apply, in the form of a 3x4 or\</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos"> 412</span></a><span class="sd">            4x4 ascii file. Note the standard &#39;reverse&#39; convention is used, where\</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos"> 413</span></a><span class="sd">            the transform maps points in the template image to the moving image.\</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos"> 414</span></a><span class="sd">            Note that the reverse convention is still assumed even if no -template\</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos"> 415</span></a><span class="sd">            image is supplied.</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos"> 416</span></a><span class="sd">        flip: flip the specified axes, provided as a comma-separated list of\</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos"> 417</span></a><span class="sd">            indices (0:x, 1:y, 2:z).</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos"> 418</span></a><span class="sd">        inverse: apply the inverse transformation.</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos"> 419</span></a><span class="sd">        half: apply the matrix square root of the transformation. This can be\</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos"> 420</span></a><span class="sd">            combined with the inverse option.</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos"> 421</span></a><span class="sd">        replace: replace the linear transform of the original image by that\</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos"> 422</span></a><span class="sd">            specified, rather than applying it to the original image. The specified\</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos"> 423</span></a><span class="sd">            transform can be either a template image, or a 3x4 or 4x4 ascii file.</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos"> 424</span></a><span class="sd">        identity: set the header transform of the image to the identity matrix.</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos"> 425</span></a><span class="sd">        template: reslice the input image to match the specified template image\</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos"> 426</span></a><span class="sd">            grid.</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos"> 427</span></a><span class="sd">        midway_space: reslice the input image to the midway space. Requires\</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos"> 428</span></a><span class="sd">            either the -template or -warp option. If used with -template and\</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos"> 429</span></a><span class="sd">            -linear option the input image will be resliced onto the grid halfway\</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos"> 430</span></a><span class="sd">            between the input and template. If used with the -warp option the input\</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos"> 431</span></a><span class="sd">            will be warped to the midway space defined by the grid of the input\</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos"> 432</span></a><span class="sd">            warp (i.e. half way between image1 and image2).</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos"> 433</span></a><span class="sd">        interp: set the interpolation method to use when reslicing (choices:\</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos"> 434</span></a><span class="sd">            nearest, linear, cubic, sinc. Default: cubic).</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos"> 435</span></a><span class="sd">        oversample: set the amount of over-sampling (in the target space) to\</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos"> 436</span></a><span class="sd">            perform when regridding. This is particularly relevant when downsamping\</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos"> 437</span></a><span class="sd">            a high-resolution image to a low-resolution image, to avoid aliasing\</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos"> 438</span></a><span class="sd">            artefacts. This can consist of a single integer, or a comma-separated\</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos"> 439</span></a><span class="sd">            list of 3 integers if different oversampling factors are desired along\</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos"> 440</span></a><span class="sd">            the different axes. Default is determined from ratio of voxel\</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos"> 441</span></a><span class="sd">            dimensions (disabled for nearest-neighbour interpolation).</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos"> 442</span></a><span class="sd">        warp: apply a non-linear 4D deformation field to warp the input image.\</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos"> 443</span></a><span class="sd">            Each voxel in the deformation field must define the scanner space\</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos"> 444</span></a><span class="sd">            position that will be used to interpolate the input image during\</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos"> 445</span></a><span class="sd">            warping (i.e. pull-back/reverse warp convention). If the -template\</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos"> 446</span></a><span class="sd">            image is also supplied the deformation field will be resliced first to\</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos"> 447</span></a><span class="sd">            the template image grid. If no -template option is supplied then the\</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos"> 448</span></a><span class="sd">            output image will have the same image grid as the deformation field.\</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos"> 449</span></a><span class="sd">            This option can be used in combination with the -affine option, in\</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos"> 450</span></a><span class="sd">            which case the affine will be applied first).</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos"> 451</span></a><span class="sd">        warp_full: warp the input image using a 5D warp file output from\</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos"> 452</span></a><span class="sd">            mrregister. Any linear transforms in the warp image header will also be\</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos"> 453</span></a><span class="sd">            applied. The -warp_full option must be used in combination with either\</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos"> 454</span></a><span class="sd">            the -template option or the -midway_space option. If a -template image\</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos"> 455</span></a><span class="sd">            is supplied then the full warp will be used. By default the\</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos"> 456</span></a><span class="sd">            image1-&gt;image2 transform will be applied, however the -from 2 option\</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos"> 457</span></a><span class="sd">            can be used to apply the image2-&gt;image1 transform. Use the\</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos"> 458</span></a><span class="sd">            -midway_space option to warp the input image to the midway space. The\</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos"> 459</span></a><span class="sd">            -from option can also be used to define which warp to use when\</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos"> 460</span></a><span class="sd">            transforming to midway space.</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos"> 461</span></a><span class="sd">        from_: used to define which space the input image is when using the\</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos"> 462</span></a><span class="sd">            -warp_mid option. Use -from 1 to warp from image1 or -from 2 to warp\</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos"> 463</span></a><span class="sd">            from image2.</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos"> 464</span></a><span class="sd">        modulate: Valid choices are: fod and jac.\</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos"> 465</span></a><span class="sd">            fod: modulate FODs during reorientation to preserve the apparent\</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos"> 466</span></a><span class="sd">            fibre density across fibre bundle widths before and after the\</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos"> 467</span></a><span class="sd">            transformation.\</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos"> 468</span></a><span class="sd">            jac: modulate the image intensity with the determinant of the\</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos"> 469</span></a><span class="sd">            Jacobian of the warp of linear transformation to preserve the total\</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos"> 470</span></a><span class="sd">            intensity before and after the transformation.</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos"> 471</span></a><span class="sd">        directions: directions defining the number and orientation of the\</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos"> 472</span></a><span class="sd">            apodised point spread functions used in FOD reorientation (Default: 300\</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos"> 473</span></a><span class="sd">            directions).</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos"> 474</span></a><span class="sd">        reorient_fod: specify whether to perform FOD reorientation. This is\</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos"> 475</span></a><span class="sd">            required if the number of volumes in the 4th dimension corresponds to\</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos"> 476</span></a><span class="sd">            the number of coefficients in an antipodally symmetric spherical\</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos"> 477</span></a><span class="sd">            harmonic series with lmax &gt;= 2 (i.e. 6, 15, 28, 45, 66 volumes).</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos"> 478</span></a><span class="sd">        grad: Provide the diffusion-weighted gradient scheme used in the\</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos"> 479</span></a><span class="sd">            acquisition in a text file. This should be supplied as a 4xN text file\</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos"> 480</span></a><span class="sd">            with each line is in the format [ X Y Z b ], where [ X Y Z ] describe\</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos"> 481</span></a><span class="sd">            the direction of the applied gradient, and b gives the b-value in units\</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos"> 482</span></a><span class="sd">            of s/mm^2. If a diffusion gradient scheme is present in the input image\</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos"> 483</span></a><span class="sd">            header, the data provided with this option will be instead used.</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos"> 484</span></a><span class="sd">        fslgrad: Provide the diffusion-weighted gradient scheme used in the\</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos"> 485</span></a><span class="sd">            acquisition in FSL bvecs/bvals format files. If a diffusion gradient\</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos"> 486</span></a><span class="sd">            scheme is present in the input image header, the data provided with\</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos"> 487</span></a><span class="sd">            this option will be instead used.</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos"> 488</span></a><span class="sd">        export_grad_mrtrix: export the diffusion-weighted gradient table to\</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos"> 489</span></a><span class="sd">            file in MRtrix format.</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos"> 490</span></a><span class="sd">        export_grad_fsl: export the diffusion-weighted gradient table to files\</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos"> 491</span></a><span class="sd">            in FSL (bvecs / bvals) format.</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos"> 492</span></a><span class="sd">        datatype: specify output image data type. Valid choices are: float32,\</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos"> 493</span></a><span class="sd">            float32le, float32be, float64, float64le, float64be, int64, uint64,\</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos"> 494</span></a><span class="sd">            int64le, uint64le, int64be, uint64be, int32, uint32, int32le, uint32le,\</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos"> 495</span></a><span class="sd">            int32be, uint32be, int16, uint16, int16le, uint16le, int16be, uint16be,\</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos"> 496</span></a><span class="sd">            cfloat32, cfloat32le, cfloat32be, cfloat64, cfloat64le, cfloat64be,\</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos"> 497</span></a><span class="sd">            int8, uint8, bit.</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos"> 498</span></a><span class="sd">        strides: specify the strides of the output data in memory; either as a\</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos"> 499</span></a><span class="sd">            comma-separated list of (signed) integers, or as a template image from\</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos"> 500</span></a><span class="sd">            which the strides shall be extracted and used. The actual strides\</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos"> 501</span></a><span class="sd">            produced will depend on whether the output image format can support it.</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos"> 502</span></a><span class="sd">        nan: Use NaN as the out of bounds value (Default: 0.0).</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos"> 503</span></a><span class="sd">        no_reorientation: deprecated, use -reorient_fod instead.</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos"> 504</span></a><span class="sd">        info: display information messages.</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos"> 505</span></a><span class="sd">        quiet: do not display information messages or progress status;\</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos"> 506</span></a><span class="sd">            alternatively, this can be achieved by setting the MRTRIX_QUIET\</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos"> 507</span></a><span class="sd">            environment variable to a non-empty string.</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos"> 508</span></a><span class="sd">        debug: display debugging messages.</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos"> 509</span></a><span class="sd">        force: force overwrite of output files (caution: using the same file as\</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos"> 510</span></a><span class="sd">            input and output might cause unexpected behaviour).</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos"> 511</span></a><span class="sd">        nthreads: use this number of threads in multi-threaded applications\</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos"> 512</span></a><span class="sd">            (set to 0 to disable multi-threading).</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos"> 513</span></a><span class="sd">        config: temporarily set the value of an MRtrix config file entry.</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos"> 514</span></a><span class="sd">        help_: display this information page and exit.</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos"> 515</span></a><span class="sd">        version: display version information and exit.</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos"> 516</span></a><span class="sd">    Returns:</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos"> 517</span></a><span class="sd">        Parameter dictionary</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos"> 518</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos"> 519</span></a>    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos"> 520</span></a>        <span class="s2">&quot;__STYXTYPE__&quot;</span><span class="p">:</span> <span class="s2">&quot;mrtransform&quot;</span><span class="p">,</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos"> 521</span></a>        <span class="s2">&quot;inverse&quot;</span><span class="p">:</span> <span class="n">inverse</span><span class="p">,</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos"> 522</span></a>        <span class="s2">&quot;half&quot;</span><span class="p">:</span> <span class="n">half</span><span class="p">,</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos"> 523</span></a>        <span class="s2">&quot;identity&quot;</span><span class="p">:</span> <span class="n">identity</span><span class="p">,</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos"> 524</span></a>        <span class="s2">&quot;midway_space&quot;</span><span class="p">:</span> <span class="n">midway_space</span><span class="p">,</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos"> 525</span></a>        <span class="s2">&quot;nan&quot;</span><span class="p">:</span> <span class="n">nan</span><span class="p">,</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos"> 526</span></a>        <span class="s2">&quot;no_reorientation&quot;</span><span class="p">:</span> <span class="n">no_reorientation</span><span class="p">,</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos"> 527</span></a>        <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="n">info</span><span class="p">,</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos"> 528</span></a>        <span class="s2">&quot;quiet&quot;</span><span class="p">:</span> <span class="n">quiet</span><span class="p">,</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos"> 529</span></a>        <span class="s2">&quot;debug&quot;</span><span class="p">:</span> <span class="n">debug</span><span class="p">,</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos"> 530</span></a>        <span class="s2">&quot;force&quot;</span><span class="p">:</span> <span class="n">force</span><span class="p">,</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos"> 531</span></a>        <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">help_</span><span class="p">,</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos"> 532</span></a>        <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">version</span><span class="p">,</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos"> 533</span></a>        <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="n">input_</span><span class="p">,</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos"> 534</span></a>        <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="n">output</span><span class="p">,</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos"> 535</span></a>    <span class="p">}</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos"> 536</span></a>    <span class="k">if</span> <span class="n">linear</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos"> 537</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;linear&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">linear</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos"> 538</span></a>    <span class="k">if</span> <span class="n">flip</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos"> 539</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;flip&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">flip</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos"> 540</span></a>    <span class="k">if</span> <span class="n">replace</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos"> 541</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;replace&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">replace</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos"> 542</span></a>    <span class="k">if</span> <span class="n">template</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos"> 543</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;template&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">template</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos"> 544</span></a>    <span class="k">if</span> <span class="n">interp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos"> 545</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;interp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">interp</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos"> 546</span></a>    <span class="k">if</span> <span class="n">oversample</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos"> 547</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;oversample&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">oversample</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos"> 548</span></a>    <span class="k">if</span> <span class="n">warp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos"> 549</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;warp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">warp</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos"> 550</span></a>    <span class="k">if</span> <span class="n">warp_full</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos"> 551</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;warp_full&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">warp_full</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos"> 552</span></a>    <span class="k">if</span> <span class="n">from_</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos"> 553</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;from&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">from_</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos"> 554</span></a>    <span class="k">if</span> <span class="n">modulate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos"> 555</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;modulate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">modulate</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos"> 556</span></a>    <span class="k">if</span> <span class="n">directions</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos"> 557</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;directions&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">directions</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos"> 558</span></a>    <span class="k">if</span> <span class="n">reorient_fod</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos"> 559</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;reorient_fod&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">reorient_fod</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos"> 560</span></a>    <span class="k">if</span> <span class="n">grad</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos"> 561</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;grad&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">grad</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos"> 562</span></a>    <span class="k">if</span> <span class="n">fslgrad</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos"> 563</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;fslgrad&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fslgrad</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos"> 564</span></a>    <span class="k">if</span> <span class="n">export_grad_mrtrix</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos"> 565</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;export_grad_mrtrix&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">export_grad_mrtrix</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos"> 566</span></a>    <span class="k">if</span> <span class="n">export_grad_fsl</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos"> 567</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;export_grad_fsl&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">export_grad_fsl</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos"> 568</span></a>    <span class="k">if</span> <span class="n">datatype</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos"> 569</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;datatype&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datatype</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos"> 570</span></a>    <span class="k">if</span> <span class="n">strides</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos"> 571</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;strides&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">strides</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos"> 572</span></a>    <span class="k">if</span> <span class="n">nthreads</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos"> 573</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;nthreads&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nthreads</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos"> 574</span></a>    <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos"> 575</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;config&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">config</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos"> 576</span></a>    <span class="k">return</span> <span class="n">params</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos"> 577</span></a>
</span><span id="L-578"><a href="#L-578"><span class="linenos"> 578</span></a>
</span><span id="L-579"><a href="#L-579"><span class="linenos"> 579</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_cargs</span><span class="p">(</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos"> 580</span></a>    <span class="n">params</span><span class="p">:</span> <span class="n">MrtransformParameters</span><span class="p">,</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos"> 581</span></a>    <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos"> 582</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos"> 583</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos"> 584</span></a><span class="sd">    Build command-line arguments from parameters.</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos"> 585</span></a><span class="sd">    </span>
</span><span id="L-586"><a href="#L-586"><span class="linenos"> 586</span></a><span class="sd">    Args:</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos"> 587</span></a><span class="sd">        params: The parameters.</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos"> 588</span></a><span class="sd">        execution: The execution object for resolving input paths.</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos"> 589</span></a><span class="sd">    Returns:</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos"> 590</span></a><span class="sd">        Command-line arguments.</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos"> 591</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos"> 592</span></a>    <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos"> 593</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;mrtransform&quot;</span><span class="p">)</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos"> 594</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;linear&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos"> 595</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos"> 596</span></a>            <span class="s2">&quot;-linear&quot;</span><span class="p">,</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos"> 597</span></a>            <span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;linear&quot;</span><span class="p">))</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos"> 598</span></a>        <span class="p">])</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos"> 599</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;flip&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos"> 600</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos"> 601</span></a>            <span class="s2">&quot;-flip&quot;</span><span class="p">,</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos"> 602</span></a>            <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;flip&quot;</span><span class="p">)))</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos"> 603</span></a>        <span class="p">])</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos"> 604</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;inverse&quot;</span><span class="p">):</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos"> 605</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-inverse&quot;</span><span class="p">)</span>
</span><span id="L-606"><a href="#L-606"><span class="linenos"> 606</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;half&quot;</span><span class="p">):</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos"> 607</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-half&quot;</span><span class="p">)</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos"> 608</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;replace&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos"> 609</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos"> 610</span></a>            <span class="s2">&quot;-replace&quot;</span><span class="p">,</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos"> 611</span></a>            <span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;replace&quot;</span><span class="p">))</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos"> 612</span></a>        <span class="p">])</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos"> 613</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;identity&quot;</span><span class="p">):</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos"> 614</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-identity&quot;</span><span class="p">)</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos"> 615</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;template&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos"> 616</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos"> 617</span></a>            <span class="s2">&quot;-template&quot;</span><span class="p">,</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos"> 618</span></a>            <span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;template&quot;</span><span class="p">))</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos"> 619</span></a>        <span class="p">])</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos"> 620</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;midway_space&quot;</span><span class="p">):</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos"> 621</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-midway_space&quot;</span><span class="p">)</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos"> 622</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;interp&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos"> 623</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos"> 624</span></a>            <span class="s2">&quot;-interp&quot;</span><span class="p">,</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos"> 625</span></a>            <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;interp&quot;</span><span class="p">)</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos"> 626</span></a>        <span class="p">])</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos"> 627</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oversample&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos"> 628</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos"> 629</span></a>            <span class="s2">&quot;-oversample&quot;</span><span class="p">,</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos"> 630</span></a>            <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oversample&quot;</span><span class="p">)))</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos"> 631</span></a>        <span class="p">])</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos"> 632</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;warp&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos"> 633</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos"> 634</span></a>            <span class="s2">&quot;-warp&quot;</span><span class="p">,</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos"> 635</span></a>            <span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;warp&quot;</span><span class="p">))</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos"> 636</span></a>        <span class="p">])</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos"> 637</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;warp_full&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos"> 638</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos"> 639</span></a>            <span class="s2">&quot;-warp_full&quot;</span><span class="p">,</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos"> 640</span></a>            <span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;warp_full&quot;</span><span class="p">))</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos"> 641</span></a>        <span class="p">])</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos"> 642</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;from&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos"> 643</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos"> 644</span></a>            <span class="s2">&quot;-from&quot;</span><span class="p">,</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos"> 645</span></a>            <span class="nb">str</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;from&quot;</span><span class="p">))</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos"> 646</span></a>        <span class="p">])</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos"> 647</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;modulate&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos"> 648</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos"> 649</span></a>            <span class="s2">&quot;-modulate&quot;</span><span class="p">,</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos"> 650</span></a>            <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;modulate&quot;</span><span class="p">)</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos"> 651</span></a>        <span class="p">])</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos"> 652</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;directions&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos"> 653</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos"> 654</span></a>            <span class="s2">&quot;-directions&quot;</span><span class="p">,</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos"> 655</span></a>            <span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;directions&quot;</span><span class="p">))</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos"> 656</span></a>        <span class="p">])</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos"> 657</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;reorient_fod&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos"> 658</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos"> 659</span></a>            <span class="s2">&quot;-reorient_fod&quot;</span><span class="p">,</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos"> 660</span></a>            <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;reorient_fod&quot;</span><span class="p">)</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos"> 661</span></a>        <span class="p">])</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos"> 662</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;grad&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-663"><a href="#L-663"><span class="linenos"> 663</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos"> 664</span></a>            <span class="s2">&quot;-grad&quot;</span><span class="p">,</span>
</span><span id="L-665"><a href="#L-665"><span class="linenos"> 665</span></a>            <span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;grad&quot;</span><span class="p">))</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos"> 666</span></a>        <span class="p">])</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos"> 667</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fslgrad&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos"> 668</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">dyn_cargs</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fslgrad&quot;</span><span class="p">)[</span><span class="s2">&quot;__STYXTYPE__&quot;</span><span class="p">])(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fslgrad&quot;</span><span class="p">),</span> <span class="n">execution</span><span class="p">))</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos"> 669</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;export_grad_mrtrix&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos"> 670</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos"> 671</span></a>            <span class="s2">&quot;-export_grad_mrtrix&quot;</span><span class="p">,</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos"> 672</span></a>            <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;export_grad_mrtrix&quot;</span><span class="p">)</span>
</span><span id="L-673"><a href="#L-673"><span class="linenos"> 673</span></a>        <span class="p">])</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos"> 674</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;export_grad_fsl&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos"> 675</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">dyn_cargs</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;export_grad_fsl&quot;</span><span class="p">)[</span><span class="s2">&quot;__STYXTYPE__&quot;</span><span class="p">])(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;export_grad_fsl&quot;</span><span class="p">),</span> <span class="n">execution</span><span class="p">))</span>
</span><span id="L-676"><a href="#L-676"><span class="linenos"> 676</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;datatype&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos"> 677</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos"> 678</span></a>            <span class="s2">&quot;-datatype&quot;</span><span class="p">,</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos"> 679</span></a>            <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;datatype&quot;</span><span class="p">)</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos"> 680</span></a>        <span class="p">])</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos"> 681</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;strides&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-682"><a href="#L-682"><span class="linenos"> 682</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos"> 683</span></a>            <span class="s2">&quot;-strides&quot;</span><span class="p">,</span>
</span><span id="L-684"><a href="#L-684"><span class="linenos"> 684</span></a>            <span class="o">*</span><span class="n">dyn_cargs</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;strides&quot;</span><span class="p">)[</span><span class="s2">&quot;__STYXTYPE__&quot;</span><span class="p">])(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;strides&quot;</span><span class="p">),</span> <span class="n">execution</span><span class="p">)</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos"> 685</span></a>        <span class="p">])</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos"> 686</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nan&quot;</span><span class="p">):</span>
</span><span id="L-687"><a href="#L-687"><span class="linenos"> 687</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-nan&quot;</span><span class="p">)</span>
</span><span id="L-688"><a href="#L-688"><span class="linenos"> 688</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;no_reorientation&quot;</span><span class="p">):</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos"> 689</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-no_reorientation&quot;</span><span class="p">)</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos"> 690</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">):</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos"> 691</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-info&quot;</span><span class="p">)</span>
</span><span id="L-692"><a href="#L-692"><span class="linenos"> 692</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;quiet&quot;</span><span class="p">):</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos"> 693</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-quiet&quot;</span><span class="p">)</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos"> 694</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;debug&quot;</span><span class="p">):</span>
</span><span id="L-695"><a href="#L-695"><span class="linenos"> 695</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-debug&quot;</span><span class="p">)</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos"> 696</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;force&quot;</span><span class="p">):</span>
</span><span id="L-697"><a href="#L-697"><span class="linenos"> 697</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-force&quot;</span><span class="p">)</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos"> 698</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nthreads&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos"> 699</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos"> 700</span></a>            <span class="s2">&quot;-nthreads&quot;</span><span class="p">,</span>
</span><span id="L-701"><a href="#L-701"><span class="linenos"> 701</span></a>            <span class="nb">str</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nthreads&quot;</span><span class="p">))</span>
</span><span id="L-702"><a href="#L-702"><span class="linenos"> 702</span></a>        <span class="p">])</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos"> 703</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;config&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos"> 704</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">a</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="n">dyn_cargs</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="s2">&quot;__STYXTYPE__&quot;</span><span class="p">])(</span><span class="n">s</span><span class="p">,</span> <span class="n">execution</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;config&quot;</span><span class="p">)]</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">c</span><span class="p">])</span>
</span><span id="L-705"><a href="#L-705"><span class="linenos"> 705</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;help&quot;</span><span class="p">):</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos"> 706</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-help&quot;</span><span class="p">)</span>
</span><span id="L-707"><a href="#L-707"><span class="linenos"> 707</span></a>    <span class="k">if</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">):</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos"> 708</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-version&quot;</span><span class="p">)</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos"> 709</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;input&quot;</span><span class="p">)))</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos"> 710</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;output&quot;</span><span class="p">))</span>
</span><span id="L-711"><a href="#L-711"><span class="linenos"> 711</span></a>    <span class="k">return</span> <span class="n">cargs</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos"> 712</span></a>
</span><span id="L-713"><a href="#L-713"><span class="linenos"> 713</span></a>
</span><span id="L-714"><a href="#L-714"><span class="linenos"> 714</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_outputs</span><span class="p">(</span>
</span><span id="L-715"><a href="#L-715"><span class="linenos"> 715</span></a>    <span class="n">params</span><span class="p">:</span> <span class="n">MrtransformParameters</span><span class="p">,</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos"> 716</span></a>    <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos"> 717</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MrtransformOutputs</span><span class="p">:</span>
</span><span id="L-718"><a href="#L-718"><span class="linenos"> 718</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-719"><a href="#L-719"><span class="linenos"> 719</span></a><span class="sd">    Build outputs object containing output file paths and possibly stdout/stderr.</span>
</span><span id="L-720"><a href="#L-720"><span class="linenos"> 720</span></a><span class="sd">    </span>
</span><span id="L-721"><a href="#L-721"><span class="linenos"> 721</span></a><span class="sd">    Args:</span>
</span><span id="L-722"><a href="#L-722"><span class="linenos"> 722</span></a><span class="sd">        params: The parameters.</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos"> 723</span></a><span class="sd">        execution: The execution object for resolving input paths.</span>
</span><span id="L-724"><a href="#L-724"><span class="linenos"> 724</span></a><span class="sd">    Returns:</span>
</span><span id="L-725"><a href="#L-725"><span class="linenos"> 725</span></a><span class="sd">        Outputs object.</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos"> 726</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-727"><a href="#L-727"><span class="linenos"> 727</span></a>    <span class="n">ret</span> <span class="o">=</span> <span class="n">MrtransformOutputs</span><span class="p">(</span>
</span><span id="L-728"><a href="#L-728"><span class="linenos"> 728</span></a>        <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="L-729"><a href="#L-729"><span class="linenos"> 729</span></a>        <span class="n">output</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;output&quot;</span><span class="p">)),</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos"> 730</span></a>        <span class="n">export_grad_mrtrix</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;export_grad_mrtrix&quot;</span><span class="p">))</span> <span class="k">if</span> <span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;export_grad_mrtrix&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos"> 731</span></a>        <span class="n">export_grad_fsl</span><span class="o">=</span><span class="n">dyn_outputs</span><span class="p">(</span><span class="n">export_grad_fsl</span><span class="p">[</span><span class="s2">&quot;__STYXTYPE__&quot;</span><span class="p">])(</span><span class="n">export_grad_fsl</span><span class="p">,</span> <span class="n">execution</span><span class="p">)</span> <span class="k">if</span> <span class="n">export_grad_fsl</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-732"><a href="#L-732"><span class="linenos"> 732</span></a>    <span class="p">)</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos"> 733</span></a>    <span class="k">return</span> <span class="n">ret</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos"> 734</span></a>
</span><span id="L-735"><a href="#L-735"><span class="linenos"> 735</span></a>
</span><span id="L-736"><a href="#L-736"><span class="linenos"> 736</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_execute</span><span class="p">(</span>
</span><span id="L-737"><a href="#L-737"><span class="linenos"> 737</span></a>    <span class="n">params</span><span class="p">:</span> <span class="n">MrtransformParameters</span><span class="p">,</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos"> 738</span></a>    <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-739"><a href="#L-739"><span class="linenos"> 739</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MrtransformOutputs</span><span class="p">:</span>
</span><span id="L-740"><a href="#L-740"><span class="linenos"> 740</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos"> 741</span></a><span class="sd">    Apply spatial transformations to an image.</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos"> 742</span></a><span class="sd">    </span>
</span><span id="L-743"><a href="#L-743"><span class="linenos"> 743</span></a><span class="sd">    If a linear transform is applied without a template image the command will</span>
</span><span id="L-744"><a href="#L-744"><span class="linenos"> 744</span></a><span class="sd">    modify the image header transform matrix</span>
</span><span id="L-745"><a href="#L-745"><span class="linenos"> 745</span></a><span class="sd">    </span>
</span><span id="L-746"><a href="#L-746"><span class="linenos"> 746</span></a><span class="sd">    FOD reorientation (with apodised point spread functions) can be performed if</span>
</span><span id="L-747"><a href="#L-747"><span class="linenos"> 747</span></a><span class="sd">    the number of volumes in the 4th dimension equals the number of coefficients</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos"> 748</span></a><span class="sd">    in an antipodally symmetric spherical harmonic series (e.g. 6, 15, 28 etc).</span>
</span><span id="L-749"><a href="#L-749"><span class="linenos"> 749</span></a><span class="sd">    For such data, the -reorient_fod yes/no option must be used to specify if</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos"> 750</span></a><span class="sd">    reorientation is required.</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos"> 751</span></a><span class="sd">    </span>
</span><span id="L-752"><a href="#L-752"><span class="linenos"> 752</span></a><span class="sd">    The output image intensity can be modulated using the (local or global)</span>
</span><span id="L-753"><a href="#L-753"><span class="linenos"> 753</span></a><span class="sd">    volume change if a linear or nonlinear transformation is applied. &#39;FOD&#39;</span>
</span><span id="L-754"><a href="#L-754"><span class="linenos"> 754</span></a><span class="sd">    modulation preserves the apparent fibre density across the fibre bundle</span>
</span><span id="L-755"><a href="#L-755"><span class="linenos"> 755</span></a><span class="sd">    width and can only be applied if FOD reorientation is used. Alternatively,</span>
</span><span id="L-756"><a href="#L-756"><span class="linenos"> 756</span></a><span class="sd">    non-directional scaling by the Jacobian determinant can be applied to any</span>
</span><span id="L-757"><a href="#L-757"><span class="linenos"> 757</span></a><span class="sd">    image type.</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos"> 758</span></a><span class="sd">    </span>
</span><span id="L-759"><a href="#L-759"><span class="linenos"> 759</span></a><span class="sd">    If a DW scheme is contained in the header (or specified separately), and the</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos"> 760</span></a><span class="sd">    number of directions matches the number of volumes in the images, any</span>
</span><span id="L-761"><a href="#L-761"><span class="linenos"> 761</span></a><span class="sd">    transformation applied using the -linear option will also be applied to the</span>
</span><span id="L-762"><a href="#L-762"><span class="linenos"> 762</span></a><span class="sd">    directions.</span>
</span><span id="L-763"><a href="#L-763"><span class="linenos"> 763</span></a><span class="sd">    </span>
</span><span id="L-764"><a href="#L-764"><span class="linenos"> 764</span></a><span class="sd">    When the -template option is used to specify the target image grid, the</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos"> 765</span></a><span class="sd">    image provided via this option will not influence the axis data strides of</span>
</span><span id="L-766"><a href="#L-766"><span class="linenos"> 766</span></a><span class="sd">    the output image; these are determined based on the input image, or the</span>
</span><span id="L-767"><a href="#L-767"><span class="linenos"> 767</span></a><span class="sd">    input to the -strides option.</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos"> 768</span></a><span class="sd">    </span>
</span><span id="L-769"><a href="#L-769"><span class="linenos"> 769</span></a><span class="sd">    References:</span>
</span><span id="L-770"><a href="#L-770"><span class="linenos"> 770</span></a><span class="sd">    </span>
</span><span id="L-771"><a href="#L-771"><span class="linenos"> 771</span></a><span class="sd">    * If FOD reorientation is being performed:</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos"> 772</span></a><span class="sd">    Raffelt, D.; Tournier, J.-D.; Crozier, S.; Connelly, A. &amp; Salvado, O.</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos"> 773</span></a><span class="sd">    Reorientation of fiber orientation distributions using apodized point spread</span>
</span><span id="L-774"><a href="#L-774"><span class="linenos"> 774</span></a><span class="sd">    functions. Magnetic Resonance in Medicine, 2012, 67, 844-855</span>
</span><span id="L-775"><a href="#L-775"><span class="linenos"> 775</span></a><span class="sd">    </span>
</span><span id="L-776"><a href="#L-776"><span class="linenos"> 776</span></a><span class="sd">    * If FOD modulation is being performed:</span>
</span><span id="L-777"><a href="#L-777"><span class="linenos"> 777</span></a><span class="sd">    Raffelt, D.; Tournier, J.-D.; Rose, S.; Ridgway, G.R.; Henderson, R.;</span>
</span><span id="L-778"><a href="#L-778"><span class="linenos"> 778</span></a><span class="sd">    Crozier, S.; Salvado, O.; Connelly, A.; Apparent Fibre Density: a novel</span>
</span><span id="L-779"><a href="#L-779"><span class="linenos"> 779</span></a><span class="sd">    measure for the analysis of diffusion-weighted magnetic resonance images.</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos"> 780</span></a><span class="sd">    NeuroImage, 2012, 15;59(4), 3976-94.</span>
</span><span id="L-781"><a href="#L-781"><span class="linenos"> 781</span></a><span class="sd">    </span>
</span><span id="L-782"><a href="#L-782"><span class="linenos"> 782</span></a><span class="sd">    Author: MRTrix3 Developers</span>
</span><span id="L-783"><a href="#L-783"><span class="linenos"> 783</span></a><span class="sd">    </span>
</span><span id="L-784"><a href="#L-784"><span class="linenos"> 784</span></a><span class="sd">    URL: https://www.mrtrix.org/</span>
</span><span id="L-785"><a href="#L-785"><span class="linenos"> 785</span></a><span class="sd">    </span>
</span><span id="L-786"><a href="#L-786"><span class="linenos"> 786</span></a><span class="sd">    Args:</span>
</span><span id="L-787"><a href="#L-787"><span class="linenos"> 787</span></a><span class="sd">        params: The parameters.</span>
</span><span id="L-788"><a href="#L-788"><span class="linenos"> 788</span></a><span class="sd">        execution: The execution object.</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos"> 789</span></a><span class="sd">    Returns:</span>
</span><span id="L-790"><a href="#L-790"><span class="linenos"> 790</span></a><span class="sd">        NamedTuple of outputs (described in `MrtransformOutputs`).</span>
</span><span id="L-791"><a href="#L-791"><span class="linenos"> 791</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-792"><a href="#L-792"><span class="linenos"> 792</span></a>    <span class="c1"># validate constraint checks (or after middlewares?)</span>
</span><span id="L-793"><a href="#L-793"><span class="linenos"> 793</span></a>    <span class="n">cargs</span> <span class="o">=</span> <span class="n">mrtransform_cargs</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">execution</span><span class="p">)</span>
</span><span id="L-794"><a href="#L-794"><span class="linenos"> 794</span></a>    <span class="n">ret</span> <span class="o">=</span> <span class="n">mrtransform_outputs</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">execution</span><span class="p">)</span>
</span><span id="L-795"><a href="#L-795"><span class="linenos"> 795</span></a>    <span class="n">execution</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">cargs</span><span class="p">)</span>
</span><span id="L-796"><a href="#L-796"><span class="linenos"> 796</span></a>    <span class="k">return</span> <span class="n">ret</span>
</span><span id="L-797"><a href="#L-797"><span class="linenos"> 797</span></a>
</span><span id="L-798"><a href="#L-798"><span class="linenos"> 798</span></a>
</span><span id="L-799"><a href="#L-799"><span class="linenos"> 799</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform</span><span class="p">(</span>
</span><span id="L-800"><a href="#L-800"><span class="linenos"> 800</span></a>    <span class="n">input_</span><span class="p">:</span> <span class="n">InputPathType</span><span class="p">,</span>
</span><span id="L-801"><a href="#L-801"><span class="linenos"> 801</span></a>    <span class="n">output</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-802"><a href="#L-802"><span class="linenos"> 802</span></a>    <span class="n">linear</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-803"><a href="#L-803"><span class="linenos"> 803</span></a>    <span class="n">flip</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos"> 804</span></a>    <span class="n">inverse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-805"><a href="#L-805"><span class="linenos"> 805</span></a>    <span class="n">half</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-806"><a href="#L-806"><span class="linenos"> 806</span></a>    <span class="n">replace</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-807"><a href="#L-807"><span class="linenos"> 807</span></a>    <span class="n">identity</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos"> 808</span></a>    <span class="n">template</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-809"><a href="#L-809"><span class="linenos"> 809</span></a>    <span class="n">midway_space</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-810"><a href="#L-810"><span class="linenos"> 810</span></a>    <span class="n">interp</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-811"><a href="#L-811"><span class="linenos"> 811</span></a>    <span class="n">oversample</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-812"><a href="#L-812"><span class="linenos"> 812</span></a>    <span class="n">warp</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-813"><a href="#L-813"><span class="linenos"> 813</span></a>    <span class="n">warp_full</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-814"><a href="#L-814"><span class="linenos"> 814</span></a>    <span class="n">from_</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-815"><a href="#L-815"><span class="linenos"> 815</span></a>    <span class="n">modulate</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-816"><a href="#L-816"><span class="linenos"> 816</span></a>    <span class="n">directions</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-817"><a href="#L-817"><span class="linenos"> 817</span></a>    <span class="n">reorient_fod</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-818"><a href="#L-818"><span class="linenos"> 818</span></a>    <span class="n">grad</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-819"><a href="#L-819"><span class="linenos"> 819</span></a>    <span class="n">fslgrad</span><span class="p">:</span> <span class="n">MrtransformFslgradParameters</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-820"><a href="#L-820"><span class="linenos"> 820</span></a>    <span class="n">export_grad_mrtrix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-821"><a href="#L-821"><span class="linenos"> 821</span></a>    <span class="n">export_grad_fsl</span><span class="p">:</span> <span class="n">MrtransformExportGradFslParameters</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-822"><a href="#L-822"><span class="linenos"> 822</span></a>    <span class="n">datatype</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-823"><a href="#L-823"><span class="linenos"> 823</span></a>    <span class="n">strides</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">MrtransformVariousStringParameters</span><span class="p">,</span> <span class="n">MrtransformVariousFileParameters</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-824"><a href="#L-824"><span class="linenos"> 824</span></a>    <span class="n">nan</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-825"><a href="#L-825"><span class="linenos"> 825</span></a>    <span class="n">no_reorientation</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-826"><a href="#L-826"><span class="linenos"> 826</span></a>    <span class="n">info</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-827"><a href="#L-827"><span class="linenos"> 827</span></a>    <span class="n">quiet</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-828"><a href="#L-828"><span class="linenos"> 828</span></a>    <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-829"><a href="#L-829"><span class="linenos"> 829</span></a>    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-830"><a href="#L-830"><span class="linenos"> 830</span></a>    <span class="n">nthreads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-831"><a href="#L-831"><span class="linenos"> 831</span></a>    <span class="n">config</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">MrtransformConfigParameters</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-832"><a href="#L-832"><span class="linenos"> 832</span></a>    <span class="n">help_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-833"><a href="#L-833"><span class="linenos"> 833</span></a>    <span class="n">version</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-834"><a href="#L-834"><span class="linenos"> 834</span></a>    <span class="n">runner</span><span class="p">:</span> <span class="n">Runner</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-835"><a href="#L-835"><span class="linenos"> 835</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MrtransformOutputs</span><span class="p">:</span>
</span><span id="L-836"><a href="#L-836"><span class="linenos"> 836</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-837"><a href="#L-837"><span class="linenos"> 837</span></a><span class="sd">    Apply spatial transformations to an image.</span>
</span><span id="L-838"><a href="#L-838"><span class="linenos"> 838</span></a><span class="sd">    </span>
</span><span id="L-839"><a href="#L-839"><span class="linenos"> 839</span></a><span class="sd">    If a linear transform is applied without a template image the command will</span>
</span><span id="L-840"><a href="#L-840"><span class="linenos"> 840</span></a><span class="sd">    modify the image header transform matrix</span>
</span><span id="L-841"><a href="#L-841"><span class="linenos"> 841</span></a><span class="sd">    </span>
</span><span id="L-842"><a href="#L-842"><span class="linenos"> 842</span></a><span class="sd">    FOD reorientation (with apodised point spread functions) can be performed if</span>
</span><span id="L-843"><a href="#L-843"><span class="linenos"> 843</span></a><span class="sd">    the number of volumes in the 4th dimension equals the number of coefficients</span>
</span><span id="L-844"><a href="#L-844"><span class="linenos"> 844</span></a><span class="sd">    in an antipodally symmetric spherical harmonic series (e.g. 6, 15, 28 etc).</span>
</span><span id="L-845"><a href="#L-845"><span class="linenos"> 845</span></a><span class="sd">    For such data, the -reorient_fod yes/no option must be used to specify if</span>
</span><span id="L-846"><a href="#L-846"><span class="linenos"> 846</span></a><span class="sd">    reorientation is required.</span>
</span><span id="L-847"><a href="#L-847"><span class="linenos"> 847</span></a><span class="sd">    </span>
</span><span id="L-848"><a href="#L-848"><span class="linenos"> 848</span></a><span class="sd">    The output image intensity can be modulated using the (local or global)</span>
</span><span id="L-849"><a href="#L-849"><span class="linenos"> 849</span></a><span class="sd">    volume change if a linear or nonlinear transformation is applied. &#39;FOD&#39;</span>
</span><span id="L-850"><a href="#L-850"><span class="linenos"> 850</span></a><span class="sd">    modulation preserves the apparent fibre density across the fibre bundle</span>
</span><span id="L-851"><a href="#L-851"><span class="linenos"> 851</span></a><span class="sd">    width and can only be applied if FOD reorientation is used. Alternatively,</span>
</span><span id="L-852"><a href="#L-852"><span class="linenos"> 852</span></a><span class="sd">    non-directional scaling by the Jacobian determinant can be applied to any</span>
</span><span id="L-853"><a href="#L-853"><span class="linenos"> 853</span></a><span class="sd">    image type.</span>
</span><span id="L-854"><a href="#L-854"><span class="linenos"> 854</span></a><span class="sd">    </span>
</span><span id="L-855"><a href="#L-855"><span class="linenos"> 855</span></a><span class="sd">    If a DW scheme is contained in the header (or specified separately), and the</span>
</span><span id="L-856"><a href="#L-856"><span class="linenos"> 856</span></a><span class="sd">    number of directions matches the number of volumes in the images, any</span>
</span><span id="L-857"><a href="#L-857"><span class="linenos"> 857</span></a><span class="sd">    transformation applied using the -linear option will also be applied to the</span>
</span><span id="L-858"><a href="#L-858"><span class="linenos"> 858</span></a><span class="sd">    directions.</span>
</span><span id="L-859"><a href="#L-859"><span class="linenos"> 859</span></a><span class="sd">    </span>
</span><span id="L-860"><a href="#L-860"><span class="linenos"> 860</span></a><span class="sd">    When the -template option is used to specify the target image grid, the</span>
</span><span id="L-861"><a href="#L-861"><span class="linenos"> 861</span></a><span class="sd">    image provided via this option will not influence the axis data strides of</span>
</span><span id="L-862"><a href="#L-862"><span class="linenos"> 862</span></a><span class="sd">    the output image; these are determined based on the input image, or the</span>
</span><span id="L-863"><a href="#L-863"><span class="linenos"> 863</span></a><span class="sd">    input to the -strides option.</span>
</span><span id="L-864"><a href="#L-864"><span class="linenos"> 864</span></a><span class="sd">    </span>
</span><span id="L-865"><a href="#L-865"><span class="linenos"> 865</span></a><span class="sd">    References:</span>
</span><span id="L-866"><a href="#L-866"><span class="linenos"> 866</span></a><span class="sd">    </span>
</span><span id="L-867"><a href="#L-867"><span class="linenos"> 867</span></a><span class="sd">    * If FOD reorientation is being performed:</span>
</span><span id="L-868"><a href="#L-868"><span class="linenos"> 868</span></a><span class="sd">    Raffelt, D.; Tournier, J.-D.; Crozier, S.; Connelly, A. &amp; Salvado, O.</span>
</span><span id="L-869"><a href="#L-869"><span class="linenos"> 869</span></a><span class="sd">    Reorientation of fiber orientation distributions using apodized point spread</span>
</span><span id="L-870"><a href="#L-870"><span class="linenos"> 870</span></a><span class="sd">    functions. Magnetic Resonance in Medicine, 2012, 67, 844-855</span>
</span><span id="L-871"><a href="#L-871"><span class="linenos"> 871</span></a><span class="sd">    </span>
</span><span id="L-872"><a href="#L-872"><span class="linenos"> 872</span></a><span class="sd">    * If FOD modulation is being performed:</span>
</span><span id="L-873"><a href="#L-873"><span class="linenos"> 873</span></a><span class="sd">    Raffelt, D.; Tournier, J.-D.; Rose, S.; Ridgway, G.R.; Henderson, R.;</span>
</span><span id="L-874"><a href="#L-874"><span class="linenos"> 874</span></a><span class="sd">    Crozier, S.; Salvado, O.; Connelly, A.; Apparent Fibre Density: a novel</span>
</span><span id="L-875"><a href="#L-875"><span class="linenos"> 875</span></a><span class="sd">    measure for the analysis of diffusion-weighted magnetic resonance images.</span>
</span><span id="L-876"><a href="#L-876"><span class="linenos"> 876</span></a><span class="sd">    NeuroImage, 2012, 15;59(4), 3976-94.</span>
</span><span id="L-877"><a href="#L-877"><span class="linenos"> 877</span></a><span class="sd">    </span>
</span><span id="L-878"><a href="#L-878"><span class="linenos"> 878</span></a><span class="sd">    Author: MRTrix3 Developers</span>
</span><span id="L-879"><a href="#L-879"><span class="linenos"> 879</span></a><span class="sd">    </span>
</span><span id="L-880"><a href="#L-880"><span class="linenos"> 880</span></a><span class="sd">    URL: https://www.mrtrix.org/</span>
</span><span id="L-881"><a href="#L-881"><span class="linenos"> 881</span></a><span class="sd">    </span>
</span><span id="L-882"><a href="#L-882"><span class="linenos"> 882</span></a><span class="sd">    Args:</span>
</span><span id="L-883"><a href="#L-883"><span class="linenos"> 883</span></a><span class="sd">        input_: input image to be transformed.</span>
</span><span id="L-884"><a href="#L-884"><span class="linenos"> 884</span></a><span class="sd">        output: the output image.</span>
</span><span id="L-885"><a href="#L-885"><span class="linenos"> 885</span></a><span class="sd">        linear: specify a linear transform to apply, in the form of a 3x4 or\</span>
</span><span id="L-886"><a href="#L-886"><span class="linenos"> 886</span></a><span class="sd">            4x4 ascii file. Note the standard &#39;reverse&#39; convention is used, where\</span>
</span><span id="L-887"><a href="#L-887"><span class="linenos"> 887</span></a><span class="sd">            the transform maps points in the template image to the moving image.\</span>
</span><span id="L-888"><a href="#L-888"><span class="linenos"> 888</span></a><span class="sd">            Note that the reverse convention is still assumed even if no -template\</span>
</span><span id="L-889"><a href="#L-889"><span class="linenos"> 889</span></a><span class="sd">            image is supplied.</span>
</span><span id="L-890"><a href="#L-890"><span class="linenos"> 890</span></a><span class="sd">        flip: flip the specified axes, provided as a comma-separated list of\</span>
</span><span id="L-891"><a href="#L-891"><span class="linenos"> 891</span></a><span class="sd">            indices (0:x, 1:y, 2:z).</span>
</span><span id="L-892"><a href="#L-892"><span class="linenos"> 892</span></a><span class="sd">        inverse: apply the inverse transformation.</span>
</span><span id="L-893"><a href="#L-893"><span class="linenos"> 893</span></a><span class="sd">        half: apply the matrix square root of the transformation. This can be\</span>
</span><span id="L-894"><a href="#L-894"><span class="linenos"> 894</span></a><span class="sd">            combined with the inverse option.</span>
</span><span id="L-895"><a href="#L-895"><span class="linenos"> 895</span></a><span class="sd">        replace: replace the linear transform of the original image by that\</span>
</span><span id="L-896"><a href="#L-896"><span class="linenos"> 896</span></a><span class="sd">            specified, rather than applying it to the original image. The specified\</span>
</span><span id="L-897"><a href="#L-897"><span class="linenos"> 897</span></a><span class="sd">            transform can be either a template image, or a 3x4 or 4x4 ascii file.</span>
</span><span id="L-898"><a href="#L-898"><span class="linenos"> 898</span></a><span class="sd">        identity: set the header transform of the image to the identity matrix.</span>
</span><span id="L-899"><a href="#L-899"><span class="linenos"> 899</span></a><span class="sd">        template: reslice the input image to match the specified template image\</span>
</span><span id="L-900"><a href="#L-900"><span class="linenos"> 900</span></a><span class="sd">            grid.</span>
</span><span id="L-901"><a href="#L-901"><span class="linenos"> 901</span></a><span class="sd">        midway_space: reslice the input image to the midway space. Requires\</span>
</span><span id="L-902"><a href="#L-902"><span class="linenos"> 902</span></a><span class="sd">            either the -template or -warp option. If used with -template and\</span>
</span><span id="L-903"><a href="#L-903"><span class="linenos"> 903</span></a><span class="sd">            -linear option the input image will be resliced onto the grid halfway\</span>
</span><span id="L-904"><a href="#L-904"><span class="linenos"> 904</span></a><span class="sd">            between the input and template. If used with the -warp option the input\</span>
</span><span id="L-905"><a href="#L-905"><span class="linenos"> 905</span></a><span class="sd">            will be warped to the midway space defined by the grid of the input\</span>
</span><span id="L-906"><a href="#L-906"><span class="linenos"> 906</span></a><span class="sd">            warp (i.e. half way between image1 and image2).</span>
</span><span id="L-907"><a href="#L-907"><span class="linenos"> 907</span></a><span class="sd">        interp: set the interpolation method to use when reslicing (choices:\</span>
</span><span id="L-908"><a href="#L-908"><span class="linenos"> 908</span></a><span class="sd">            nearest, linear, cubic, sinc. Default: cubic).</span>
</span><span id="L-909"><a href="#L-909"><span class="linenos"> 909</span></a><span class="sd">        oversample: set the amount of over-sampling (in the target space) to\</span>
</span><span id="L-910"><a href="#L-910"><span class="linenos"> 910</span></a><span class="sd">            perform when regridding. This is particularly relevant when downsamping\</span>
</span><span id="L-911"><a href="#L-911"><span class="linenos"> 911</span></a><span class="sd">            a high-resolution image to a low-resolution image, to avoid aliasing\</span>
</span><span id="L-912"><a href="#L-912"><span class="linenos"> 912</span></a><span class="sd">            artefacts. This can consist of a single integer, or a comma-separated\</span>
</span><span id="L-913"><a href="#L-913"><span class="linenos"> 913</span></a><span class="sd">            list of 3 integers if different oversampling factors are desired along\</span>
</span><span id="L-914"><a href="#L-914"><span class="linenos"> 914</span></a><span class="sd">            the different axes. Default is determined from ratio of voxel\</span>
</span><span id="L-915"><a href="#L-915"><span class="linenos"> 915</span></a><span class="sd">            dimensions (disabled for nearest-neighbour interpolation).</span>
</span><span id="L-916"><a href="#L-916"><span class="linenos"> 916</span></a><span class="sd">        warp: apply a non-linear 4D deformation field to warp the input image.\</span>
</span><span id="L-917"><a href="#L-917"><span class="linenos"> 917</span></a><span class="sd">            Each voxel in the deformation field must define the scanner space\</span>
</span><span id="L-918"><a href="#L-918"><span class="linenos"> 918</span></a><span class="sd">            position that will be used to interpolate the input image during\</span>
</span><span id="L-919"><a href="#L-919"><span class="linenos"> 919</span></a><span class="sd">            warping (i.e. pull-back/reverse warp convention). If the -template\</span>
</span><span id="L-920"><a href="#L-920"><span class="linenos"> 920</span></a><span class="sd">            image is also supplied the deformation field will be resliced first to\</span>
</span><span id="L-921"><a href="#L-921"><span class="linenos"> 921</span></a><span class="sd">            the template image grid. If no -template option is supplied then the\</span>
</span><span id="L-922"><a href="#L-922"><span class="linenos"> 922</span></a><span class="sd">            output image will have the same image grid as the deformation field.\</span>
</span><span id="L-923"><a href="#L-923"><span class="linenos"> 923</span></a><span class="sd">            This option can be used in combination with the -affine option, in\</span>
</span><span id="L-924"><a href="#L-924"><span class="linenos"> 924</span></a><span class="sd">            which case the affine will be applied first).</span>
</span><span id="L-925"><a href="#L-925"><span class="linenos"> 925</span></a><span class="sd">        warp_full: warp the input image using a 5D warp file output from\</span>
</span><span id="L-926"><a href="#L-926"><span class="linenos"> 926</span></a><span class="sd">            mrregister. Any linear transforms in the warp image header will also be\</span>
</span><span id="L-927"><a href="#L-927"><span class="linenos"> 927</span></a><span class="sd">            applied. The -warp_full option must be used in combination with either\</span>
</span><span id="L-928"><a href="#L-928"><span class="linenos"> 928</span></a><span class="sd">            the -template option or the -midway_space option. If a -template image\</span>
</span><span id="L-929"><a href="#L-929"><span class="linenos"> 929</span></a><span class="sd">            is supplied then the full warp will be used. By default the\</span>
</span><span id="L-930"><a href="#L-930"><span class="linenos"> 930</span></a><span class="sd">            image1-&gt;image2 transform will be applied, however the -from 2 option\</span>
</span><span id="L-931"><a href="#L-931"><span class="linenos"> 931</span></a><span class="sd">            can be used to apply the image2-&gt;image1 transform. Use the\</span>
</span><span id="L-932"><a href="#L-932"><span class="linenos"> 932</span></a><span class="sd">            -midway_space option to warp the input image to the midway space. The\</span>
</span><span id="L-933"><a href="#L-933"><span class="linenos"> 933</span></a><span class="sd">            -from option can also be used to define which warp to use when\</span>
</span><span id="L-934"><a href="#L-934"><span class="linenos"> 934</span></a><span class="sd">            transforming to midway space.</span>
</span><span id="L-935"><a href="#L-935"><span class="linenos"> 935</span></a><span class="sd">        from_: used to define which space the input image is when using the\</span>
</span><span id="L-936"><a href="#L-936"><span class="linenos"> 936</span></a><span class="sd">            -warp_mid option. Use -from 1 to warp from image1 or -from 2 to warp\</span>
</span><span id="L-937"><a href="#L-937"><span class="linenos"> 937</span></a><span class="sd">            from image2.</span>
</span><span id="L-938"><a href="#L-938"><span class="linenos"> 938</span></a><span class="sd">        modulate: Valid choices are: fod and jac.\</span>
</span><span id="L-939"><a href="#L-939"><span class="linenos"> 939</span></a><span class="sd">            fod: modulate FODs during reorientation to preserve the apparent\</span>
</span><span id="L-940"><a href="#L-940"><span class="linenos"> 940</span></a><span class="sd">            fibre density across fibre bundle widths before and after the\</span>
</span><span id="L-941"><a href="#L-941"><span class="linenos"> 941</span></a><span class="sd">            transformation.\</span>
</span><span id="L-942"><a href="#L-942"><span class="linenos"> 942</span></a><span class="sd">            jac: modulate the image intensity with the determinant of the\</span>
</span><span id="L-943"><a href="#L-943"><span class="linenos"> 943</span></a><span class="sd">            Jacobian of the warp of linear transformation to preserve the total\</span>
</span><span id="L-944"><a href="#L-944"><span class="linenos"> 944</span></a><span class="sd">            intensity before and after the transformation.</span>
</span><span id="L-945"><a href="#L-945"><span class="linenos"> 945</span></a><span class="sd">        directions: directions defining the number and orientation of the\</span>
</span><span id="L-946"><a href="#L-946"><span class="linenos"> 946</span></a><span class="sd">            apodised point spread functions used in FOD reorientation (Default: 300\</span>
</span><span id="L-947"><a href="#L-947"><span class="linenos"> 947</span></a><span class="sd">            directions).</span>
</span><span id="L-948"><a href="#L-948"><span class="linenos"> 948</span></a><span class="sd">        reorient_fod: specify whether to perform FOD reorientation. This is\</span>
</span><span id="L-949"><a href="#L-949"><span class="linenos"> 949</span></a><span class="sd">            required if the number of volumes in the 4th dimension corresponds to\</span>
</span><span id="L-950"><a href="#L-950"><span class="linenos"> 950</span></a><span class="sd">            the number of coefficients in an antipodally symmetric spherical\</span>
</span><span id="L-951"><a href="#L-951"><span class="linenos"> 951</span></a><span class="sd">            harmonic series with lmax &gt;= 2 (i.e. 6, 15, 28, 45, 66 volumes).</span>
</span><span id="L-952"><a href="#L-952"><span class="linenos"> 952</span></a><span class="sd">        grad: Provide the diffusion-weighted gradient scheme used in the\</span>
</span><span id="L-953"><a href="#L-953"><span class="linenos"> 953</span></a><span class="sd">            acquisition in a text file. This should be supplied as a 4xN text file\</span>
</span><span id="L-954"><a href="#L-954"><span class="linenos"> 954</span></a><span class="sd">            with each line is in the format [ X Y Z b ], where [ X Y Z ] describe\</span>
</span><span id="L-955"><a href="#L-955"><span class="linenos"> 955</span></a><span class="sd">            the direction of the applied gradient, and b gives the b-value in units\</span>
</span><span id="L-956"><a href="#L-956"><span class="linenos"> 956</span></a><span class="sd">            of s/mm^2. If a diffusion gradient scheme is present in the input image\</span>
</span><span id="L-957"><a href="#L-957"><span class="linenos"> 957</span></a><span class="sd">            header, the data provided with this option will be instead used.</span>
</span><span id="L-958"><a href="#L-958"><span class="linenos"> 958</span></a><span class="sd">        fslgrad: Provide the diffusion-weighted gradient scheme used in the\</span>
</span><span id="L-959"><a href="#L-959"><span class="linenos"> 959</span></a><span class="sd">            acquisition in FSL bvecs/bvals format files. If a diffusion gradient\</span>
</span><span id="L-960"><a href="#L-960"><span class="linenos"> 960</span></a><span class="sd">            scheme is present in the input image header, the data provided with\</span>
</span><span id="L-961"><a href="#L-961"><span class="linenos"> 961</span></a><span class="sd">            this option will be instead used.</span>
</span><span id="L-962"><a href="#L-962"><span class="linenos"> 962</span></a><span class="sd">        export_grad_mrtrix: export the diffusion-weighted gradient table to\</span>
</span><span id="L-963"><a href="#L-963"><span class="linenos"> 963</span></a><span class="sd">            file in MRtrix format.</span>
</span><span id="L-964"><a href="#L-964"><span class="linenos"> 964</span></a><span class="sd">        export_grad_fsl: export the diffusion-weighted gradient table to files\</span>
</span><span id="L-965"><a href="#L-965"><span class="linenos"> 965</span></a><span class="sd">            in FSL (bvecs / bvals) format.</span>
</span><span id="L-966"><a href="#L-966"><span class="linenos"> 966</span></a><span class="sd">        datatype: specify output image data type. Valid choices are: float32,\</span>
</span><span id="L-967"><a href="#L-967"><span class="linenos"> 967</span></a><span class="sd">            float32le, float32be, float64, float64le, float64be, int64, uint64,\</span>
</span><span id="L-968"><a href="#L-968"><span class="linenos"> 968</span></a><span class="sd">            int64le, uint64le, int64be, uint64be, int32, uint32, int32le, uint32le,\</span>
</span><span id="L-969"><a href="#L-969"><span class="linenos"> 969</span></a><span class="sd">            int32be, uint32be, int16, uint16, int16le, uint16le, int16be, uint16be,\</span>
</span><span id="L-970"><a href="#L-970"><span class="linenos"> 970</span></a><span class="sd">            cfloat32, cfloat32le, cfloat32be, cfloat64, cfloat64le, cfloat64be,\</span>
</span><span id="L-971"><a href="#L-971"><span class="linenos"> 971</span></a><span class="sd">            int8, uint8, bit.</span>
</span><span id="L-972"><a href="#L-972"><span class="linenos"> 972</span></a><span class="sd">        strides: specify the strides of the output data in memory; either as a\</span>
</span><span id="L-973"><a href="#L-973"><span class="linenos"> 973</span></a><span class="sd">            comma-separated list of (signed) integers, or as a template image from\</span>
</span><span id="L-974"><a href="#L-974"><span class="linenos"> 974</span></a><span class="sd">            which the strides shall be extracted and used. The actual strides\</span>
</span><span id="L-975"><a href="#L-975"><span class="linenos"> 975</span></a><span class="sd">            produced will depend on whether the output image format can support it.</span>
</span><span id="L-976"><a href="#L-976"><span class="linenos"> 976</span></a><span class="sd">        nan: Use NaN as the out of bounds value (Default: 0.0).</span>
</span><span id="L-977"><a href="#L-977"><span class="linenos"> 977</span></a><span class="sd">        no_reorientation: deprecated, use -reorient_fod instead.</span>
</span><span id="L-978"><a href="#L-978"><span class="linenos"> 978</span></a><span class="sd">        info: display information messages.</span>
</span><span id="L-979"><a href="#L-979"><span class="linenos"> 979</span></a><span class="sd">        quiet: do not display information messages or progress status;\</span>
</span><span id="L-980"><a href="#L-980"><span class="linenos"> 980</span></a><span class="sd">            alternatively, this can be achieved by setting the MRTRIX_QUIET\</span>
</span><span id="L-981"><a href="#L-981"><span class="linenos"> 981</span></a><span class="sd">            environment variable to a non-empty string.</span>
</span><span id="L-982"><a href="#L-982"><span class="linenos"> 982</span></a><span class="sd">        debug: display debugging messages.</span>
</span><span id="L-983"><a href="#L-983"><span class="linenos"> 983</span></a><span class="sd">        force: force overwrite of output files (caution: using the same file as\</span>
</span><span id="L-984"><a href="#L-984"><span class="linenos"> 984</span></a><span class="sd">            input and output might cause unexpected behaviour).</span>
</span><span id="L-985"><a href="#L-985"><span class="linenos"> 985</span></a><span class="sd">        nthreads: use this number of threads in multi-threaded applications\</span>
</span><span id="L-986"><a href="#L-986"><span class="linenos"> 986</span></a><span class="sd">            (set to 0 to disable multi-threading).</span>
</span><span id="L-987"><a href="#L-987"><span class="linenos"> 987</span></a><span class="sd">        config: temporarily set the value of an MRtrix config file entry.</span>
</span><span id="L-988"><a href="#L-988"><span class="linenos"> 988</span></a><span class="sd">        help_: display this information page and exit.</span>
</span><span id="L-989"><a href="#L-989"><span class="linenos"> 989</span></a><span class="sd">        version: display version information and exit.</span>
</span><span id="L-990"><a href="#L-990"><span class="linenos"> 990</span></a><span class="sd">        runner: Command runner.</span>
</span><span id="L-991"><a href="#L-991"><span class="linenos"> 991</span></a><span class="sd">    Returns:</span>
</span><span id="L-992"><a href="#L-992"><span class="linenos"> 992</span></a><span class="sd">        NamedTuple of outputs (described in `MrtransformOutputs`).</span>
</span><span id="L-993"><a href="#L-993"><span class="linenos"> 993</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-994"><a href="#L-994"><span class="linenos"> 994</span></a>    <span class="n">runner</span> <span class="o">=</span> <span class="n">runner</span> <span class="ow">or</span> <span class="n">get_global_runner</span><span class="p">()</span>
</span><span id="L-995"><a href="#L-995"><span class="linenos"> 995</span></a>    <span class="n">execution</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">start_execution</span><span class="p">(</span><span class="n">MRTRANSFORM_METADATA</span><span class="p">)</span>
</span><span id="L-996"><a href="#L-996"><span class="linenos"> 996</span></a>    <span class="n">params</span> <span class="o">=</span> <span class="n">mrtransform_params</span><span class="p">(</span><span class="n">linear</span><span class="o">=</span><span class="n">linear</span><span class="p">,</span> <span class="n">flip</span><span class="o">=</span><span class="n">flip</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="n">inverse</span><span class="p">,</span> <span class="n">half</span><span class="o">=</span><span class="n">half</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="n">replace</span><span class="p">,</span> <span class="n">identity</span><span class="o">=</span><span class="n">identity</span><span class="p">,</span> <span class="n">template</span><span class="o">=</span><span class="n">template</span><span class="p">,</span> <span class="n">midway_space</span><span class="o">=</span><span class="n">midway_space</span><span class="p">,</span> <span class="n">interp</span><span class="o">=</span><span class="n">interp</span><span class="p">,</span> <span class="n">oversample</span><span class="o">=</span><span class="n">oversample</span><span class="p">,</span> <span class="n">warp</span><span class="o">=</span><span class="n">warp</span><span class="p">,</span> <span class="n">warp_full</span><span class="o">=</span><span class="n">warp_full</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="n">from_</span><span class="p">,</span> <span class="n">modulate</span><span class="o">=</span><span class="n">modulate</span><span class="p">,</span> <span class="n">directions</span><span class="o">=</span><span class="n">directions</span><span class="p">,</span> <span class="n">reorient_fod</span><span class="o">=</span><span class="n">reorient_fod</span><span class="p">,</span> <span class="n">grad</span><span class="o">=</span><span class="n">grad</span><span class="p">,</span> <span class="n">fslgrad</span><span class="o">=</span><span class="n">fslgrad</span><span class="p">,</span> <span class="n">export_grad_mrtrix</span><span class="o">=</span><span class="n">export_grad_mrtrix</span><span class="p">,</span> <span class="n">export_grad_fsl</span><span class="o">=</span><span class="n">export_grad_fsl</span><span class="p">,</span> <span class="n">datatype</span><span class="o">=</span><span class="n">datatype</span><span class="p">,</span> <span class="n">strides</span><span class="o">=</span><span class="n">strides</span><span class="p">,</span> <span class="n">nan</span><span class="o">=</span><span class="n">nan</span><span class="p">,</span> <span class="n">no_reorientation</span><span class="o">=</span><span class="n">no_reorientation</span><span class="p">,</span> <span class="n">info</span><span class="o">=</span><span class="n">info</span><span class="p">,</span> <span class="n">quiet</span><span class="o">=</span><span class="n">quiet</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">,</span> <span class="n">nthreads</span><span class="o">=</span><span class="n">nthreads</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">help_</span><span class="o">=</span><span class="n">help_</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span> <span class="n">input_</span><span class="o">=</span><span class="n">input_</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">output</span><span class="p">)</span>
</span><span id="L-997"><a href="#L-997"><span class="linenos"> 997</span></a>    <span class="k">return</span> <span class="n">mrtransform_execute</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">execution</span><span class="p">)</span>
</span><span id="L-998"><a href="#L-998"><span class="linenos"> 998</span></a>
</span><span id="L-999"><a href="#L-999"><span class="linenos"> 999</span></a>
</span><span id="L-1000"><a href="#L-1000"><span class="linenos">1000</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-1001"><a href="#L-1001"><span class="linenos">1001</span></a>    <span class="s2">&quot;MRTRANSFORM_METADATA&quot;</span><span class="p">,</span>
</span><span id="L-1002"><a href="#L-1002"><span class="linenos">1002</span></a>    <span class="s2">&quot;MrtransformExportGradFslOutputs&quot;</span><span class="p">,</span>
</span><span id="L-1003"><a href="#L-1003"><span class="linenos">1003</span></a>    <span class="s2">&quot;MrtransformOutputs&quot;</span><span class="p">,</span>
</span><span id="L-1004"><a href="#L-1004"><span class="linenos">1004</span></a>    <span class="s2">&quot;mrtransform&quot;</span><span class="p">,</span>
</span><span id="L-1005"><a href="#L-1005"><span class="linenos">1005</span></a>    <span class="s2">&quot;mrtransform_config_params&quot;</span><span class="p">,</span>
</span><span id="L-1006"><a href="#L-1006"><span class="linenos">1006</span></a>    <span class="s2">&quot;mrtransform_export_grad_fsl_params&quot;</span><span class="p">,</span>
</span><span id="L-1007"><a href="#L-1007"><span class="linenos">1007</span></a>    <span class="s2">&quot;mrtransform_fslgrad_params&quot;</span><span class="p">,</span>
</span><span id="L-1008"><a href="#L-1008"><span class="linenos">1008</span></a>    <span class="s2">&quot;mrtransform_params&quot;</span><span class="p">,</span>
</span><span id="L-1009"><a href="#L-1009"><span class="linenos">1009</span></a>    <span class="s2">&quot;mrtransform_various_file_params&quot;</span><span class="p">,</span>
</span><span id="L-1010"><a href="#L-1010"><span class="linenos">1010</span></a>    <span class="s2">&quot;mrtransform_various_string_params&quot;</span><span class="p">,</span>
</span><span id="L-1011"><a href="#L-1011"><span class="linenos">1011</span></a><span class="p">]</span>
</span></pre></div>


            </section>
                <section id="MRTRANSFORM_METADATA">
                    <div class="attr variable">
            <span class="name">MRTRANSFORM_METADATA</span>        =
<input id="MRTRANSFORM_METADATA-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="MRTRANSFORM_METADATA-view-value"></label><span class="default_value">Metadata(id=&#39;faaa07c120c0bcc84911ab27778920e0d881a5ea.boutiques&#39;, name=&#39;mrtransform&#39;, package=&#39;mrtrix&#39;, citations=None, container_image_tag=&#39;mrtrix3/mrtrix3:3.0.4&#39;)</span>

        
    </div>
    <a class="headerlink" href="#MRTRANSFORM_METADATA"></a>
    
    

                </section>
                <section id="MrtransformExportGradFslOutputs">
                            <input id="MrtransformExportGradFslOutputs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">MrtransformExportGradFslOutputs</span><wbr>(<span class="base">typing.NamedTuple</span>):

                <label class="view-source-button" for="MrtransformExportGradFslOutputs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MrtransformExportGradFslOutputs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MrtransformExportGradFslOutputs-165"><a href="#MrtransformExportGradFslOutputs-165"><span class="linenos">165</span></a><span class="k">class</span><span class="w"> </span><span class="nc">MrtransformExportGradFslOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="MrtransformExportGradFslOutputs-166"><a href="#MrtransformExportGradFslOutputs-166"><span class="linenos">166</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MrtransformExportGradFslOutputs-167"><a href="#MrtransformExportGradFslOutputs-167"><span class="linenos">167</span></a><span class="sd">    Output object returned when calling `MrtransformExportGradFslParameters | None(...)`.</span>
</span><span id="MrtransformExportGradFslOutputs-168"><a href="#MrtransformExportGradFslOutputs-168"><span class="linenos">168</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="MrtransformExportGradFslOutputs-169"><a href="#MrtransformExportGradFslOutputs-169"><span class="linenos">169</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="MrtransformExportGradFslOutputs-170"><a href="#MrtransformExportGradFslOutputs-170"><span class="linenos">170</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="MrtransformExportGradFslOutputs-171"><a href="#MrtransformExportGradFslOutputs-171"><span class="linenos">171</span></a>    <span class="n">bvecs_path</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="MrtransformExportGradFslOutputs-172"><a href="#MrtransformExportGradFslOutputs-172"><span class="linenos">172</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;export the diffusion-weighted gradient table to files in FSL (bvecs /</span>
</span><span id="MrtransformExportGradFslOutputs-173"><a href="#MrtransformExportGradFslOutputs-173"><span class="linenos">173</span></a><span class="sd">    bvals) format&quot;&quot;&quot;</span>
</span><span id="MrtransformExportGradFslOutputs-174"><a href="#MrtransformExportGradFslOutputs-174"><span class="linenos">174</span></a>    <span class="n">bvals_path</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="MrtransformExportGradFslOutputs-175"><a href="#MrtransformExportGradFslOutputs-175"><span class="linenos">175</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;export the diffusion-weighted gradient table to files in FSL (bvecs /</span>
</span><span id="MrtransformExportGradFslOutputs-176"><a href="#MrtransformExportGradFslOutputs-176"><span class="linenos">176</span></a><span class="sd">    bvals) format&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Output object returned when calling <code>MrtransformExportGradFslParameters | None(...)</code>.</p>
</div>


                            <div id="MrtransformExportGradFslOutputs.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">MrtransformExportGradFslOutputs</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">root</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span>,</span><span class="param">	<span class="n">bvecs_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span>,</span><span class="param">	<span class="n">bvals_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#MrtransformExportGradFslOutputs.__init__"></a>
    
            <div class="docstring"><p>Create new instance of MrtransformExportGradFslOutputs(root, bvecs_path, bvals_path)</p>
</div>


                            </div>
                            <div id="MrtransformExportGradFslOutputs.root" class="classattr">
                                <div class="attr variable">
            <span class="name">root</span><span class="annotation">: pathlib._local.Path</span>

        
    </div>
    <a class="headerlink" href="#MrtransformExportGradFslOutputs.root"></a>
    
            <div class="docstring"><p>Output root folder. This is the root folder for all outputs.</p>
</div>


                            </div>
                            <div id="MrtransformExportGradFslOutputs.bvecs_path" class="classattr">
                                <div class="attr variable">
            <span class="name">bvecs_path</span><span class="annotation">: pathlib._local.Path</span>

        
    </div>
    <a class="headerlink" href="#MrtransformExportGradFslOutputs.bvecs_path"></a>
    
            <div class="docstring"><p>export the diffusion-weighted gradient table to files in FSL (bvecs /
bvals) format</p>
</div>


                            </div>
                            <div id="MrtransformExportGradFslOutputs.bvals_path" class="classattr">
                                <div class="attr variable">
            <span class="name">bvals_path</span><span class="annotation">: pathlib._local.Path</span>

        
    </div>
    <a class="headerlink" href="#MrtransformExportGradFslOutputs.bvals_path"></a>
    
            <div class="docstring"><p>export the diffusion-weighted gradient table to files in FSL (bvecs /
bvals) format</p>
</div>


                            </div>
                </section>
                <section id="MrtransformOutputs">
                            <input id="MrtransformOutputs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">MrtransformOutputs</span><wbr>(<span class="base">typing.NamedTuple</span>):

                <label class="view-source-button" for="MrtransformOutputs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MrtransformOutputs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MrtransformOutputs-356"><a href="#MrtransformOutputs-356"><span class="linenos">356</span></a><span class="k">class</span><span class="w"> </span><span class="nc">MrtransformOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="MrtransformOutputs-357"><a href="#MrtransformOutputs-357"><span class="linenos">357</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MrtransformOutputs-358"><a href="#MrtransformOutputs-358"><span class="linenos">358</span></a><span class="sd">    Output object returned when calling `mrtransform(...)`.</span>
</span><span id="MrtransformOutputs-359"><a href="#MrtransformOutputs-359"><span class="linenos">359</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="MrtransformOutputs-360"><a href="#MrtransformOutputs-360"><span class="linenos">360</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="MrtransformOutputs-361"><a href="#MrtransformOutputs-361"><span class="linenos">361</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="MrtransformOutputs-362"><a href="#MrtransformOutputs-362"><span class="linenos">362</span></a>    <span class="n">output</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="MrtransformOutputs-363"><a href="#MrtransformOutputs-363"><span class="linenos">363</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;the output image.&quot;&quot;&quot;</span>
</span><span id="MrtransformOutputs-364"><a href="#MrtransformOutputs-364"><span class="linenos">364</span></a>    <span class="n">export_grad_mrtrix</span><span class="p">:</span> <span class="n">OutputPathType</span> <span class="o">|</span> <span class="kc">None</span>
</span><span id="MrtransformOutputs-365"><a href="#MrtransformOutputs-365"><span class="linenos">365</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;export the diffusion-weighted gradient table to file in MRtrix format &quot;&quot;&quot;</span>
</span><span id="MrtransformOutputs-366"><a href="#MrtransformOutputs-366"><span class="linenos">366</span></a>    <span class="n">export_grad_fsl</span><span class="p">:</span> <span class="n">MrtransformExportGradFslOutputs</span> <span class="o">|</span> <span class="kc">None</span>
</span><span id="MrtransformOutputs-367"><a href="#MrtransformOutputs-367"><span class="linenos">367</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Outputs from `mrtransform_export_grad_fsl_outputs`.&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Output object returned when calling <code>mrtransform(...)</code>.</p>
</div>


                            <div id="MrtransformOutputs.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">MrtransformOutputs</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">root</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span>,</span><span class="param">	<span class="n">output</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span>,</span><span class="param">	<span class="n">export_grad_mrtrix</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">export_grad_fsl</span><span class="p">:</span> <span class="n"><a href="#MrtransformExportGradFslOutputs">MrtransformExportGradFslOutputs</a></span> <span class="o">|</span> <span class="kc">None</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#MrtransformOutputs.__init__"></a>
    
            <div class="docstring"><p>Create new instance of MrtransformOutputs(root, output, export_grad_mrtrix, export_grad_fsl)</p>
</div>


                            </div>
                            <div id="MrtransformOutputs.root" class="classattr">
                                <div class="attr variable">
            <span class="name">root</span><span class="annotation">: pathlib._local.Path</span>

        
    </div>
    <a class="headerlink" href="#MrtransformOutputs.root"></a>
    
            <div class="docstring"><p>Output root folder. This is the root folder for all outputs.</p>
</div>


                            </div>
                            <div id="MrtransformOutputs.output" class="classattr">
                                <div class="attr variable">
            <span class="name">output</span><span class="annotation">: pathlib._local.Path</span>

        
    </div>
    <a class="headerlink" href="#MrtransformOutputs.output"></a>
    
            <div class="docstring"><p>the output image.</p>
</div>


                            </div>
                            <div id="MrtransformOutputs.export_grad_mrtrix" class="classattr">
                                <div class="attr variable">
            <span class="name">export_grad_mrtrix</span><span class="annotation">: pathlib._local.Path | None</span>

        
    </div>
    <a class="headerlink" href="#MrtransformOutputs.export_grad_mrtrix"></a>
    
            <div class="docstring"><p>export the diffusion-weighted gradient table to file in MRtrix format</p>
</div>


                            </div>
                            <div id="MrtransformOutputs.export_grad_fsl" class="classattr">
                                <div class="attr variable">
            <span class="name">export_grad_fsl</span><span class="annotation">: <a href="#MrtransformExportGradFslOutputs">MrtransformExportGradFslOutputs</a> | None</span>

        
    </div>
    <a class="headerlink" href="#MrtransformOutputs.export_grad_fsl"></a>
    
            <div class="docstring"><p>Outputs from <code>mrtransform_export_grad_fsl_outputs</code>.</p>
</div>


                            </div>
                </section>
                <section id="mrtransform">
                            <input id="mrtransform-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mrtransform</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">input_</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">output</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">linear</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">flip</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">inverse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">half</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">replace</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">identity</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">template</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">midway_space</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">interp</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">oversample</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">warp</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">warp_full</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">from_</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">modulate</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">directions</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">reorient_fod</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">grad</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">fslgrad</span><span class="p">:</span> <span class="n">niwrap</span><span class="o">.</span><span class="n">mrtrix</span><span class="o">.</span><span class="n">mrtransform</span><span class="o">.</span><span class="n">MrtransformFslgradParameters</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">export_grad_mrtrix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">export_grad_fsl</span><span class="p">:</span> <span class="n">niwrap</span><span class="o">.</span><span class="n">mrtrix</span><span class="o">.</span><span class="n">mrtransform</span><span class="o">.</span><span class="n">MrtransformExportGradFslParameters</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">datatype</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">strides</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">niwrap</span><span class="o">.</span><span class="n">mrtrix</span><span class="o">.</span><span class="n">mrtransform</span><span class="o">.</span><span class="n">MrtransformVariousStringParameters</span><span class="p">,</span> <span class="n">niwrap</span><span class="o">.</span><span class="n">mrtrix</span><span class="o">.</span><span class="n">mrtransform</span><span class="o">.</span><span class="n">MrtransformVariousFileParameters</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">nan</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">no_reorientation</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">info</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">quiet</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">nthreads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">config</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">niwrap</span><span class="o">.</span><span class="n">mrtrix</span><span class="o">.</span><span class="n">mrtransform</span><span class="o">.</span><span class="n">MrtransformConfigParameters</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">help_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">version</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">runner</span><span class="p">:</span> <span class="n">styxdefs</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Runner</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n"><a href="#MrtransformOutputs">MrtransformOutputs</a></span>:</span></span>

                <label class="view-source-button" for="mrtransform-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#mrtransform"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="mrtransform-800"><a href="#mrtransform-800"><span class="linenos">800</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform</span><span class="p">(</span>
</span><span id="mrtransform-801"><a href="#mrtransform-801"><span class="linenos">801</span></a>    <span class="n">input_</span><span class="p">:</span> <span class="n">InputPathType</span><span class="p">,</span>
</span><span id="mrtransform-802"><a href="#mrtransform-802"><span class="linenos">802</span></a>    <span class="n">output</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="mrtransform-803"><a href="#mrtransform-803"><span class="linenos">803</span></a>    <span class="n">linear</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-804"><a href="#mrtransform-804"><span class="linenos">804</span></a>    <span class="n">flip</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-805"><a href="#mrtransform-805"><span class="linenos">805</span></a>    <span class="n">inverse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform-806"><a href="#mrtransform-806"><span class="linenos">806</span></a>    <span class="n">half</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform-807"><a href="#mrtransform-807"><span class="linenos">807</span></a>    <span class="n">replace</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-808"><a href="#mrtransform-808"><span class="linenos">808</span></a>    <span class="n">identity</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform-809"><a href="#mrtransform-809"><span class="linenos">809</span></a>    <span class="n">template</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-810"><a href="#mrtransform-810"><span class="linenos">810</span></a>    <span class="n">midway_space</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform-811"><a href="#mrtransform-811"><span class="linenos">811</span></a>    <span class="n">interp</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-812"><a href="#mrtransform-812"><span class="linenos">812</span></a>    <span class="n">oversample</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-813"><a href="#mrtransform-813"><span class="linenos">813</span></a>    <span class="n">warp</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-814"><a href="#mrtransform-814"><span class="linenos">814</span></a>    <span class="n">warp_full</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-815"><a href="#mrtransform-815"><span class="linenos">815</span></a>    <span class="n">from_</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-816"><a href="#mrtransform-816"><span class="linenos">816</span></a>    <span class="n">modulate</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-817"><a href="#mrtransform-817"><span class="linenos">817</span></a>    <span class="n">directions</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-818"><a href="#mrtransform-818"><span class="linenos">818</span></a>    <span class="n">reorient_fod</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-819"><a href="#mrtransform-819"><span class="linenos">819</span></a>    <span class="n">grad</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-820"><a href="#mrtransform-820"><span class="linenos">820</span></a>    <span class="n">fslgrad</span><span class="p">:</span> <span class="n">MrtransformFslgradParameters</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-821"><a href="#mrtransform-821"><span class="linenos">821</span></a>    <span class="n">export_grad_mrtrix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-822"><a href="#mrtransform-822"><span class="linenos">822</span></a>    <span class="n">export_grad_fsl</span><span class="p">:</span> <span class="n">MrtransformExportGradFslParameters</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-823"><a href="#mrtransform-823"><span class="linenos">823</span></a>    <span class="n">datatype</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-824"><a href="#mrtransform-824"><span class="linenos">824</span></a>    <span class="n">strides</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">MrtransformVariousStringParameters</span><span class="p">,</span> <span class="n">MrtransformVariousFileParameters</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-825"><a href="#mrtransform-825"><span class="linenos">825</span></a>    <span class="n">nan</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform-826"><a href="#mrtransform-826"><span class="linenos">826</span></a>    <span class="n">no_reorientation</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform-827"><a href="#mrtransform-827"><span class="linenos">827</span></a>    <span class="n">info</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform-828"><a href="#mrtransform-828"><span class="linenos">828</span></a>    <span class="n">quiet</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform-829"><a href="#mrtransform-829"><span class="linenos">829</span></a>    <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform-830"><a href="#mrtransform-830"><span class="linenos">830</span></a>    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform-831"><a href="#mrtransform-831"><span class="linenos">831</span></a>    <span class="n">nthreads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-832"><a href="#mrtransform-832"><span class="linenos">832</span></a>    <span class="n">config</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">MrtransformConfigParameters</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-833"><a href="#mrtransform-833"><span class="linenos">833</span></a>    <span class="n">help_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform-834"><a href="#mrtransform-834"><span class="linenos">834</span></a>    <span class="n">version</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform-835"><a href="#mrtransform-835"><span class="linenos">835</span></a>    <span class="n">runner</span><span class="p">:</span> <span class="n">Runner</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform-836"><a href="#mrtransform-836"><span class="linenos">836</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MrtransformOutputs</span><span class="p">:</span>
</span><span id="mrtransform-837"><a href="#mrtransform-837"><span class="linenos">837</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="mrtransform-838"><a href="#mrtransform-838"><span class="linenos">838</span></a><span class="sd">    Apply spatial transformations to an image.</span>
</span><span id="mrtransform-839"><a href="#mrtransform-839"><span class="linenos">839</span></a><span class="sd">    </span>
</span><span id="mrtransform-840"><a href="#mrtransform-840"><span class="linenos">840</span></a><span class="sd">    If a linear transform is applied without a template image the command will</span>
</span><span id="mrtransform-841"><a href="#mrtransform-841"><span class="linenos">841</span></a><span class="sd">    modify the image header transform matrix</span>
</span><span id="mrtransform-842"><a href="#mrtransform-842"><span class="linenos">842</span></a><span class="sd">    </span>
</span><span id="mrtransform-843"><a href="#mrtransform-843"><span class="linenos">843</span></a><span class="sd">    FOD reorientation (with apodised point spread functions) can be performed if</span>
</span><span id="mrtransform-844"><a href="#mrtransform-844"><span class="linenos">844</span></a><span class="sd">    the number of volumes in the 4th dimension equals the number of coefficients</span>
</span><span id="mrtransform-845"><a href="#mrtransform-845"><span class="linenos">845</span></a><span class="sd">    in an antipodally symmetric spherical harmonic series (e.g. 6, 15, 28 etc).</span>
</span><span id="mrtransform-846"><a href="#mrtransform-846"><span class="linenos">846</span></a><span class="sd">    For such data, the -reorient_fod yes/no option must be used to specify if</span>
</span><span id="mrtransform-847"><a href="#mrtransform-847"><span class="linenos">847</span></a><span class="sd">    reorientation is required.</span>
</span><span id="mrtransform-848"><a href="#mrtransform-848"><span class="linenos">848</span></a><span class="sd">    </span>
</span><span id="mrtransform-849"><a href="#mrtransform-849"><span class="linenos">849</span></a><span class="sd">    The output image intensity can be modulated using the (local or global)</span>
</span><span id="mrtransform-850"><a href="#mrtransform-850"><span class="linenos">850</span></a><span class="sd">    volume change if a linear or nonlinear transformation is applied. &#39;FOD&#39;</span>
</span><span id="mrtransform-851"><a href="#mrtransform-851"><span class="linenos">851</span></a><span class="sd">    modulation preserves the apparent fibre density across the fibre bundle</span>
</span><span id="mrtransform-852"><a href="#mrtransform-852"><span class="linenos">852</span></a><span class="sd">    width and can only be applied if FOD reorientation is used. Alternatively,</span>
</span><span id="mrtransform-853"><a href="#mrtransform-853"><span class="linenos">853</span></a><span class="sd">    non-directional scaling by the Jacobian determinant can be applied to any</span>
</span><span id="mrtransform-854"><a href="#mrtransform-854"><span class="linenos">854</span></a><span class="sd">    image type.</span>
</span><span id="mrtransform-855"><a href="#mrtransform-855"><span class="linenos">855</span></a><span class="sd">    </span>
</span><span id="mrtransform-856"><a href="#mrtransform-856"><span class="linenos">856</span></a><span class="sd">    If a DW scheme is contained in the header (or specified separately), and the</span>
</span><span id="mrtransform-857"><a href="#mrtransform-857"><span class="linenos">857</span></a><span class="sd">    number of directions matches the number of volumes in the images, any</span>
</span><span id="mrtransform-858"><a href="#mrtransform-858"><span class="linenos">858</span></a><span class="sd">    transformation applied using the -linear option will also be applied to the</span>
</span><span id="mrtransform-859"><a href="#mrtransform-859"><span class="linenos">859</span></a><span class="sd">    directions.</span>
</span><span id="mrtransform-860"><a href="#mrtransform-860"><span class="linenos">860</span></a><span class="sd">    </span>
</span><span id="mrtransform-861"><a href="#mrtransform-861"><span class="linenos">861</span></a><span class="sd">    When the -template option is used to specify the target image grid, the</span>
</span><span id="mrtransform-862"><a href="#mrtransform-862"><span class="linenos">862</span></a><span class="sd">    image provided via this option will not influence the axis data strides of</span>
</span><span id="mrtransform-863"><a href="#mrtransform-863"><span class="linenos">863</span></a><span class="sd">    the output image; these are determined based on the input image, or the</span>
</span><span id="mrtransform-864"><a href="#mrtransform-864"><span class="linenos">864</span></a><span class="sd">    input to the -strides option.</span>
</span><span id="mrtransform-865"><a href="#mrtransform-865"><span class="linenos">865</span></a><span class="sd">    </span>
</span><span id="mrtransform-866"><a href="#mrtransform-866"><span class="linenos">866</span></a><span class="sd">    References:</span>
</span><span id="mrtransform-867"><a href="#mrtransform-867"><span class="linenos">867</span></a><span class="sd">    </span>
</span><span id="mrtransform-868"><a href="#mrtransform-868"><span class="linenos">868</span></a><span class="sd">    * If FOD reorientation is being performed:</span>
</span><span id="mrtransform-869"><a href="#mrtransform-869"><span class="linenos">869</span></a><span class="sd">    Raffelt, D.; Tournier, J.-D.; Crozier, S.; Connelly, A. &amp; Salvado, O.</span>
</span><span id="mrtransform-870"><a href="#mrtransform-870"><span class="linenos">870</span></a><span class="sd">    Reorientation of fiber orientation distributions using apodized point spread</span>
</span><span id="mrtransform-871"><a href="#mrtransform-871"><span class="linenos">871</span></a><span class="sd">    functions. Magnetic Resonance in Medicine, 2012, 67, 844-855</span>
</span><span id="mrtransform-872"><a href="#mrtransform-872"><span class="linenos">872</span></a><span class="sd">    </span>
</span><span id="mrtransform-873"><a href="#mrtransform-873"><span class="linenos">873</span></a><span class="sd">    * If FOD modulation is being performed:</span>
</span><span id="mrtransform-874"><a href="#mrtransform-874"><span class="linenos">874</span></a><span class="sd">    Raffelt, D.; Tournier, J.-D.; Rose, S.; Ridgway, G.R.; Henderson, R.;</span>
</span><span id="mrtransform-875"><a href="#mrtransform-875"><span class="linenos">875</span></a><span class="sd">    Crozier, S.; Salvado, O.; Connelly, A.; Apparent Fibre Density: a novel</span>
</span><span id="mrtransform-876"><a href="#mrtransform-876"><span class="linenos">876</span></a><span class="sd">    measure for the analysis of diffusion-weighted magnetic resonance images.</span>
</span><span id="mrtransform-877"><a href="#mrtransform-877"><span class="linenos">877</span></a><span class="sd">    NeuroImage, 2012, 15;59(4), 3976-94.</span>
</span><span id="mrtransform-878"><a href="#mrtransform-878"><span class="linenos">878</span></a><span class="sd">    </span>
</span><span id="mrtransform-879"><a href="#mrtransform-879"><span class="linenos">879</span></a><span class="sd">    Author: MRTrix3 Developers</span>
</span><span id="mrtransform-880"><a href="#mrtransform-880"><span class="linenos">880</span></a><span class="sd">    </span>
</span><span id="mrtransform-881"><a href="#mrtransform-881"><span class="linenos">881</span></a><span class="sd">    URL: https://www.mrtrix.org/</span>
</span><span id="mrtransform-882"><a href="#mrtransform-882"><span class="linenos">882</span></a><span class="sd">    </span>
</span><span id="mrtransform-883"><a href="#mrtransform-883"><span class="linenos">883</span></a><span class="sd">    Args:</span>
</span><span id="mrtransform-884"><a href="#mrtransform-884"><span class="linenos">884</span></a><span class="sd">        input_: input image to be transformed.</span>
</span><span id="mrtransform-885"><a href="#mrtransform-885"><span class="linenos">885</span></a><span class="sd">        output: the output image.</span>
</span><span id="mrtransform-886"><a href="#mrtransform-886"><span class="linenos">886</span></a><span class="sd">        linear: specify a linear transform to apply, in the form of a 3x4 or\</span>
</span><span id="mrtransform-887"><a href="#mrtransform-887"><span class="linenos">887</span></a><span class="sd">            4x4 ascii file. Note the standard &#39;reverse&#39; convention is used, where\</span>
</span><span id="mrtransform-888"><a href="#mrtransform-888"><span class="linenos">888</span></a><span class="sd">            the transform maps points in the template image to the moving image.\</span>
</span><span id="mrtransform-889"><a href="#mrtransform-889"><span class="linenos">889</span></a><span class="sd">            Note that the reverse convention is still assumed even if no -template\</span>
</span><span id="mrtransform-890"><a href="#mrtransform-890"><span class="linenos">890</span></a><span class="sd">            image is supplied.</span>
</span><span id="mrtransform-891"><a href="#mrtransform-891"><span class="linenos">891</span></a><span class="sd">        flip: flip the specified axes, provided as a comma-separated list of\</span>
</span><span id="mrtransform-892"><a href="#mrtransform-892"><span class="linenos">892</span></a><span class="sd">            indices (0:x, 1:y, 2:z).</span>
</span><span id="mrtransform-893"><a href="#mrtransform-893"><span class="linenos">893</span></a><span class="sd">        inverse: apply the inverse transformation.</span>
</span><span id="mrtransform-894"><a href="#mrtransform-894"><span class="linenos">894</span></a><span class="sd">        half: apply the matrix square root of the transformation. This can be\</span>
</span><span id="mrtransform-895"><a href="#mrtransform-895"><span class="linenos">895</span></a><span class="sd">            combined with the inverse option.</span>
</span><span id="mrtransform-896"><a href="#mrtransform-896"><span class="linenos">896</span></a><span class="sd">        replace: replace the linear transform of the original image by that\</span>
</span><span id="mrtransform-897"><a href="#mrtransform-897"><span class="linenos">897</span></a><span class="sd">            specified, rather than applying it to the original image. The specified\</span>
</span><span id="mrtransform-898"><a href="#mrtransform-898"><span class="linenos">898</span></a><span class="sd">            transform can be either a template image, or a 3x4 or 4x4 ascii file.</span>
</span><span id="mrtransform-899"><a href="#mrtransform-899"><span class="linenos">899</span></a><span class="sd">        identity: set the header transform of the image to the identity matrix.</span>
</span><span id="mrtransform-900"><a href="#mrtransform-900"><span class="linenos">900</span></a><span class="sd">        template: reslice the input image to match the specified template image\</span>
</span><span id="mrtransform-901"><a href="#mrtransform-901"><span class="linenos">901</span></a><span class="sd">            grid.</span>
</span><span id="mrtransform-902"><a href="#mrtransform-902"><span class="linenos">902</span></a><span class="sd">        midway_space: reslice the input image to the midway space. Requires\</span>
</span><span id="mrtransform-903"><a href="#mrtransform-903"><span class="linenos">903</span></a><span class="sd">            either the -template or -warp option. If used with -template and\</span>
</span><span id="mrtransform-904"><a href="#mrtransform-904"><span class="linenos">904</span></a><span class="sd">            -linear option the input image will be resliced onto the grid halfway\</span>
</span><span id="mrtransform-905"><a href="#mrtransform-905"><span class="linenos">905</span></a><span class="sd">            between the input and template. If used with the -warp option the input\</span>
</span><span id="mrtransform-906"><a href="#mrtransform-906"><span class="linenos">906</span></a><span class="sd">            will be warped to the midway space defined by the grid of the input\</span>
</span><span id="mrtransform-907"><a href="#mrtransform-907"><span class="linenos">907</span></a><span class="sd">            warp (i.e. half way between image1 and image2).</span>
</span><span id="mrtransform-908"><a href="#mrtransform-908"><span class="linenos">908</span></a><span class="sd">        interp: set the interpolation method to use when reslicing (choices:\</span>
</span><span id="mrtransform-909"><a href="#mrtransform-909"><span class="linenos">909</span></a><span class="sd">            nearest, linear, cubic, sinc. Default: cubic).</span>
</span><span id="mrtransform-910"><a href="#mrtransform-910"><span class="linenos">910</span></a><span class="sd">        oversample: set the amount of over-sampling (in the target space) to\</span>
</span><span id="mrtransform-911"><a href="#mrtransform-911"><span class="linenos">911</span></a><span class="sd">            perform when regridding. This is particularly relevant when downsamping\</span>
</span><span id="mrtransform-912"><a href="#mrtransform-912"><span class="linenos">912</span></a><span class="sd">            a high-resolution image to a low-resolution image, to avoid aliasing\</span>
</span><span id="mrtransform-913"><a href="#mrtransform-913"><span class="linenos">913</span></a><span class="sd">            artefacts. This can consist of a single integer, or a comma-separated\</span>
</span><span id="mrtransform-914"><a href="#mrtransform-914"><span class="linenos">914</span></a><span class="sd">            list of 3 integers if different oversampling factors are desired along\</span>
</span><span id="mrtransform-915"><a href="#mrtransform-915"><span class="linenos">915</span></a><span class="sd">            the different axes. Default is determined from ratio of voxel\</span>
</span><span id="mrtransform-916"><a href="#mrtransform-916"><span class="linenos">916</span></a><span class="sd">            dimensions (disabled for nearest-neighbour interpolation).</span>
</span><span id="mrtransform-917"><a href="#mrtransform-917"><span class="linenos">917</span></a><span class="sd">        warp: apply a non-linear 4D deformation field to warp the input image.\</span>
</span><span id="mrtransform-918"><a href="#mrtransform-918"><span class="linenos">918</span></a><span class="sd">            Each voxel in the deformation field must define the scanner space\</span>
</span><span id="mrtransform-919"><a href="#mrtransform-919"><span class="linenos">919</span></a><span class="sd">            position that will be used to interpolate the input image during\</span>
</span><span id="mrtransform-920"><a href="#mrtransform-920"><span class="linenos">920</span></a><span class="sd">            warping (i.e. pull-back/reverse warp convention). If the -template\</span>
</span><span id="mrtransform-921"><a href="#mrtransform-921"><span class="linenos">921</span></a><span class="sd">            image is also supplied the deformation field will be resliced first to\</span>
</span><span id="mrtransform-922"><a href="#mrtransform-922"><span class="linenos">922</span></a><span class="sd">            the template image grid. If no -template option is supplied then the\</span>
</span><span id="mrtransform-923"><a href="#mrtransform-923"><span class="linenos">923</span></a><span class="sd">            output image will have the same image grid as the deformation field.\</span>
</span><span id="mrtransform-924"><a href="#mrtransform-924"><span class="linenos">924</span></a><span class="sd">            This option can be used in combination with the -affine option, in\</span>
</span><span id="mrtransform-925"><a href="#mrtransform-925"><span class="linenos">925</span></a><span class="sd">            which case the affine will be applied first).</span>
</span><span id="mrtransform-926"><a href="#mrtransform-926"><span class="linenos">926</span></a><span class="sd">        warp_full: warp the input image using a 5D warp file output from\</span>
</span><span id="mrtransform-927"><a href="#mrtransform-927"><span class="linenos">927</span></a><span class="sd">            mrregister. Any linear transforms in the warp image header will also be\</span>
</span><span id="mrtransform-928"><a href="#mrtransform-928"><span class="linenos">928</span></a><span class="sd">            applied. The -warp_full option must be used in combination with either\</span>
</span><span id="mrtransform-929"><a href="#mrtransform-929"><span class="linenos">929</span></a><span class="sd">            the -template option or the -midway_space option. If a -template image\</span>
</span><span id="mrtransform-930"><a href="#mrtransform-930"><span class="linenos">930</span></a><span class="sd">            is supplied then the full warp will be used. By default the\</span>
</span><span id="mrtransform-931"><a href="#mrtransform-931"><span class="linenos">931</span></a><span class="sd">            image1-&gt;image2 transform will be applied, however the -from 2 option\</span>
</span><span id="mrtransform-932"><a href="#mrtransform-932"><span class="linenos">932</span></a><span class="sd">            can be used to apply the image2-&gt;image1 transform. Use the\</span>
</span><span id="mrtransform-933"><a href="#mrtransform-933"><span class="linenos">933</span></a><span class="sd">            -midway_space option to warp the input image to the midway space. The\</span>
</span><span id="mrtransform-934"><a href="#mrtransform-934"><span class="linenos">934</span></a><span class="sd">            -from option can also be used to define which warp to use when\</span>
</span><span id="mrtransform-935"><a href="#mrtransform-935"><span class="linenos">935</span></a><span class="sd">            transforming to midway space.</span>
</span><span id="mrtransform-936"><a href="#mrtransform-936"><span class="linenos">936</span></a><span class="sd">        from_: used to define which space the input image is when using the\</span>
</span><span id="mrtransform-937"><a href="#mrtransform-937"><span class="linenos">937</span></a><span class="sd">            -warp_mid option. Use -from 1 to warp from image1 or -from 2 to warp\</span>
</span><span id="mrtransform-938"><a href="#mrtransform-938"><span class="linenos">938</span></a><span class="sd">            from image2.</span>
</span><span id="mrtransform-939"><a href="#mrtransform-939"><span class="linenos">939</span></a><span class="sd">        modulate: Valid choices are: fod and jac.\</span>
</span><span id="mrtransform-940"><a href="#mrtransform-940"><span class="linenos">940</span></a><span class="sd">            fod: modulate FODs during reorientation to preserve the apparent\</span>
</span><span id="mrtransform-941"><a href="#mrtransform-941"><span class="linenos">941</span></a><span class="sd">            fibre density across fibre bundle widths before and after the\</span>
</span><span id="mrtransform-942"><a href="#mrtransform-942"><span class="linenos">942</span></a><span class="sd">            transformation.\</span>
</span><span id="mrtransform-943"><a href="#mrtransform-943"><span class="linenos">943</span></a><span class="sd">            jac: modulate the image intensity with the determinant of the\</span>
</span><span id="mrtransform-944"><a href="#mrtransform-944"><span class="linenos">944</span></a><span class="sd">            Jacobian of the warp of linear transformation to preserve the total\</span>
</span><span id="mrtransform-945"><a href="#mrtransform-945"><span class="linenos">945</span></a><span class="sd">            intensity before and after the transformation.</span>
</span><span id="mrtransform-946"><a href="#mrtransform-946"><span class="linenos">946</span></a><span class="sd">        directions: directions defining the number and orientation of the\</span>
</span><span id="mrtransform-947"><a href="#mrtransform-947"><span class="linenos">947</span></a><span class="sd">            apodised point spread functions used in FOD reorientation (Default: 300\</span>
</span><span id="mrtransform-948"><a href="#mrtransform-948"><span class="linenos">948</span></a><span class="sd">            directions).</span>
</span><span id="mrtransform-949"><a href="#mrtransform-949"><span class="linenos">949</span></a><span class="sd">        reorient_fod: specify whether to perform FOD reorientation. This is\</span>
</span><span id="mrtransform-950"><a href="#mrtransform-950"><span class="linenos">950</span></a><span class="sd">            required if the number of volumes in the 4th dimension corresponds to\</span>
</span><span id="mrtransform-951"><a href="#mrtransform-951"><span class="linenos">951</span></a><span class="sd">            the number of coefficients in an antipodally symmetric spherical\</span>
</span><span id="mrtransform-952"><a href="#mrtransform-952"><span class="linenos">952</span></a><span class="sd">            harmonic series with lmax &gt;= 2 (i.e. 6, 15, 28, 45, 66 volumes).</span>
</span><span id="mrtransform-953"><a href="#mrtransform-953"><span class="linenos">953</span></a><span class="sd">        grad: Provide the diffusion-weighted gradient scheme used in the\</span>
</span><span id="mrtransform-954"><a href="#mrtransform-954"><span class="linenos">954</span></a><span class="sd">            acquisition in a text file. This should be supplied as a 4xN text file\</span>
</span><span id="mrtransform-955"><a href="#mrtransform-955"><span class="linenos">955</span></a><span class="sd">            with each line is in the format [ X Y Z b ], where [ X Y Z ] describe\</span>
</span><span id="mrtransform-956"><a href="#mrtransform-956"><span class="linenos">956</span></a><span class="sd">            the direction of the applied gradient, and b gives the b-value in units\</span>
</span><span id="mrtransform-957"><a href="#mrtransform-957"><span class="linenos">957</span></a><span class="sd">            of s/mm^2. If a diffusion gradient scheme is present in the input image\</span>
</span><span id="mrtransform-958"><a href="#mrtransform-958"><span class="linenos">958</span></a><span class="sd">            header, the data provided with this option will be instead used.</span>
</span><span id="mrtransform-959"><a href="#mrtransform-959"><span class="linenos">959</span></a><span class="sd">        fslgrad: Provide the diffusion-weighted gradient scheme used in the\</span>
</span><span id="mrtransform-960"><a href="#mrtransform-960"><span class="linenos">960</span></a><span class="sd">            acquisition in FSL bvecs/bvals format files. If a diffusion gradient\</span>
</span><span id="mrtransform-961"><a href="#mrtransform-961"><span class="linenos">961</span></a><span class="sd">            scheme is present in the input image header, the data provided with\</span>
</span><span id="mrtransform-962"><a href="#mrtransform-962"><span class="linenos">962</span></a><span class="sd">            this option will be instead used.</span>
</span><span id="mrtransform-963"><a href="#mrtransform-963"><span class="linenos">963</span></a><span class="sd">        export_grad_mrtrix: export the diffusion-weighted gradient table to\</span>
</span><span id="mrtransform-964"><a href="#mrtransform-964"><span class="linenos">964</span></a><span class="sd">            file in MRtrix format.</span>
</span><span id="mrtransform-965"><a href="#mrtransform-965"><span class="linenos">965</span></a><span class="sd">        export_grad_fsl: export the diffusion-weighted gradient table to files\</span>
</span><span id="mrtransform-966"><a href="#mrtransform-966"><span class="linenos">966</span></a><span class="sd">            in FSL (bvecs / bvals) format.</span>
</span><span id="mrtransform-967"><a href="#mrtransform-967"><span class="linenos">967</span></a><span class="sd">        datatype: specify output image data type. Valid choices are: float32,\</span>
</span><span id="mrtransform-968"><a href="#mrtransform-968"><span class="linenos">968</span></a><span class="sd">            float32le, float32be, float64, float64le, float64be, int64, uint64,\</span>
</span><span id="mrtransform-969"><a href="#mrtransform-969"><span class="linenos">969</span></a><span class="sd">            int64le, uint64le, int64be, uint64be, int32, uint32, int32le, uint32le,\</span>
</span><span id="mrtransform-970"><a href="#mrtransform-970"><span class="linenos">970</span></a><span class="sd">            int32be, uint32be, int16, uint16, int16le, uint16le, int16be, uint16be,\</span>
</span><span id="mrtransform-971"><a href="#mrtransform-971"><span class="linenos">971</span></a><span class="sd">            cfloat32, cfloat32le, cfloat32be, cfloat64, cfloat64le, cfloat64be,\</span>
</span><span id="mrtransform-972"><a href="#mrtransform-972"><span class="linenos">972</span></a><span class="sd">            int8, uint8, bit.</span>
</span><span id="mrtransform-973"><a href="#mrtransform-973"><span class="linenos">973</span></a><span class="sd">        strides: specify the strides of the output data in memory; either as a\</span>
</span><span id="mrtransform-974"><a href="#mrtransform-974"><span class="linenos">974</span></a><span class="sd">            comma-separated list of (signed) integers, or as a template image from\</span>
</span><span id="mrtransform-975"><a href="#mrtransform-975"><span class="linenos">975</span></a><span class="sd">            which the strides shall be extracted and used. The actual strides\</span>
</span><span id="mrtransform-976"><a href="#mrtransform-976"><span class="linenos">976</span></a><span class="sd">            produced will depend on whether the output image format can support it.</span>
</span><span id="mrtransform-977"><a href="#mrtransform-977"><span class="linenos">977</span></a><span class="sd">        nan: Use NaN as the out of bounds value (Default: 0.0).</span>
</span><span id="mrtransform-978"><a href="#mrtransform-978"><span class="linenos">978</span></a><span class="sd">        no_reorientation: deprecated, use -reorient_fod instead.</span>
</span><span id="mrtransform-979"><a href="#mrtransform-979"><span class="linenos">979</span></a><span class="sd">        info: display information messages.</span>
</span><span id="mrtransform-980"><a href="#mrtransform-980"><span class="linenos">980</span></a><span class="sd">        quiet: do not display information messages or progress status;\</span>
</span><span id="mrtransform-981"><a href="#mrtransform-981"><span class="linenos">981</span></a><span class="sd">            alternatively, this can be achieved by setting the MRTRIX_QUIET\</span>
</span><span id="mrtransform-982"><a href="#mrtransform-982"><span class="linenos">982</span></a><span class="sd">            environment variable to a non-empty string.</span>
</span><span id="mrtransform-983"><a href="#mrtransform-983"><span class="linenos">983</span></a><span class="sd">        debug: display debugging messages.</span>
</span><span id="mrtransform-984"><a href="#mrtransform-984"><span class="linenos">984</span></a><span class="sd">        force: force overwrite of output files (caution: using the same file as\</span>
</span><span id="mrtransform-985"><a href="#mrtransform-985"><span class="linenos">985</span></a><span class="sd">            input and output might cause unexpected behaviour).</span>
</span><span id="mrtransform-986"><a href="#mrtransform-986"><span class="linenos">986</span></a><span class="sd">        nthreads: use this number of threads in multi-threaded applications\</span>
</span><span id="mrtransform-987"><a href="#mrtransform-987"><span class="linenos">987</span></a><span class="sd">            (set to 0 to disable multi-threading).</span>
</span><span id="mrtransform-988"><a href="#mrtransform-988"><span class="linenos">988</span></a><span class="sd">        config: temporarily set the value of an MRtrix config file entry.</span>
</span><span id="mrtransform-989"><a href="#mrtransform-989"><span class="linenos">989</span></a><span class="sd">        help_: display this information page and exit.</span>
</span><span id="mrtransform-990"><a href="#mrtransform-990"><span class="linenos">990</span></a><span class="sd">        version: display version information and exit.</span>
</span><span id="mrtransform-991"><a href="#mrtransform-991"><span class="linenos">991</span></a><span class="sd">        runner: Command runner.</span>
</span><span id="mrtransform-992"><a href="#mrtransform-992"><span class="linenos">992</span></a><span class="sd">    Returns:</span>
</span><span id="mrtransform-993"><a href="#mrtransform-993"><span class="linenos">993</span></a><span class="sd">        NamedTuple of outputs (described in `MrtransformOutputs`).</span>
</span><span id="mrtransform-994"><a href="#mrtransform-994"><span class="linenos">994</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="mrtransform-995"><a href="#mrtransform-995"><span class="linenos">995</span></a>    <span class="n">runner</span> <span class="o">=</span> <span class="n">runner</span> <span class="ow">or</span> <span class="n">get_global_runner</span><span class="p">()</span>
</span><span id="mrtransform-996"><a href="#mrtransform-996"><span class="linenos">996</span></a>    <span class="n">execution</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">start_execution</span><span class="p">(</span><span class="n">MRTRANSFORM_METADATA</span><span class="p">)</span>
</span><span id="mrtransform-997"><a href="#mrtransform-997"><span class="linenos">997</span></a>    <span class="n">params</span> <span class="o">=</span> <span class="n">mrtransform_params</span><span class="p">(</span><span class="n">linear</span><span class="o">=</span><span class="n">linear</span><span class="p">,</span> <span class="n">flip</span><span class="o">=</span><span class="n">flip</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="n">inverse</span><span class="p">,</span> <span class="n">half</span><span class="o">=</span><span class="n">half</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="n">replace</span><span class="p">,</span> <span class="n">identity</span><span class="o">=</span><span class="n">identity</span><span class="p">,</span> <span class="n">template</span><span class="o">=</span><span class="n">template</span><span class="p">,</span> <span class="n">midway_space</span><span class="o">=</span><span class="n">midway_space</span><span class="p">,</span> <span class="n">interp</span><span class="o">=</span><span class="n">interp</span><span class="p">,</span> <span class="n">oversample</span><span class="o">=</span><span class="n">oversample</span><span class="p">,</span> <span class="n">warp</span><span class="o">=</span><span class="n">warp</span><span class="p">,</span> <span class="n">warp_full</span><span class="o">=</span><span class="n">warp_full</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="n">from_</span><span class="p">,</span> <span class="n">modulate</span><span class="o">=</span><span class="n">modulate</span><span class="p">,</span> <span class="n">directions</span><span class="o">=</span><span class="n">directions</span><span class="p">,</span> <span class="n">reorient_fod</span><span class="o">=</span><span class="n">reorient_fod</span><span class="p">,</span> <span class="n">grad</span><span class="o">=</span><span class="n">grad</span><span class="p">,</span> <span class="n">fslgrad</span><span class="o">=</span><span class="n">fslgrad</span><span class="p">,</span> <span class="n">export_grad_mrtrix</span><span class="o">=</span><span class="n">export_grad_mrtrix</span><span class="p">,</span> <span class="n">export_grad_fsl</span><span class="o">=</span><span class="n">export_grad_fsl</span><span class="p">,</span> <span class="n">datatype</span><span class="o">=</span><span class="n">datatype</span><span class="p">,</span> <span class="n">strides</span><span class="o">=</span><span class="n">strides</span><span class="p">,</span> <span class="n">nan</span><span class="o">=</span><span class="n">nan</span><span class="p">,</span> <span class="n">no_reorientation</span><span class="o">=</span><span class="n">no_reorientation</span><span class="p">,</span> <span class="n">info</span><span class="o">=</span><span class="n">info</span><span class="p">,</span> <span class="n">quiet</span><span class="o">=</span><span class="n">quiet</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">,</span> <span class="n">nthreads</span><span class="o">=</span><span class="n">nthreads</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">help_</span><span class="o">=</span><span class="n">help_</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span> <span class="n">input_</span><span class="o">=</span><span class="n">input_</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">output</span><span class="p">)</span>
</span><span id="mrtransform-998"><a href="#mrtransform-998"><span class="linenos">998</span></a>    <span class="k">return</span> <span class="n">mrtransform_execute</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">execution</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Apply spatial transformations to an image.</p>

<p>If a linear transform is applied without a template image the command will
modify the image header transform matrix</p>

<p>FOD reorientation (with apodised point spread functions) can be performed if
the number of volumes in the 4th dimension equals the number of coefficients
in an antipodally symmetric spherical harmonic series (e.g. 6, 15, 28 etc).
For such data, the -reorient_fod yes/no option must be used to specify if
reorientation is required.</p>

<p>The output image intensity can be modulated using the (local or global)
volume change if a linear or nonlinear transformation is applied. 'FOD'
modulation preserves the apparent fibre density across the fibre bundle
width and can only be applied if FOD reorientation is used. Alternatively,
non-directional scaling by the Jacobian determinant can be applied to any
image type.</p>

<p>If a DW scheme is contained in the header (or specified separately), and the
number of directions matches the number of volumes in the images, any
transformation applied using the -linear option will also be applied to the
directions.</p>

<p>When the -template option is used to specify the target image grid, the
image provided via this option will not influence the axis data strides of
the output image; these are determined based on the input image, or the
input to the -strides option.</p>

<p>References:</p>

<ul>
<li><p>If FOD reorientation is being performed:
Raffelt, D.; Tournier, J.-D.; Crozier, S.; Connelly, A. &amp; Salvado, O.
Reorientation of fiber orientation distributions using apodized point spread
functions. Magnetic Resonance in Medicine, 2012, 67, 844-855</p></li>
<li><p>If FOD modulation is being performed:
Raffelt, D.; Tournier, J.-D.; Rose, S.; Ridgway, G.R.; Henderson, R.;
Crozier, S.; Salvado, O.; Connelly, A.; Apparent Fibre Density: a novel
measure for the analysis of diffusion-weighted magnetic resonance images.
NeuroImage, 2012, 15;59(4), 3976-94.</p></li>
</ul>

<p>Author: MRTrix3 Developers</p>

<p>URL: <a href="https://www.mrtrix.org/">https://www.mrtrix.org/</a></p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>input_:</strong>  input image to be transformed.</li>
<li><strong>output:</strong>  the output image.</li>
<li><strong>linear:</strong>  specify a linear transform to apply, in the form of a 3x4 or            4x4 ascii file. Note the standard 'reverse' convention is used, where            the transform maps points in the template image to the moving image.            Note that the reverse convention is still assumed even if no -template            image is supplied.</li>
<li><strong>flip:</strong>  flip the specified axes, provided as a comma-separated list of            indices (0:x, 1:y, 2:z).</li>
<li><strong>inverse:</strong>  apply the inverse transformation.</li>
<li><strong>half:</strong>  apply the matrix square root of the transformation. This can be            combined with the inverse option.</li>
<li><strong>replace:</strong>  replace the linear transform of the original image by that            specified, rather than applying it to the original image. The specified            transform can be either a template image, or a 3x4 or 4x4 ascii file.</li>
<li><strong>identity:</strong>  set the header transform of the image to the identity matrix.</li>
<li><strong>template:</strong>  reslice the input image to match the specified template image            grid.</li>
<li><strong>midway_space:</strong>  reslice the input image to the midway space. Requires            either the -template or -warp option. If used with -template and            -linear option the input image will be resliced onto the grid halfway            between the input and template. If used with the -warp option the input            will be warped to the midway space defined by the grid of the input            warp (i.e. half way between image1 and image2).</li>
<li><strong>interp:</strong>  set the interpolation method to use when reslicing (choices:            nearest, linear, cubic, sinc. Default: cubic).</li>
<li><strong>oversample:</strong>  set the amount of over-sampling (in the target space) to            perform when regridding. This is particularly relevant when downsamping            a high-resolution image to a low-resolution image, to avoid aliasing            artefacts. This can consist of a single integer, or a comma-separated            list of 3 integers if different oversampling factors are desired along            the different axes. Default is determined from ratio of voxel            dimensions (disabled for nearest-neighbour interpolation).</li>
<li><strong>warp:</strong>  apply a non-linear 4D deformation field to warp the input image.            Each voxel in the deformation field must define the scanner space            position that will be used to interpolate the input image during            warping (i.e. pull-back/reverse warp convention). If the -template            image is also supplied the deformation field will be resliced first to            the template image grid. If no -template option is supplied then the            output image will have the same image grid as the deformation field.            This option can be used in combination with the -affine option, in            which case the affine will be applied first).</li>
<li><strong>warp_full:</strong>  warp the input image using a 5D warp file output from            mrregister. Any linear transforms in the warp image header will also be            applied. The -warp_full option must be used in combination with either            the -template option or the -midway_space option. If a -template image            is supplied then the full warp will be used. By default the            image1->image2 transform will be applied, however the -from 2 option            can be used to apply the image2->image1 transform. Use the            -midway_space option to warp the input image to the midway space. The            -from option can also be used to define which warp to use when            transforming to midway space.</li>
<li><strong>from_:</strong>  used to define which space the input image is when using the            -warp_mid option. Use -from 1 to warp from image1 or -from 2 to warp            from image2.</li>
<li><strong>modulate:</strong>  Valid choices are: fod and jac.            fod: modulate FODs during reorientation to preserve the apparent            fibre density across fibre bundle widths before and after the            transformation.            jac: modulate the image intensity with the determinant of the            Jacobian of the warp of linear transformation to preserve the total            intensity before and after the transformation.</li>
<li><strong>directions:</strong>  directions defining the number and orientation of the            apodised point spread functions used in FOD reorientation (Default: 300            directions).</li>
<li><strong>reorient_fod:</strong>  specify whether to perform FOD reorientation. This is            required if the number of volumes in the 4th dimension corresponds to            the number of coefficients in an antipodally symmetric spherical            harmonic series with lmax &gt;= 2 (i.e. 6, 15, 28, 45, 66 volumes).</li>
<li><strong>grad:</strong>  Provide the diffusion-weighted gradient scheme used in the            acquisition in a text file. This should be supplied as a 4xN text file            with each line is in the format [ X Y Z b ], where [ X Y Z ] describe            the direction of the applied gradient, and b gives the b-value in units            of s/mm^2. If a diffusion gradient scheme is present in the input image            header, the data provided with this option will be instead used.</li>
<li><strong>fslgrad:</strong>  Provide the diffusion-weighted gradient scheme used in the            acquisition in FSL bvecs/bvals format files. If a diffusion gradient            scheme is present in the input image header, the data provided with            this option will be instead used.</li>
<li><strong>export_grad_mrtrix:</strong>  export the diffusion-weighted gradient table to            file in MRtrix format.</li>
<li><strong>export_grad_fsl:</strong>  export the diffusion-weighted gradient table to files            in FSL (bvecs / bvals) format.</li>
<li><strong>datatype:</strong>  specify output image data type. Valid choices are: float32,            float32le, float32be, float64, float64le, float64be, int64, uint64,            int64le, uint64le, int64be, uint64be, int32, uint32, int32le, uint32le,            int32be, uint32be, int16, uint16, int16le, uint16le, int16be, uint16be,            cfloat32, cfloat32le, cfloat32be, cfloat64, cfloat64le, cfloat64be,            int8, uint8, bit.</li>
<li><strong>strides:</strong>  specify the strides of the output data in memory; either as a            comma-separated list of (signed) integers, or as a template image from            which the strides shall be extracted and used. The actual strides            produced will depend on whether the output image format can support it.</li>
<li><strong>nan:</strong>  Use NaN as the out of bounds value (Default: 0.0).</li>
<li><strong>no_reorientation:</strong>  deprecated, use -reorient_fod instead.</li>
<li><strong>info:</strong>  display information messages.</li>
<li><strong>quiet:</strong>  do not display information messages or progress status;            alternatively, this can be achieved by setting the MRTRIX_QUIET            environment variable to a non-empty string.</li>
<li><strong>debug:</strong>  display debugging messages.</li>
<li><strong>force:</strong>  force overwrite of output files (caution: using the same file as            input and output might cause unexpected behaviour).</li>
<li><strong>nthreads:</strong>  use this number of threads in multi-threaded applications            (set to 0 to disable multi-threading).</li>
<li><strong>config:</strong>  temporarily set the value of an MRtrix config file entry.</li>
<li><strong>help_:</strong>  display this information page and exit.</li>
<li><strong>version:</strong>  display version information and exit.</li>
<li><strong>runner:</strong>  Command runner.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>NamedTuple of outputs (described in <code><a href="#MrtransformOutputs">MrtransformOutputs</a></code>).</p>
</blockquote>
</div>


                </section>
                <section id="mrtransform_config_params">
                            <input id="mrtransform_config_params-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mrtransform_config_params</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">key</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">value</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">niwrap</span><span class="o">.</span><span class="n">mrtrix</span><span class="o">.</span><span class="n">mrtransform</span><span class="o">.</span><span class="n">MrtransformConfigParameters</span>:</span></span>

                <label class="view-source-button" for="mrtransform_config_params-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#mrtransform_config_params"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="mrtransform_config_params-315"><a href="#mrtransform_config_params-315"><span class="linenos">315</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_config_params</span><span class="p">(</span>
</span><span id="mrtransform_config_params-316"><a href="#mrtransform_config_params-316"><span class="linenos">316</span></a>    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="mrtransform_config_params-317"><a href="#mrtransform_config_params-317"><span class="linenos">317</span></a>    <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="mrtransform_config_params-318"><a href="#mrtransform_config_params-318"><span class="linenos">318</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MrtransformConfigParameters</span><span class="p">:</span>
</span><span id="mrtransform_config_params-319"><a href="#mrtransform_config_params-319"><span class="linenos">319</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="mrtransform_config_params-320"><a href="#mrtransform_config_params-320"><span class="linenos">320</span></a><span class="sd">    Build parameters.</span>
</span><span id="mrtransform_config_params-321"><a href="#mrtransform_config_params-321"><span class="linenos">321</span></a><span class="sd">    </span>
</span><span id="mrtransform_config_params-322"><a href="#mrtransform_config_params-322"><span class="linenos">322</span></a><span class="sd">    Args:</span>
</span><span id="mrtransform_config_params-323"><a href="#mrtransform_config_params-323"><span class="linenos">323</span></a><span class="sd">        key: temporarily set the value of an MRtrix config file entry.</span>
</span><span id="mrtransform_config_params-324"><a href="#mrtransform_config_params-324"><span class="linenos">324</span></a><span class="sd">        value: temporarily set the value of an MRtrix config file entry.</span>
</span><span id="mrtransform_config_params-325"><a href="#mrtransform_config_params-325"><span class="linenos">325</span></a><span class="sd">    Returns:</span>
</span><span id="mrtransform_config_params-326"><a href="#mrtransform_config_params-326"><span class="linenos">326</span></a><span class="sd">        Parameter dictionary</span>
</span><span id="mrtransform_config_params-327"><a href="#mrtransform_config_params-327"><span class="linenos">327</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="mrtransform_config_params-328"><a href="#mrtransform_config_params-328"><span class="linenos">328</span></a>    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="mrtransform_config_params-329"><a href="#mrtransform_config_params-329"><span class="linenos">329</span></a>        <span class="s2">&quot;__STYXTYPE__&quot;</span><span class="p">:</span> <span class="s2">&quot;config&quot;</span><span class="p">,</span>
</span><span id="mrtransform_config_params-330"><a href="#mrtransform_config_params-330"><span class="linenos">330</span></a>        <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="n">key</span><span class="p">,</span>
</span><span id="mrtransform_config_params-331"><a href="#mrtransform_config_params-331"><span class="linenos">331</span></a>        <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span>
</span><span id="mrtransform_config_params-332"><a href="#mrtransform_config_params-332"><span class="linenos">332</span></a>    <span class="p">}</span>
</span><span id="mrtransform_config_params-333"><a href="#mrtransform_config_params-333"><span class="linenos">333</span></a>    <span class="k">return</span> <span class="n">params</span>
</span></pre></div>


            <div class="docstring"><p>Build parameters.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>key:</strong>  temporarily set the value of an MRtrix config file entry.</li>
<li><strong>value:</strong>  temporarily set the value of an MRtrix config file entry.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Parameter dictionary</p>
</blockquote>
</div>


                </section>
                <section id="mrtransform_export_grad_fsl_params">
                            <input id="mrtransform_export_grad_fsl_params-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mrtransform_export_grad_fsl_params</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">bvecs_path</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">bvals_path</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">niwrap</span><span class="o">.</span><span class="n">mrtrix</span><span class="o">.</span><span class="n">mrtransform</span><span class="o">.</span><span class="n">MrtransformExportGradFslParameters</span>:</span></span>

                <label class="view-source-button" for="mrtransform_export_grad_fsl_params-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#mrtransform_export_grad_fsl_params"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="mrtransform_export_grad_fsl_params-179"><a href="#mrtransform_export_grad_fsl_params-179"><span class="linenos">179</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_export_grad_fsl_params</span><span class="p">(</span>
</span><span id="mrtransform_export_grad_fsl_params-180"><a href="#mrtransform_export_grad_fsl_params-180"><span class="linenos">180</span></a>    <span class="n">bvecs_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="mrtransform_export_grad_fsl_params-181"><a href="#mrtransform_export_grad_fsl_params-181"><span class="linenos">181</span></a>    <span class="n">bvals_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="mrtransform_export_grad_fsl_params-182"><a href="#mrtransform_export_grad_fsl_params-182"><span class="linenos">182</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MrtransformExportGradFslParameters</span><span class="p">:</span>
</span><span id="mrtransform_export_grad_fsl_params-183"><a href="#mrtransform_export_grad_fsl_params-183"><span class="linenos">183</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="mrtransform_export_grad_fsl_params-184"><a href="#mrtransform_export_grad_fsl_params-184"><span class="linenos">184</span></a><span class="sd">    Build parameters.</span>
</span><span id="mrtransform_export_grad_fsl_params-185"><a href="#mrtransform_export_grad_fsl_params-185"><span class="linenos">185</span></a><span class="sd">    </span>
</span><span id="mrtransform_export_grad_fsl_params-186"><a href="#mrtransform_export_grad_fsl_params-186"><span class="linenos">186</span></a><span class="sd">    Args:</span>
</span><span id="mrtransform_export_grad_fsl_params-187"><a href="#mrtransform_export_grad_fsl_params-187"><span class="linenos">187</span></a><span class="sd">        bvecs_path: export the diffusion-weighted gradient table to files in\</span>
</span><span id="mrtransform_export_grad_fsl_params-188"><a href="#mrtransform_export_grad_fsl_params-188"><span class="linenos">188</span></a><span class="sd">            FSL (bvecs / bvals) format.</span>
</span><span id="mrtransform_export_grad_fsl_params-189"><a href="#mrtransform_export_grad_fsl_params-189"><span class="linenos">189</span></a><span class="sd">        bvals_path: export the diffusion-weighted gradient table to files in\</span>
</span><span id="mrtransform_export_grad_fsl_params-190"><a href="#mrtransform_export_grad_fsl_params-190"><span class="linenos">190</span></a><span class="sd">            FSL (bvecs / bvals) format.</span>
</span><span id="mrtransform_export_grad_fsl_params-191"><a href="#mrtransform_export_grad_fsl_params-191"><span class="linenos">191</span></a><span class="sd">    Returns:</span>
</span><span id="mrtransform_export_grad_fsl_params-192"><a href="#mrtransform_export_grad_fsl_params-192"><span class="linenos">192</span></a><span class="sd">        Parameter dictionary</span>
</span><span id="mrtransform_export_grad_fsl_params-193"><a href="#mrtransform_export_grad_fsl_params-193"><span class="linenos">193</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="mrtransform_export_grad_fsl_params-194"><a href="#mrtransform_export_grad_fsl_params-194"><span class="linenos">194</span></a>    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="mrtransform_export_grad_fsl_params-195"><a href="#mrtransform_export_grad_fsl_params-195"><span class="linenos">195</span></a>        <span class="s2">&quot;__STYXTYPE__&quot;</span><span class="p">:</span> <span class="s2">&quot;export_grad_fsl&quot;</span><span class="p">,</span>
</span><span id="mrtransform_export_grad_fsl_params-196"><a href="#mrtransform_export_grad_fsl_params-196"><span class="linenos">196</span></a>        <span class="s2">&quot;bvecs_path&quot;</span><span class="p">:</span> <span class="n">bvecs_path</span><span class="p">,</span>
</span><span id="mrtransform_export_grad_fsl_params-197"><a href="#mrtransform_export_grad_fsl_params-197"><span class="linenos">197</span></a>        <span class="s2">&quot;bvals_path&quot;</span><span class="p">:</span> <span class="n">bvals_path</span><span class="p">,</span>
</span><span id="mrtransform_export_grad_fsl_params-198"><a href="#mrtransform_export_grad_fsl_params-198"><span class="linenos">198</span></a>    <span class="p">}</span>
</span><span id="mrtransform_export_grad_fsl_params-199"><a href="#mrtransform_export_grad_fsl_params-199"><span class="linenos">199</span></a>    <span class="k">return</span> <span class="n">params</span>
</span></pre></div>


            <div class="docstring"><p>Build parameters.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>bvecs_path:</strong>  export the diffusion-weighted gradient table to files in            FSL (bvecs / bvals) format.</li>
<li><strong>bvals_path:</strong>  export the diffusion-weighted gradient table to files in            FSL (bvecs / bvals) format.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Parameter dictionary</p>
</blockquote>
</div>


                </section>
                <section id="mrtransform_fslgrad_params">
                            <input id="mrtransform_fslgrad_params-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mrtransform_fslgrad_params</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">bvecs</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">bvals</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">niwrap</span><span class="o">.</span><span class="n">mrtrix</span><span class="o">.</span><span class="n">mrtransform</span><span class="o">.</span><span class="n">MrtransformFslgradParameters</span>:</span></span>

                <label class="view-source-button" for="mrtransform_fslgrad_params-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#mrtransform_fslgrad_params"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="mrtransform_fslgrad_params-118"><a href="#mrtransform_fslgrad_params-118"><span class="linenos">118</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_fslgrad_params</span><span class="p">(</span>
</span><span id="mrtransform_fslgrad_params-119"><a href="#mrtransform_fslgrad_params-119"><span class="linenos">119</span></a>    <span class="n">bvecs</span><span class="p">:</span> <span class="n">InputPathType</span><span class="p">,</span>
</span><span id="mrtransform_fslgrad_params-120"><a href="#mrtransform_fslgrad_params-120"><span class="linenos">120</span></a>    <span class="n">bvals</span><span class="p">:</span> <span class="n">InputPathType</span><span class="p">,</span>
</span><span id="mrtransform_fslgrad_params-121"><a href="#mrtransform_fslgrad_params-121"><span class="linenos">121</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MrtransformFslgradParameters</span><span class="p">:</span>
</span><span id="mrtransform_fslgrad_params-122"><a href="#mrtransform_fslgrad_params-122"><span class="linenos">122</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="mrtransform_fslgrad_params-123"><a href="#mrtransform_fslgrad_params-123"><span class="linenos">123</span></a><span class="sd">    Build parameters.</span>
</span><span id="mrtransform_fslgrad_params-124"><a href="#mrtransform_fslgrad_params-124"><span class="linenos">124</span></a><span class="sd">    </span>
</span><span id="mrtransform_fslgrad_params-125"><a href="#mrtransform_fslgrad_params-125"><span class="linenos">125</span></a><span class="sd">    Args:</span>
</span><span id="mrtransform_fslgrad_params-126"><a href="#mrtransform_fslgrad_params-126"><span class="linenos">126</span></a><span class="sd">        bvecs: Provide the diffusion-weighted gradient scheme used in the\</span>
</span><span id="mrtransform_fslgrad_params-127"><a href="#mrtransform_fslgrad_params-127"><span class="linenos">127</span></a><span class="sd">            acquisition in FSL bvecs/bvals format files. If a diffusion gradient\</span>
</span><span id="mrtransform_fslgrad_params-128"><a href="#mrtransform_fslgrad_params-128"><span class="linenos">128</span></a><span class="sd">            scheme is present in the input image header, the data provided with\</span>
</span><span id="mrtransform_fslgrad_params-129"><a href="#mrtransform_fslgrad_params-129"><span class="linenos">129</span></a><span class="sd">            this option will be instead used.</span>
</span><span id="mrtransform_fslgrad_params-130"><a href="#mrtransform_fslgrad_params-130"><span class="linenos">130</span></a><span class="sd">        bvals: Provide the diffusion-weighted gradient scheme used in the\</span>
</span><span id="mrtransform_fslgrad_params-131"><a href="#mrtransform_fslgrad_params-131"><span class="linenos">131</span></a><span class="sd">            acquisition in FSL bvecs/bvals format files. If a diffusion gradient\</span>
</span><span id="mrtransform_fslgrad_params-132"><a href="#mrtransform_fslgrad_params-132"><span class="linenos">132</span></a><span class="sd">            scheme is present in the input image header, the data provided with\</span>
</span><span id="mrtransform_fslgrad_params-133"><a href="#mrtransform_fslgrad_params-133"><span class="linenos">133</span></a><span class="sd">            this option will be instead used.</span>
</span><span id="mrtransform_fslgrad_params-134"><a href="#mrtransform_fslgrad_params-134"><span class="linenos">134</span></a><span class="sd">    Returns:</span>
</span><span id="mrtransform_fslgrad_params-135"><a href="#mrtransform_fslgrad_params-135"><span class="linenos">135</span></a><span class="sd">        Parameter dictionary</span>
</span><span id="mrtransform_fslgrad_params-136"><a href="#mrtransform_fslgrad_params-136"><span class="linenos">136</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="mrtransform_fslgrad_params-137"><a href="#mrtransform_fslgrad_params-137"><span class="linenos">137</span></a>    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="mrtransform_fslgrad_params-138"><a href="#mrtransform_fslgrad_params-138"><span class="linenos">138</span></a>        <span class="s2">&quot;__STYXTYPE__&quot;</span><span class="p">:</span> <span class="s2">&quot;fslgrad&quot;</span><span class="p">,</span>
</span><span id="mrtransform_fslgrad_params-139"><a href="#mrtransform_fslgrad_params-139"><span class="linenos">139</span></a>        <span class="s2">&quot;bvecs&quot;</span><span class="p">:</span> <span class="n">bvecs</span><span class="p">,</span>
</span><span id="mrtransform_fslgrad_params-140"><a href="#mrtransform_fslgrad_params-140"><span class="linenos">140</span></a>        <span class="s2">&quot;bvals&quot;</span><span class="p">:</span> <span class="n">bvals</span><span class="p">,</span>
</span><span id="mrtransform_fslgrad_params-141"><a href="#mrtransform_fslgrad_params-141"><span class="linenos">141</span></a>    <span class="p">}</span>
</span><span id="mrtransform_fslgrad_params-142"><a href="#mrtransform_fslgrad_params-142"><span class="linenos">142</span></a>    <span class="k">return</span> <span class="n">params</span>
</span></pre></div>


            <div class="docstring"><p>Build parameters.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>bvecs:</strong>  Provide the diffusion-weighted gradient scheme used in the            acquisition in FSL bvecs/bvals format files. If a diffusion gradient            scheme is present in the input image header, the data provided with            this option will be instead used.</li>
<li><strong>bvals:</strong>  Provide the diffusion-weighted gradient scheme used in the            acquisition in FSL bvecs/bvals format files. If a diffusion gradient            scheme is present in the input image header, the data provided with            this option will be instead used.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Parameter dictionary</p>
</blockquote>
</div>


                </section>
                <section id="mrtransform_params">
                            <input id="mrtransform_params-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mrtransform_params</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">input_</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">output</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">linear</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">flip</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">inverse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">half</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">replace</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">identity</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">template</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">midway_space</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">interp</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">oversample</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">warp</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">warp_full</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">from_</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">modulate</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">directions</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">reorient_fod</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">grad</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">fslgrad</span><span class="p">:</span> <span class="n">niwrap</span><span class="o">.</span><span class="n">mrtrix</span><span class="o">.</span><span class="n">mrtransform</span><span class="o">.</span><span class="n">MrtransformFslgradParameters</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">export_grad_mrtrix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">export_grad_fsl</span><span class="p">:</span> <span class="n">niwrap</span><span class="o">.</span><span class="n">mrtrix</span><span class="o">.</span><span class="n">mrtransform</span><span class="o">.</span><span class="n">MrtransformExportGradFslParameters</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">datatype</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">strides</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">niwrap</span><span class="o">.</span><span class="n">mrtrix</span><span class="o">.</span><span class="n">mrtransform</span><span class="o">.</span><span class="n">MrtransformVariousStringParameters</span><span class="p">,</span> <span class="n">niwrap</span><span class="o">.</span><span class="n">mrtrix</span><span class="o">.</span><span class="n">mrtransform</span><span class="o">.</span><span class="n">MrtransformVariousFileParameters</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">nan</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">no_reorientation</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">info</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">quiet</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">nthreads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">config</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">niwrap</span><span class="o">.</span><span class="n">mrtrix</span><span class="o">.</span><span class="n">mrtransform</span><span class="o">.</span><span class="n">MrtransformConfigParameters</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">help_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">version</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n">niwrap</span><span class="o">.</span><span class="n">mrtrix</span><span class="o">.</span><span class="n">mrtransform</span><span class="o">.</span><span class="n">MrtransformParameters</span>:</span></span>

                <label class="view-source-button" for="mrtransform_params-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#mrtransform_params"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="mrtransform_params-370"><a href="#mrtransform_params-370"><span class="linenos">370</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_params</span><span class="p">(</span>
</span><span id="mrtransform_params-371"><a href="#mrtransform_params-371"><span class="linenos">371</span></a>    <span class="n">input_</span><span class="p">:</span> <span class="n">InputPathType</span><span class="p">,</span>
</span><span id="mrtransform_params-372"><a href="#mrtransform_params-372"><span class="linenos">372</span></a>    <span class="n">output</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="mrtransform_params-373"><a href="#mrtransform_params-373"><span class="linenos">373</span></a>    <span class="n">linear</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-374"><a href="#mrtransform_params-374"><span class="linenos">374</span></a>    <span class="n">flip</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-375"><a href="#mrtransform_params-375"><span class="linenos">375</span></a>    <span class="n">inverse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform_params-376"><a href="#mrtransform_params-376"><span class="linenos">376</span></a>    <span class="n">half</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform_params-377"><a href="#mrtransform_params-377"><span class="linenos">377</span></a>    <span class="n">replace</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-378"><a href="#mrtransform_params-378"><span class="linenos">378</span></a>    <span class="n">identity</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform_params-379"><a href="#mrtransform_params-379"><span class="linenos">379</span></a>    <span class="n">template</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-380"><a href="#mrtransform_params-380"><span class="linenos">380</span></a>    <span class="n">midway_space</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform_params-381"><a href="#mrtransform_params-381"><span class="linenos">381</span></a>    <span class="n">interp</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-382"><a href="#mrtransform_params-382"><span class="linenos">382</span></a>    <span class="n">oversample</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-383"><a href="#mrtransform_params-383"><span class="linenos">383</span></a>    <span class="n">warp</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-384"><a href="#mrtransform_params-384"><span class="linenos">384</span></a>    <span class="n">warp_full</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-385"><a href="#mrtransform_params-385"><span class="linenos">385</span></a>    <span class="n">from_</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-386"><a href="#mrtransform_params-386"><span class="linenos">386</span></a>    <span class="n">modulate</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-387"><a href="#mrtransform_params-387"><span class="linenos">387</span></a>    <span class="n">directions</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-388"><a href="#mrtransform_params-388"><span class="linenos">388</span></a>    <span class="n">reorient_fod</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-389"><a href="#mrtransform_params-389"><span class="linenos">389</span></a>    <span class="n">grad</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-390"><a href="#mrtransform_params-390"><span class="linenos">390</span></a>    <span class="n">fslgrad</span><span class="p">:</span> <span class="n">MrtransformFslgradParameters</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-391"><a href="#mrtransform_params-391"><span class="linenos">391</span></a>    <span class="n">export_grad_mrtrix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-392"><a href="#mrtransform_params-392"><span class="linenos">392</span></a>    <span class="n">export_grad_fsl</span><span class="p">:</span> <span class="n">MrtransformExportGradFslParameters</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-393"><a href="#mrtransform_params-393"><span class="linenos">393</span></a>    <span class="n">datatype</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-394"><a href="#mrtransform_params-394"><span class="linenos">394</span></a>    <span class="n">strides</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">MrtransformVariousStringParameters</span><span class="p">,</span> <span class="n">MrtransformVariousFileParameters</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-395"><a href="#mrtransform_params-395"><span class="linenos">395</span></a>    <span class="n">nan</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform_params-396"><a href="#mrtransform_params-396"><span class="linenos">396</span></a>    <span class="n">no_reorientation</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform_params-397"><a href="#mrtransform_params-397"><span class="linenos">397</span></a>    <span class="n">info</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform_params-398"><a href="#mrtransform_params-398"><span class="linenos">398</span></a>    <span class="n">quiet</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform_params-399"><a href="#mrtransform_params-399"><span class="linenos">399</span></a>    <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform_params-400"><a href="#mrtransform_params-400"><span class="linenos">400</span></a>    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform_params-401"><a href="#mrtransform_params-401"><span class="linenos">401</span></a>    <span class="n">nthreads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-402"><a href="#mrtransform_params-402"><span class="linenos">402</span></a>    <span class="n">config</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">MrtransformConfigParameters</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="mrtransform_params-403"><a href="#mrtransform_params-403"><span class="linenos">403</span></a>    <span class="n">help_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform_params-404"><a href="#mrtransform_params-404"><span class="linenos">404</span></a>    <span class="n">version</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="mrtransform_params-405"><a href="#mrtransform_params-405"><span class="linenos">405</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MrtransformParameters</span><span class="p">:</span>
</span><span id="mrtransform_params-406"><a href="#mrtransform_params-406"><span class="linenos">406</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="mrtransform_params-407"><a href="#mrtransform_params-407"><span class="linenos">407</span></a><span class="sd">    Build parameters.</span>
</span><span id="mrtransform_params-408"><a href="#mrtransform_params-408"><span class="linenos">408</span></a><span class="sd">    </span>
</span><span id="mrtransform_params-409"><a href="#mrtransform_params-409"><span class="linenos">409</span></a><span class="sd">    Args:</span>
</span><span id="mrtransform_params-410"><a href="#mrtransform_params-410"><span class="linenos">410</span></a><span class="sd">        input_: input image to be transformed.</span>
</span><span id="mrtransform_params-411"><a href="#mrtransform_params-411"><span class="linenos">411</span></a><span class="sd">        output: the output image.</span>
</span><span id="mrtransform_params-412"><a href="#mrtransform_params-412"><span class="linenos">412</span></a><span class="sd">        linear: specify a linear transform to apply, in the form of a 3x4 or\</span>
</span><span id="mrtransform_params-413"><a href="#mrtransform_params-413"><span class="linenos">413</span></a><span class="sd">            4x4 ascii file. Note the standard &#39;reverse&#39; convention is used, where\</span>
</span><span id="mrtransform_params-414"><a href="#mrtransform_params-414"><span class="linenos">414</span></a><span class="sd">            the transform maps points in the template image to the moving image.\</span>
</span><span id="mrtransform_params-415"><a href="#mrtransform_params-415"><span class="linenos">415</span></a><span class="sd">            Note that the reverse convention is still assumed even if no -template\</span>
</span><span id="mrtransform_params-416"><a href="#mrtransform_params-416"><span class="linenos">416</span></a><span class="sd">            image is supplied.</span>
</span><span id="mrtransform_params-417"><a href="#mrtransform_params-417"><span class="linenos">417</span></a><span class="sd">        flip: flip the specified axes, provided as a comma-separated list of\</span>
</span><span id="mrtransform_params-418"><a href="#mrtransform_params-418"><span class="linenos">418</span></a><span class="sd">            indices (0:x, 1:y, 2:z).</span>
</span><span id="mrtransform_params-419"><a href="#mrtransform_params-419"><span class="linenos">419</span></a><span class="sd">        inverse: apply the inverse transformation.</span>
</span><span id="mrtransform_params-420"><a href="#mrtransform_params-420"><span class="linenos">420</span></a><span class="sd">        half: apply the matrix square root of the transformation. This can be\</span>
</span><span id="mrtransform_params-421"><a href="#mrtransform_params-421"><span class="linenos">421</span></a><span class="sd">            combined with the inverse option.</span>
</span><span id="mrtransform_params-422"><a href="#mrtransform_params-422"><span class="linenos">422</span></a><span class="sd">        replace: replace the linear transform of the original image by that\</span>
</span><span id="mrtransform_params-423"><a href="#mrtransform_params-423"><span class="linenos">423</span></a><span class="sd">            specified, rather than applying it to the original image. The specified\</span>
</span><span id="mrtransform_params-424"><a href="#mrtransform_params-424"><span class="linenos">424</span></a><span class="sd">            transform can be either a template image, or a 3x4 or 4x4 ascii file.</span>
</span><span id="mrtransform_params-425"><a href="#mrtransform_params-425"><span class="linenos">425</span></a><span class="sd">        identity: set the header transform of the image to the identity matrix.</span>
</span><span id="mrtransform_params-426"><a href="#mrtransform_params-426"><span class="linenos">426</span></a><span class="sd">        template: reslice the input image to match the specified template image\</span>
</span><span id="mrtransform_params-427"><a href="#mrtransform_params-427"><span class="linenos">427</span></a><span class="sd">            grid.</span>
</span><span id="mrtransform_params-428"><a href="#mrtransform_params-428"><span class="linenos">428</span></a><span class="sd">        midway_space: reslice the input image to the midway space. Requires\</span>
</span><span id="mrtransform_params-429"><a href="#mrtransform_params-429"><span class="linenos">429</span></a><span class="sd">            either the -template or -warp option. If used with -template and\</span>
</span><span id="mrtransform_params-430"><a href="#mrtransform_params-430"><span class="linenos">430</span></a><span class="sd">            -linear option the input image will be resliced onto the grid halfway\</span>
</span><span id="mrtransform_params-431"><a href="#mrtransform_params-431"><span class="linenos">431</span></a><span class="sd">            between the input and template. If used with the -warp option the input\</span>
</span><span id="mrtransform_params-432"><a href="#mrtransform_params-432"><span class="linenos">432</span></a><span class="sd">            will be warped to the midway space defined by the grid of the input\</span>
</span><span id="mrtransform_params-433"><a href="#mrtransform_params-433"><span class="linenos">433</span></a><span class="sd">            warp (i.e. half way between image1 and image2).</span>
</span><span id="mrtransform_params-434"><a href="#mrtransform_params-434"><span class="linenos">434</span></a><span class="sd">        interp: set the interpolation method to use when reslicing (choices:\</span>
</span><span id="mrtransform_params-435"><a href="#mrtransform_params-435"><span class="linenos">435</span></a><span class="sd">            nearest, linear, cubic, sinc. Default: cubic).</span>
</span><span id="mrtransform_params-436"><a href="#mrtransform_params-436"><span class="linenos">436</span></a><span class="sd">        oversample: set the amount of over-sampling (in the target space) to\</span>
</span><span id="mrtransform_params-437"><a href="#mrtransform_params-437"><span class="linenos">437</span></a><span class="sd">            perform when regridding. This is particularly relevant when downsamping\</span>
</span><span id="mrtransform_params-438"><a href="#mrtransform_params-438"><span class="linenos">438</span></a><span class="sd">            a high-resolution image to a low-resolution image, to avoid aliasing\</span>
</span><span id="mrtransform_params-439"><a href="#mrtransform_params-439"><span class="linenos">439</span></a><span class="sd">            artefacts. This can consist of a single integer, or a comma-separated\</span>
</span><span id="mrtransform_params-440"><a href="#mrtransform_params-440"><span class="linenos">440</span></a><span class="sd">            list of 3 integers if different oversampling factors are desired along\</span>
</span><span id="mrtransform_params-441"><a href="#mrtransform_params-441"><span class="linenos">441</span></a><span class="sd">            the different axes. Default is determined from ratio of voxel\</span>
</span><span id="mrtransform_params-442"><a href="#mrtransform_params-442"><span class="linenos">442</span></a><span class="sd">            dimensions (disabled for nearest-neighbour interpolation).</span>
</span><span id="mrtransform_params-443"><a href="#mrtransform_params-443"><span class="linenos">443</span></a><span class="sd">        warp: apply a non-linear 4D deformation field to warp the input image.\</span>
</span><span id="mrtransform_params-444"><a href="#mrtransform_params-444"><span class="linenos">444</span></a><span class="sd">            Each voxel in the deformation field must define the scanner space\</span>
</span><span id="mrtransform_params-445"><a href="#mrtransform_params-445"><span class="linenos">445</span></a><span class="sd">            position that will be used to interpolate the input image during\</span>
</span><span id="mrtransform_params-446"><a href="#mrtransform_params-446"><span class="linenos">446</span></a><span class="sd">            warping (i.e. pull-back/reverse warp convention). If the -template\</span>
</span><span id="mrtransform_params-447"><a href="#mrtransform_params-447"><span class="linenos">447</span></a><span class="sd">            image is also supplied the deformation field will be resliced first to\</span>
</span><span id="mrtransform_params-448"><a href="#mrtransform_params-448"><span class="linenos">448</span></a><span class="sd">            the template image grid. If no -template option is supplied then the\</span>
</span><span id="mrtransform_params-449"><a href="#mrtransform_params-449"><span class="linenos">449</span></a><span class="sd">            output image will have the same image grid as the deformation field.\</span>
</span><span id="mrtransform_params-450"><a href="#mrtransform_params-450"><span class="linenos">450</span></a><span class="sd">            This option can be used in combination with the -affine option, in\</span>
</span><span id="mrtransform_params-451"><a href="#mrtransform_params-451"><span class="linenos">451</span></a><span class="sd">            which case the affine will be applied first).</span>
</span><span id="mrtransform_params-452"><a href="#mrtransform_params-452"><span class="linenos">452</span></a><span class="sd">        warp_full: warp the input image using a 5D warp file output from\</span>
</span><span id="mrtransform_params-453"><a href="#mrtransform_params-453"><span class="linenos">453</span></a><span class="sd">            mrregister. Any linear transforms in the warp image header will also be\</span>
</span><span id="mrtransform_params-454"><a href="#mrtransform_params-454"><span class="linenos">454</span></a><span class="sd">            applied. The -warp_full option must be used in combination with either\</span>
</span><span id="mrtransform_params-455"><a href="#mrtransform_params-455"><span class="linenos">455</span></a><span class="sd">            the -template option or the -midway_space option. If a -template image\</span>
</span><span id="mrtransform_params-456"><a href="#mrtransform_params-456"><span class="linenos">456</span></a><span class="sd">            is supplied then the full warp will be used. By default the\</span>
</span><span id="mrtransform_params-457"><a href="#mrtransform_params-457"><span class="linenos">457</span></a><span class="sd">            image1-&gt;image2 transform will be applied, however the -from 2 option\</span>
</span><span id="mrtransform_params-458"><a href="#mrtransform_params-458"><span class="linenos">458</span></a><span class="sd">            can be used to apply the image2-&gt;image1 transform. Use the\</span>
</span><span id="mrtransform_params-459"><a href="#mrtransform_params-459"><span class="linenos">459</span></a><span class="sd">            -midway_space option to warp the input image to the midway space. The\</span>
</span><span id="mrtransform_params-460"><a href="#mrtransform_params-460"><span class="linenos">460</span></a><span class="sd">            -from option can also be used to define which warp to use when\</span>
</span><span id="mrtransform_params-461"><a href="#mrtransform_params-461"><span class="linenos">461</span></a><span class="sd">            transforming to midway space.</span>
</span><span id="mrtransform_params-462"><a href="#mrtransform_params-462"><span class="linenos">462</span></a><span class="sd">        from_: used to define which space the input image is when using the\</span>
</span><span id="mrtransform_params-463"><a href="#mrtransform_params-463"><span class="linenos">463</span></a><span class="sd">            -warp_mid option. Use -from 1 to warp from image1 or -from 2 to warp\</span>
</span><span id="mrtransform_params-464"><a href="#mrtransform_params-464"><span class="linenos">464</span></a><span class="sd">            from image2.</span>
</span><span id="mrtransform_params-465"><a href="#mrtransform_params-465"><span class="linenos">465</span></a><span class="sd">        modulate: Valid choices are: fod and jac.\</span>
</span><span id="mrtransform_params-466"><a href="#mrtransform_params-466"><span class="linenos">466</span></a><span class="sd">            fod: modulate FODs during reorientation to preserve the apparent\</span>
</span><span id="mrtransform_params-467"><a href="#mrtransform_params-467"><span class="linenos">467</span></a><span class="sd">            fibre density across fibre bundle widths before and after the\</span>
</span><span id="mrtransform_params-468"><a href="#mrtransform_params-468"><span class="linenos">468</span></a><span class="sd">            transformation.\</span>
</span><span id="mrtransform_params-469"><a href="#mrtransform_params-469"><span class="linenos">469</span></a><span class="sd">            jac: modulate the image intensity with the determinant of the\</span>
</span><span id="mrtransform_params-470"><a href="#mrtransform_params-470"><span class="linenos">470</span></a><span class="sd">            Jacobian of the warp of linear transformation to preserve the total\</span>
</span><span id="mrtransform_params-471"><a href="#mrtransform_params-471"><span class="linenos">471</span></a><span class="sd">            intensity before and after the transformation.</span>
</span><span id="mrtransform_params-472"><a href="#mrtransform_params-472"><span class="linenos">472</span></a><span class="sd">        directions: directions defining the number and orientation of the\</span>
</span><span id="mrtransform_params-473"><a href="#mrtransform_params-473"><span class="linenos">473</span></a><span class="sd">            apodised point spread functions used in FOD reorientation (Default: 300\</span>
</span><span id="mrtransform_params-474"><a href="#mrtransform_params-474"><span class="linenos">474</span></a><span class="sd">            directions).</span>
</span><span id="mrtransform_params-475"><a href="#mrtransform_params-475"><span class="linenos">475</span></a><span class="sd">        reorient_fod: specify whether to perform FOD reorientation. This is\</span>
</span><span id="mrtransform_params-476"><a href="#mrtransform_params-476"><span class="linenos">476</span></a><span class="sd">            required if the number of volumes in the 4th dimension corresponds to\</span>
</span><span id="mrtransform_params-477"><a href="#mrtransform_params-477"><span class="linenos">477</span></a><span class="sd">            the number of coefficients in an antipodally symmetric spherical\</span>
</span><span id="mrtransform_params-478"><a href="#mrtransform_params-478"><span class="linenos">478</span></a><span class="sd">            harmonic series with lmax &gt;= 2 (i.e. 6, 15, 28, 45, 66 volumes).</span>
</span><span id="mrtransform_params-479"><a href="#mrtransform_params-479"><span class="linenos">479</span></a><span class="sd">        grad: Provide the diffusion-weighted gradient scheme used in the\</span>
</span><span id="mrtransform_params-480"><a href="#mrtransform_params-480"><span class="linenos">480</span></a><span class="sd">            acquisition in a text file. This should be supplied as a 4xN text file\</span>
</span><span id="mrtransform_params-481"><a href="#mrtransform_params-481"><span class="linenos">481</span></a><span class="sd">            with each line is in the format [ X Y Z b ], where [ X Y Z ] describe\</span>
</span><span id="mrtransform_params-482"><a href="#mrtransform_params-482"><span class="linenos">482</span></a><span class="sd">            the direction of the applied gradient, and b gives the b-value in units\</span>
</span><span id="mrtransform_params-483"><a href="#mrtransform_params-483"><span class="linenos">483</span></a><span class="sd">            of s/mm^2. If a diffusion gradient scheme is present in the input image\</span>
</span><span id="mrtransform_params-484"><a href="#mrtransform_params-484"><span class="linenos">484</span></a><span class="sd">            header, the data provided with this option will be instead used.</span>
</span><span id="mrtransform_params-485"><a href="#mrtransform_params-485"><span class="linenos">485</span></a><span class="sd">        fslgrad: Provide the diffusion-weighted gradient scheme used in the\</span>
</span><span id="mrtransform_params-486"><a href="#mrtransform_params-486"><span class="linenos">486</span></a><span class="sd">            acquisition in FSL bvecs/bvals format files. If a diffusion gradient\</span>
</span><span id="mrtransform_params-487"><a href="#mrtransform_params-487"><span class="linenos">487</span></a><span class="sd">            scheme is present in the input image header, the data provided with\</span>
</span><span id="mrtransform_params-488"><a href="#mrtransform_params-488"><span class="linenos">488</span></a><span class="sd">            this option will be instead used.</span>
</span><span id="mrtransform_params-489"><a href="#mrtransform_params-489"><span class="linenos">489</span></a><span class="sd">        export_grad_mrtrix: export the diffusion-weighted gradient table to\</span>
</span><span id="mrtransform_params-490"><a href="#mrtransform_params-490"><span class="linenos">490</span></a><span class="sd">            file in MRtrix format.</span>
</span><span id="mrtransform_params-491"><a href="#mrtransform_params-491"><span class="linenos">491</span></a><span class="sd">        export_grad_fsl: export the diffusion-weighted gradient table to files\</span>
</span><span id="mrtransform_params-492"><a href="#mrtransform_params-492"><span class="linenos">492</span></a><span class="sd">            in FSL (bvecs / bvals) format.</span>
</span><span id="mrtransform_params-493"><a href="#mrtransform_params-493"><span class="linenos">493</span></a><span class="sd">        datatype: specify output image data type. Valid choices are: float32,\</span>
</span><span id="mrtransform_params-494"><a href="#mrtransform_params-494"><span class="linenos">494</span></a><span class="sd">            float32le, float32be, float64, float64le, float64be, int64, uint64,\</span>
</span><span id="mrtransform_params-495"><a href="#mrtransform_params-495"><span class="linenos">495</span></a><span class="sd">            int64le, uint64le, int64be, uint64be, int32, uint32, int32le, uint32le,\</span>
</span><span id="mrtransform_params-496"><a href="#mrtransform_params-496"><span class="linenos">496</span></a><span class="sd">            int32be, uint32be, int16, uint16, int16le, uint16le, int16be, uint16be,\</span>
</span><span id="mrtransform_params-497"><a href="#mrtransform_params-497"><span class="linenos">497</span></a><span class="sd">            cfloat32, cfloat32le, cfloat32be, cfloat64, cfloat64le, cfloat64be,\</span>
</span><span id="mrtransform_params-498"><a href="#mrtransform_params-498"><span class="linenos">498</span></a><span class="sd">            int8, uint8, bit.</span>
</span><span id="mrtransform_params-499"><a href="#mrtransform_params-499"><span class="linenos">499</span></a><span class="sd">        strides: specify the strides of the output data in memory; either as a\</span>
</span><span id="mrtransform_params-500"><a href="#mrtransform_params-500"><span class="linenos">500</span></a><span class="sd">            comma-separated list of (signed) integers, or as a template image from\</span>
</span><span id="mrtransform_params-501"><a href="#mrtransform_params-501"><span class="linenos">501</span></a><span class="sd">            which the strides shall be extracted and used. The actual strides\</span>
</span><span id="mrtransform_params-502"><a href="#mrtransform_params-502"><span class="linenos">502</span></a><span class="sd">            produced will depend on whether the output image format can support it.</span>
</span><span id="mrtransform_params-503"><a href="#mrtransform_params-503"><span class="linenos">503</span></a><span class="sd">        nan: Use NaN as the out of bounds value (Default: 0.0).</span>
</span><span id="mrtransform_params-504"><a href="#mrtransform_params-504"><span class="linenos">504</span></a><span class="sd">        no_reorientation: deprecated, use -reorient_fod instead.</span>
</span><span id="mrtransform_params-505"><a href="#mrtransform_params-505"><span class="linenos">505</span></a><span class="sd">        info: display information messages.</span>
</span><span id="mrtransform_params-506"><a href="#mrtransform_params-506"><span class="linenos">506</span></a><span class="sd">        quiet: do not display information messages or progress status;\</span>
</span><span id="mrtransform_params-507"><a href="#mrtransform_params-507"><span class="linenos">507</span></a><span class="sd">            alternatively, this can be achieved by setting the MRTRIX_QUIET\</span>
</span><span id="mrtransform_params-508"><a href="#mrtransform_params-508"><span class="linenos">508</span></a><span class="sd">            environment variable to a non-empty string.</span>
</span><span id="mrtransform_params-509"><a href="#mrtransform_params-509"><span class="linenos">509</span></a><span class="sd">        debug: display debugging messages.</span>
</span><span id="mrtransform_params-510"><a href="#mrtransform_params-510"><span class="linenos">510</span></a><span class="sd">        force: force overwrite of output files (caution: using the same file as\</span>
</span><span id="mrtransform_params-511"><a href="#mrtransform_params-511"><span class="linenos">511</span></a><span class="sd">            input and output might cause unexpected behaviour).</span>
</span><span id="mrtransform_params-512"><a href="#mrtransform_params-512"><span class="linenos">512</span></a><span class="sd">        nthreads: use this number of threads in multi-threaded applications\</span>
</span><span id="mrtransform_params-513"><a href="#mrtransform_params-513"><span class="linenos">513</span></a><span class="sd">            (set to 0 to disable multi-threading).</span>
</span><span id="mrtransform_params-514"><a href="#mrtransform_params-514"><span class="linenos">514</span></a><span class="sd">        config: temporarily set the value of an MRtrix config file entry.</span>
</span><span id="mrtransform_params-515"><a href="#mrtransform_params-515"><span class="linenos">515</span></a><span class="sd">        help_: display this information page and exit.</span>
</span><span id="mrtransform_params-516"><a href="#mrtransform_params-516"><span class="linenos">516</span></a><span class="sd">        version: display version information and exit.</span>
</span><span id="mrtransform_params-517"><a href="#mrtransform_params-517"><span class="linenos">517</span></a><span class="sd">    Returns:</span>
</span><span id="mrtransform_params-518"><a href="#mrtransform_params-518"><span class="linenos">518</span></a><span class="sd">        Parameter dictionary</span>
</span><span id="mrtransform_params-519"><a href="#mrtransform_params-519"><span class="linenos">519</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="mrtransform_params-520"><a href="#mrtransform_params-520"><span class="linenos">520</span></a>    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="mrtransform_params-521"><a href="#mrtransform_params-521"><span class="linenos">521</span></a>        <span class="s2">&quot;__STYXTYPE__&quot;</span><span class="p">:</span> <span class="s2">&quot;mrtransform&quot;</span><span class="p">,</span>
</span><span id="mrtransform_params-522"><a href="#mrtransform_params-522"><span class="linenos">522</span></a>        <span class="s2">&quot;inverse&quot;</span><span class="p">:</span> <span class="n">inverse</span><span class="p">,</span>
</span><span id="mrtransform_params-523"><a href="#mrtransform_params-523"><span class="linenos">523</span></a>        <span class="s2">&quot;half&quot;</span><span class="p">:</span> <span class="n">half</span><span class="p">,</span>
</span><span id="mrtransform_params-524"><a href="#mrtransform_params-524"><span class="linenos">524</span></a>        <span class="s2">&quot;identity&quot;</span><span class="p">:</span> <span class="n">identity</span><span class="p">,</span>
</span><span id="mrtransform_params-525"><a href="#mrtransform_params-525"><span class="linenos">525</span></a>        <span class="s2">&quot;midway_space&quot;</span><span class="p">:</span> <span class="n">midway_space</span><span class="p">,</span>
</span><span id="mrtransform_params-526"><a href="#mrtransform_params-526"><span class="linenos">526</span></a>        <span class="s2">&quot;nan&quot;</span><span class="p">:</span> <span class="n">nan</span><span class="p">,</span>
</span><span id="mrtransform_params-527"><a href="#mrtransform_params-527"><span class="linenos">527</span></a>        <span class="s2">&quot;no_reorientation&quot;</span><span class="p">:</span> <span class="n">no_reorientation</span><span class="p">,</span>
</span><span id="mrtransform_params-528"><a href="#mrtransform_params-528"><span class="linenos">528</span></a>        <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="n">info</span><span class="p">,</span>
</span><span id="mrtransform_params-529"><a href="#mrtransform_params-529"><span class="linenos">529</span></a>        <span class="s2">&quot;quiet&quot;</span><span class="p">:</span> <span class="n">quiet</span><span class="p">,</span>
</span><span id="mrtransform_params-530"><a href="#mrtransform_params-530"><span class="linenos">530</span></a>        <span class="s2">&quot;debug&quot;</span><span class="p">:</span> <span class="n">debug</span><span class="p">,</span>
</span><span id="mrtransform_params-531"><a href="#mrtransform_params-531"><span class="linenos">531</span></a>        <span class="s2">&quot;force&quot;</span><span class="p">:</span> <span class="n">force</span><span class="p">,</span>
</span><span id="mrtransform_params-532"><a href="#mrtransform_params-532"><span class="linenos">532</span></a>        <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="n">help_</span><span class="p">,</span>
</span><span id="mrtransform_params-533"><a href="#mrtransform_params-533"><span class="linenos">533</span></a>        <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">version</span><span class="p">,</span>
</span><span id="mrtransform_params-534"><a href="#mrtransform_params-534"><span class="linenos">534</span></a>        <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="n">input_</span><span class="p">,</span>
</span><span id="mrtransform_params-535"><a href="#mrtransform_params-535"><span class="linenos">535</span></a>        <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="n">output</span><span class="p">,</span>
</span><span id="mrtransform_params-536"><a href="#mrtransform_params-536"><span class="linenos">536</span></a>    <span class="p">}</span>
</span><span id="mrtransform_params-537"><a href="#mrtransform_params-537"><span class="linenos">537</span></a>    <span class="k">if</span> <span class="n">linear</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-538"><a href="#mrtransform_params-538"><span class="linenos">538</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;linear&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">linear</span>
</span><span id="mrtransform_params-539"><a href="#mrtransform_params-539"><span class="linenos">539</span></a>    <span class="k">if</span> <span class="n">flip</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-540"><a href="#mrtransform_params-540"><span class="linenos">540</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;flip&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">flip</span>
</span><span id="mrtransform_params-541"><a href="#mrtransform_params-541"><span class="linenos">541</span></a>    <span class="k">if</span> <span class="n">replace</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-542"><a href="#mrtransform_params-542"><span class="linenos">542</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;replace&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">replace</span>
</span><span id="mrtransform_params-543"><a href="#mrtransform_params-543"><span class="linenos">543</span></a>    <span class="k">if</span> <span class="n">template</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-544"><a href="#mrtransform_params-544"><span class="linenos">544</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;template&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">template</span>
</span><span id="mrtransform_params-545"><a href="#mrtransform_params-545"><span class="linenos">545</span></a>    <span class="k">if</span> <span class="n">interp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-546"><a href="#mrtransform_params-546"><span class="linenos">546</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;interp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">interp</span>
</span><span id="mrtransform_params-547"><a href="#mrtransform_params-547"><span class="linenos">547</span></a>    <span class="k">if</span> <span class="n">oversample</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-548"><a href="#mrtransform_params-548"><span class="linenos">548</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;oversample&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">oversample</span>
</span><span id="mrtransform_params-549"><a href="#mrtransform_params-549"><span class="linenos">549</span></a>    <span class="k">if</span> <span class="n">warp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-550"><a href="#mrtransform_params-550"><span class="linenos">550</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;warp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">warp</span>
</span><span id="mrtransform_params-551"><a href="#mrtransform_params-551"><span class="linenos">551</span></a>    <span class="k">if</span> <span class="n">warp_full</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-552"><a href="#mrtransform_params-552"><span class="linenos">552</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;warp_full&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">warp_full</span>
</span><span id="mrtransform_params-553"><a href="#mrtransform_params-553"><span class="linenos">553</span></a>    <span class="k">if</span> <span class="n">from_</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-554"><a href="#mrtransform_params-554"><span class="linenos">554</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;from&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">from_</span>
</span><span id="mrtransform_params-555"><a href="#mrtransform_params-555"><span class="linenos">555</span></a>    <span class="k">if</span> <span class="n">modulate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-556"><a href="#mrtransform_params-556"><span class="linenos">556</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;modulate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">modulate</span>
</span><span id="mrtransform_params-557"><a href="#mrtransform_params-557"><span class="linenos">557</span></a>    <span class="k">if</span> <span class="n">directions</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-558"><a href="#mrtransform_params-558"><span class="linenos">558</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;directions&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">directions</span>
</span><span id="mrtransform_params-559"><a href="#mrtransform_params-559"><span class="linenos">559</span></a>    <span class="k">if</span> <span class="n">reorient_fod</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-560"><a href="#mrtransform_params-560"><span class="linenos">560</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;reorient_fod&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">reorient_fod</span>
</span><span id="mrtransform_params-561"><a href="#mrtransform_params-561"><span class="linenos">561</span></a>    <span class="k">if</span> <span class="n">grad</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-562"><a href="#mrtransform_params-562"><span class="linenos">562</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;grad&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">grad</span>
</span><span id="mrtransform_params-563"><a href="#mrtransform_params-563"><span class="linenos">563</span></a>    <span class="k">if</span> <span class="n">fslgrad</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-564"><a href="#mrtransform_params-564"><span class="linenos">564</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;fslgrad&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fslgrad</span>
</span><span id="mrtransform_params-565"><a href="#mrtransform_params-565"><span class="linenos">565</span></a>    <span class="k">if</span> <span class="n">export_grad_mrtrix</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-566"><a href="#mrtransform_params-566"><span class="linenos">566</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;export_grad_mrtrix&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">export_grad_mrtrix</span>
</span><span id="mrtransform_params-567"><a href="#mrtransform_params-567"><span class="linenos">567</span></a>    <span class="k">if</span> <span class="n">export_grad_fsl</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-568"><a href="#mrtransform_params-568"><span class="linenos">568</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;export_grad_fsl&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">export_grad_fsl</span>
</span><span id="mrtransform_params-569"><a href="#mrtransform_params-569"><span class="linenos">569</span></a>    <span class="k">if</span> <span class="n">datatype</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-570"><a href="#mrtransform_params-570"><span class="linenos">570</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;datatype&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datatype</span>
</span><span id="mrtransform_params-571"><a href="#mrtransform_params-571"><span class="linenos">571</span></a>    <span class="k">if</span> <span class="n">strides</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-572"><a href="#mrtransform_params-572"><span class="linenos">572</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;strides&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">strides</span>
</span><span id="mrtransform_params-573"><a href="#mrtransform_params-573"><span class="linenos">573</span></a>    <span class="k">if</span> <span class="n">nthreads</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-574"><a href="#mrtransform_params-574"><span class="linenos">574</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;nthreads&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nthreads</span>
</span><span id="mrtransform_params-575"><a href="#mrtransform_params-575"><span class="linenos">575</span></a>    <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="mrtransform_params-576"><a href="#mrtransform_params-576"><span class="linenos">576</span></a>        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;config&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">config</span>
</span><span id="mrtransform_params-577"><a href="#mrtransform_params-577"><span class="linenos">577</span></a>    <span class="k">return</span> <span class="n">params</span>
</span></pre></div>


            <div class="docstring"><p>Build parameters.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>input_:</strong>  input image to be transformed.</li>
<li><strong>output:</strong>  the output image.</li>
<li><strong>linear:</strong>  specify a linear transform to apply, in the form of a 3x4 or            4x4 ascii file. Note the standard 'reverse' convention is used, where            the transform maps points in the template image to the moving image.            Note that the reverse convention is still assumed even if no -template            image is supplied.</li>
<li><strong>flip:</strong>  flip the specified axes, provided as a comma-separated list of            indices (0:x, 1:y, 2:z).</li>
<li><strong>inverse:</strong>  apply the inverse transformation.</li>
<li><strong>half:</strong>  apply the matrix square root of the transformation. This can be            combined with the inverse option.</li>
<li><strong>replace:</strong>  replace the linear transform of the original image by that            specified, rather than applying it to the original image. The specified            transform can be either a template image, or a 3x4 or 4x4 ascii file.</li>
<li><strong>identity:</strong>  set the header transform of the image to the identity matrix.</li>
<li><strong>template:</strong>  reslice the input image to match the specified template image            grid.</li>
<li><strong>midway_space:</strong>  reslice the input image to the midway space. Requires            either the -template or -warp option. If used with -template and            -linear option the input image will be resliced onto the grid halfway            between the input and template. If used with the -warp option the input            will be warped to the midway space defined by the grid of the input            warp (i.e. half way between image1 and image2).</li>
<li><strong>interp:</strong>  set the interpolation method to use when reslicing (choices:            nearest, linear, cubic, sinc. Default: cubic).</li>
<li><strong>oversample:</strong>  set the amount of over-sampling (in the target space) to            perform when regridding. This is particularly relevant when downsamping            a high-resolution image to a low-resolution image, to avoid aliasing            artefacts. This can consist of a single integer, or a comma-separated            list of 3 integers if different oversampling factors are desired along            the different axes. Default is determined from ratio of voxel            dimensions (disabled for nearest-neighbour interpolation).</li>
<li><strong>warp:</strong>  apply a non-linear 4D deformation field to warp the input image.            Each voxel in the deformation field must define the scanner space            position that will be used to interpolate the input image during            warping (i.e. pull-back/reverse warp convention). If the -template            image is also supplied the deformation field will be resliced first to            the template image grid. If no -template option is supplied then the            output image will have the same image grid as the deformation field.            This option can be used in combination with the -affine option, in            which case the affine will be applied first).</li>
<li><strong>warp_full:</strong>  warp the input image using a 5D warp file output from            mrregister. Any linear transforms in the warp image header will also be            applied. The -warp_full option must be used in combination with either            the -template option or the -midway_space option. If a -template image            is supplied then the full warp will be used. By default the            image1->image2 transform will be applied, however the -from 2 option            can be used to apply the image2->image1 transform. Use the            -midway_space option to warp the input image to the midway space. The            -from option can also be used to define which warp to use when            transforming to midway space.</li>
<li><strong>from_:</strong>  used to define which space the input image is when using the            -warp_mid option. Use -from 1 to warp from image1 or -from 2 to warp            from image2.</li>
<li><strong>modulate:</strong>  Valid choices are: fod and jac.            fod: modulate FODs during reorientation to preserve the apparent            fibre density across fibre bundle widths before and after the            transformation.            jac: modulate the image intensity with the determinant of the            Jacobian of the warp of linear transformation to preserve the total            intensity before and after the transformation.</li>
<li><strong>directions:</strong>  directions defining the number and orientation of the            apodised point spread functions used in FOD reorientation (Default: 300            directions).</li>
<li><strong>reorient_fod:</strong>  specify whether to perform FOD reorientation. This is            required if the number of volumes in the 4th dimension corresponds to            the number of coefficients in an antipodally symmetric spherical            harmonic series with lmax &gt;= 2 (i.e. 6, 15, 28, 45, 66 volumes).</li>
<li><strong>grad:</strong>  Provide the diffusion-weighted gradient scheme used in the            acquisition in a text file. This should be supplied as a 4xN text file            with each line is in the format [ X Y Z b ], where [ X Y Z ] describe            the direction of the applied gradient, and b gives the b-value in units            of s/mm^2. If a diffusion gradient scheme is present in the input image            header, the data provided with this option will be instead used.</li>
<li><strong>fslgrad:</strong>  Provide the diffusion-weighted gradient scheme used in the            acquisition in FSL bvecs/bvals format files. If a diffusion gradient            scheme is present in the input image header, the data provided with            this option will be instead used.</li>
<li><strong>export_grad_mrtrix:</strong>  export the diffusion-weighted gradient table to            file in MRtrix format.</li>
<li><strong>export_grad_fsl:</strong>  export the diffusion-weighted gradient table to files            in FSL (bvecs / bvals) format.</li>
<li><strong>datatype:</strong>  specify output image data type. Valid choices are: float32,            float32le, float32be, float64, float64le, float64be, int64, uint64,            int64le, uint64le, int64be, uint64be, int32, uint32, int32le, uint32le,            int32be, uint32be, int16, uint16, int16le, uint16le, int16be, uint16be,            cfloat32, cfloat32le, cfloat32be, cfloat64, cfloat64le, cfloat64be,            int8, uint8, bit.</li>
<li><strong>strides:</strong>  specify the strides of the output data in memory; either as a            comma-separated list of (signed) integers, or as a template image from            which the strides shall be extracted and used. The actual strides            produced will depend on whether the output image format can support it.</li>
<li><strong>nan:</strong>  Use NaN as the out of bounds value (Default: 0.0).</li>
<li><strong>no_reorientation:</strong>  deprecated, use -reorient_fod instead.</li>
<li><strong>info:</strong>  display information messages.</li>
<li><strong>quiet:</strong>  do not display information messages or progress status;            alternatively, this can be achieved by setting the MRTRIX_QUIET            environment variable to a non-empty string.</li>
<li><strong>debug:</strong>  display debugging messages.</li>
<li><strong>force:</strong>  force overwrite of output files (caution: using the same file as            input and output might cause unexpected behaviour).</li>
<li><strong>nthreads:</strong>  use this number of threads in multi-threaded applications            (set to 0 to disable multi-threading).</li>
<li><strong>config:</strong>  temporarily set the value of an MRtrix config file entry.</li>
<li><strong>help_:</strong>  display this information page and exit.</li>
<li><strong>version:</strong>  display version information and exit.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Parameter dictionary</p>
</blockquote>
</div>


                </section>
                <section id="mrtransform_various_file_params">
                            <input id="mrtransform_various_file_params-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mrtransform_various_file_params</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">obj</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_local</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">niwrap</span><span class="o">.</span><span class="n">mrtrix</span><span class="o">.</span><span class="n">mrtransform</span><span class="o">.</span><span class="n">MrtransformVariousFileParameters</span>:</span></span>

                <label class="view-source-button" for="mrtransform_various_file_params-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#mrtransform_various_file_params"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="mrtransform_various_file_params-279"><a href="#mrtransform_various_file_params-279"><span class="linenos">279</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_various_file_params</span><span class="p">(</span>
</span><span id="mrtransform_various_file_params-280"><a href="#mrtransform_various_file_params-280"><span class="linenos">280</span></a>    <span class="n">obj</span><span class="p">:</span> <span class="n">InputPathType</span><span class="p">,</span>
</span><span id="mrtransform_various_file_params-281"><a href="#mrtransform_various_file_params-281"><span class="linenos">281</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MrtransformVariousFileParameters</span><span class="p">:</span>
</span><span id="mrtransform_various_file_params-282"><a href="#mrtransform_various_file_params-282"><span class="linenos">282</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="mrtransform_various_file_params-283"><a href="#mrtransform_various_file_params-283"><span class="linenos">283</span></a><span class="sd">    Build parameters.</span>
</span><span id="mrtransform_various_file_params-284"><a href="#mrtransform_various_file_params-284"><span class="linenos">284</span></a><span class="sd">    </span>
</span><span id="mrtransform_various_file_params-285"><a href="#mrtransform_various_file_params-285"><span class="linenos">285</span></a><span class="sd">    Args:</span>
</span><span id="mrtransform_various_file_params-286"><a href="#mrtransform_various_file_params-286"><span class="linenos">286</span></a><span class="sd">        obj: File object.</span>
</span><span id="mrtransform_various_file_params-287"><a href="#mrtransform_various_file_params-287"><span class="linenos">287</span></a><span class="sd">    Returns:</span>
</span><span id="mrtransform_various_file_params-288"><a href="#mrtransform_various_file_params-288"><span class="linenos">288</span></a><span class="sd">        Parameter dictionary</span>
</span><span id="mrtransform_various_file_params-289"><a href="#mrtransform_various_file_params-289"><span class="linenos">289</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="mrtransform_various_file_params-290"><a href="#mrtransform_various_file_params-290"><span class="linenos">290</span></a>    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="mrtransform_various_file_params-291"><a href="#mrtransform_various_file_params-291"><span class="linenos">291</span></a>        <span class="s2">&quot;__STYXTYPE__&quot;</span><span class="p">:</span> <span class="s2">&quot;VariousFile&quot;</span><span class="p">,</span>
</span><span id="mrtransform_various_file_params-292"><a href="#mrtransform_various_file_params-292"><span class="linenos">292</span></a>        <span class="s2">&quot;obj&quot;</span><span class="p">:</span> <span class="n">obj</span><span class="p">,</span>
</span><span id="mrtransform_various_file_params-293"><a href="#mrtransform_various_file_params-293"><span class="linenos">293</span></a>    <span class="p">}</span>
</span><span id="mrtransform_various_file_params-294"><a href="#mrtransform_various_file_params-294"><span class="linenos">294</span></a>    <span class="k">return</span> <span class="n">params</span>
</span></pre></div>


            <div class="docstring"><p>Build parameters.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>obj:</strong>  File object.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Parameter dictionary</p>
</blockquote>
</div>


                </section>
                <section id="mrtransform_various_string_params">
                            <input id="mrtransform_various_string_params-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mrtransform_various_string_params</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">obj</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n">niwrap</span><span class="o">.</span><span class="n">mrtrix</span><span class="o">.</span><span class="n">mrtransform</span><span class="o">.</span><span class="n">MrtransformVariousStringParameters</span>:</span></span>

                <label class="view-source-button" for="mrtransform_various_string_params-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#mrtransform_various_string_params"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="mrtransform_various_string_params-243"><a href="#mrtransform_various_string_params-243"><span class="linenos">243</span></a><span class="k">def</span><span class="w"> </span><span class="nf">mrtransform_various_string_params</span><span class="p">(</span>
</span><span id="mrtransform_various_string_params-244"><a href="#mrtransform_various_string_params-244"><span class="linenos">244</span></a>    <span class="n">obj</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="mrtransform_various_string_params-245"><a href="#mrtransform_various_string_params-245"><span class="linenos">245</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MrtransformVariousStringParameters</span><span class="p">:</span>
</span><span id="mrtransform_various_string_params-246"><a href="#mrtransform_various_string_params-246"><span class="linenos">246</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="mrtransform_various_string_params-247"><a href="#mrtransform_various_string_params-247"><span class="linenos">247</span></a><span class="sd">    Build parameters.</span>
</span><span id="mrtransform_various_string_params-248"><a href="#mrtransform_various_string_params-248"><span class="linenos">248</span></a><span class="sd">    </span>
</span><span id="mrtransform_various_string_params-249"><a href="#mrtransform_various_string_params-249"><span class="linenos">249</span></a><span class="sd">    Args:</span>
</span><span id="mrtransform_various_string_params-250"><a href="#mrtransform_various_string_params-250"><span class="linenos">250</span></a><span class="sd">        obj: String object.</span>
</span><span id="mrtransform_various_string_params-251"><a href="#mrtransform_various_string_params-251"><span class="linenos">251</span></a><span class="sd">    Returns:</span>
</span><span id="mrtransform_various_string_params-252"><a href="#mrtransform_various_string_params-252"><span class="linenos">252</span></a><span class="sd">        Parameter dictionary</span>
</span><span id="mrtransform_various_string_params-253"><a href="#mrtransform_various_string_params-253"><span class="linenos">253</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="mrtransform_various_string_params-254"><a href="#mrtransform_various_string_params-254"><span class="linenos">254</span></a>    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="mrtransform_various_string_params-255"><a href="#mrtransform_various_string_params-255"><span class="linenos">255</span></a>        <span class="s2">&quot;__STYXTYPE__&quot;</span><span class="p">:</span> <span class="s2">&quot;VariousString&quot;</span><span class="p">,</span>
</span><span id="mrtransform_various_string_params-256"><a href="#mrtransform_various_string_params-256"><span class="linenos">256</span></a>        <span class="s2">&quot;obj&quot;</span><span class="p">:</span> <span class="n">obj</span><span class="p">,</span>
</span><span id="mrtransform_various_string_params-257"><a href="#mrtransform_various_string_params-257"><span class="linenos">257</span></a>    <span class="p">}</span>
</span><span id="mrtransform_various_string_params-258"><a href="#mrtransform_various_string_params-258"><span class="linenos">258</span></a>    <span class="k">return</span> <span class="n">params</span>
</span></pre></div>


            <div class="docstring"><p>Build parameters.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>obj:</strong>  String object.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Parameter dictionary</p>
</blockquote>
</div>


                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>