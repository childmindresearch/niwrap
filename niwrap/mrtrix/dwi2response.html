<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.0"/>
    <title>niwrap.mrtrix.dwi2response API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}@media (prefers-color-scheme:dark){pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#49483e}.pdoc-code{background:#272822; color:#f8f8f2}.pdoc-code .c{color:#75715e}.pdoc-code .err{color:#960050; background-color:#1e0010}.pdoc-code .esc{color:#f8f8f2}.pdoc-code .g{color:#f8f8f2}.pdoc-code .k{color:#66d9ef}.pdoc-code .l{color:#ae81ff}.pdoc-code .n{color:#f8f8f2}.pdoc-code .o{color:#f92672}.pdoc-code .x{color:#f8f8f2}.pdoc-code .p{color:#f8f8f2}.pdoc-code .ch{color:#75715e}.pdoc-code .cm{color:#75715e}.pdoc-code .cp{color:#75715e}.pdoc-code .cpf{color:#75715e}.pdoc-code .c1{color:#75715e}.pdoc-code .cs{color:#75715e}.pdoc-code .gd{color:#f92672}.pdoc-code .ge{color:#f8f8f2; font-style:italic}.pdoc-code .gr{color:#f8f8f2}.pdoc-code .gh{color:#f8f8f2}.pdoc-code .gi{color:#a6e22e}.pdoc-code .go{color:#66d9ef}.pdoc-code .gp{color:#f92672; font-weight:bold}.pdoc-code .gs{color:#f8f8f2; font-weight:bold}.pdoc-code .gu{color:#75715e}.pdoc-code .gt{color:#f8f8f2}.pdoc-code .kc{color:#66d9ef}.pdoc-code .kd{color:#66d9ef}.pdoc-code .kn{color:#f92672}.pdoc-code .kp{color:#66d9ef}.pdoc-code .kr{color:#66d9ef}.pdoc-code .kt{color:#66d9ef}.pdoc-code .ld{color:#e6db74}.pdoc-code .m{color:#ae81ff}.pdoc-code .s{color:#e6db74}.pdoc-code .na{color:#a6e22e}.pdoc-code .nb{color:#f8f8f2}.pdoc-code .nc{color:#a6e22e}.pdoc-code .no{color:#66d9ef}.pdoc-code .nd{color:#a6e22e}.pdoc-code .ni{color:#f8f8f2}.pdoc-code .ne{color:#a6e22e}.pdoc-code .nf{color:#a6e22e}.pdoc-code .nl{color:#f8f8f2}.pdoc-code .nn{color:#f8f8f2}.pdoc-code .nx{color:#a6e22e}.pdoc-code .py{color:#f8f8f2}.pdoc-code .nt{color:#f92672}.pdoc-code .nv{color:#f8f8f2}.pdoc-code .ow{color:#f92672}.pdoc-code .w{color:#f8f8f2}.pdoc-code .mb{color:#ae81ff}.pdoc-code .mf{color:#ae81ff}.pdoc-code .mh{color:#ae81ff}.pdoc-code .mi{color:#ae81ff}.pdoc-code .mo{color:#ae81ff}.pdoc-code .sa{color:#e6db74}.pdoc-code .sb{color:#e6db74}.pdoc-code .sc{color:#e6db74}.pdoc-code .dl{color:#e6db74}.pdoc-code .sd{color:#e6db74}.pdoc-code .s2{color:#e6db74}.pdoc-code .se{color:#ae81ff}.pdoc-code .sh{color:#e6db74}.pdoc-code .si{color:#e6db74}.pdoc-code .sx{color:#e6db74}.pdoc-code .sr{color:#e6db74}.pdoc-code .s1{color:#e6db74}.pdoc-code .ss{color:#e6db74}.pdoc-code .bp{color:#f8f8f2}.pdoc-code .fm{color:#a6e22e}.pdoc-code .vc{color:#f8f8f2}.pdoc-code .vg{color:#f8f8f2}.pdoc-code .vi{color:#f8f8f2}.pdoc-code .vm{color:#f8f8f2}}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}@media (prefers-color-scheme:dark){:root{--pdoc-background:#212529;}.pdoc{--text:#f7f7f7;--muted:#9d9d9d;--link:#58a6ff;--link-hover:#3989ff;--code:#333;--active:#555;--accent:#343434;--accent2:#555;--nav-hover:rgba(0, 0, 0, 0.1);--name:#77C1FF;--def:#0cdd0c;--annotation:#00c037;}}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../mrtrix.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;niwrap.mrtrix</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="variable" href="#DWI2RESPONSE_METADATA">DWI2RESPONSE_METADATA</a>
            </li>
            <li>
                    <a class="class" href="#Dwi2responseConfig">Dwi2responseConfig</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dwi2responseConfig.__init__">Dwi2responseConfig</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseConfig.key">key</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseConfig.value">value</a>
                        </li>
                        <li>
                                <a class="function" href="#Dwi2responseConfig.run">run</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Dwi2responseDhollander">Dwi2responseDhollander</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dwi2responseDhollander.__init__">Dwi2responseDhollander</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseDhollander.input_">input_</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseDhollander.out_sfwm">out_sfwm</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseDhollander.out_gm">out_gm</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseDhollander.out_csf">out_csf</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseDhollander.erode">erode</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseDhollander.fa">fa</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseDhollander.sfwm">sfwm</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseDhollander.gm">gm</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseDhollander.csf">csf</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseDhollander.wm_algo">wm_algo</a>
                        </li>
                        <li>
                                <a class="function" href="#Dwi2responseDhollander.run">run</a>
                        </li>
                        <li>
                                <a class="function" href="#Dwi2responseDhollander.outputs">outputs</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Dwi2responseDhollanderOutputs">Dwi2responseDhollanderOutputs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dwi2responseDhollanderOutputs.__init__">Dwi2responseDhollanderOutputs</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseDhollanderOutputs.root">root</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseDhollanderOutputs.out_sfwm">out_sfwm</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseDhollanderOutputs.out_gm">out_gm</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseDhollanderOutputs.out_csf">out_csf</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Dwi2responseFa">Dwi2responseFa</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dwi2responseFa.__init__">Dwi2responseFa</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseFa.input_">input_</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseFa.output">output</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseFa.erode">erode</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseFa.number">number</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseFa.threshold">threshold</a>
                        </li>
                        <li>
                                <a class="function" href="#Dwi2responseFa.run">run</a>
                        </li>
                        <li>
                                <a class="function" href="#Dwi2responseFa.outputs">outputs</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Dwi2responseFaOutputs">Dwi2responseFaOutputs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dwi2responseFaOutputs.__init__">Dwi2responseFaOutputs</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseFaOutputs.root">root</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseFaOutputs.output">output</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Dwi2responseFslgrad">Dwi2responseFslgrad</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dwi2responseFslgrad.__init__">Dwi2responseFslgrad</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseFslgrad.bvecs">bvecs</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseFslgrad.bvals">bvals</a>
                        </li>
                        <li>
                                <a class="function" href="#Dwi2responseFslgrad.run">run</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Dwi2responseManual">Dwi2responseManual</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dwi2responseManual.__init__">Dwi2responseManual</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseManual.input_">input_</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseManual.in_voxels">in_voxels</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseManual.output">output</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseManual.dirs">dirs</a>
                        </li>
                        <li>
                                <a class="function" href="#Dwi2responseManual.run">run</a>
                        </li>
                        <li>
                                <a class="function" href="#Dwi2responseManual.outputs">outputs</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Dwi2responseManualOutputs">Dwi2responseManualOutputs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dwi2responseManualOutputs.__init__">Dwi2responseManualOutputs</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseManualOutputs.root">root</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseManualOutputs.output">output</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Dwi2responseMsmt5tt">Dwi2responseMsmt5tt</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dwi2responseMsmt5tt.__init__">Dwi2responseMsmt5tt</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseMsmt5tt.input_">input_</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseMsmt5tt.in_5tt">in_5tt</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseMsmt5tt.out_wm">out_wm</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseMsmt5tt.out_gm">out_gm</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseMsmt5tt.out_csf">out_csf</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseMsmt5tt.dirs">dirs</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseMsmt5tt.fa">fa</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseMsmt5tt.pvf">pvf</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseMsmt5tt.wm_algo">wm_algo</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseMsmt5tt.sfwm_fa_threshold">sfwm_fa_threshold</a>
                        </li>
                        <li>
                                <a class="function" href="#Dwi2responseMsmt5tt.run">run</a>
                        </li>
                        <li>
                                <a class="function" href="#Dwi2responseMsmt5tt.outputs">outputs</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Dwi2responseMsmt5ttOutputs">Dwi2responseMsmt5ttOutputs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dwi2responseMsmt5ttOutputs.__init__">Dwi2responseMsmt5ttOutputs</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseMsmt5ttOutputs.root">root</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseMsmt5ttOutputs.out_wm">out_wm</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseMsmt5ttOutputs.out_gm">out_gm</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseMsmt5ttOutputs.out_csf">out_csf</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Dwi2responseOutputs">Dwi2responseOutputs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dwi2responseOutputs.__init__">Dwi2responseOutputs</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseOutputs.root">root</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseOutputs.algorithm">algorithm</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Dwi2responseTax">Dwi2responseTax</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dwi2responseTax.__init__">Dwi2responseTax</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseTax.input_">input_</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseTax.output">output</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseTax.peak_ratio">peak_ratio</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseTax.max_iters">max_iters</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseTax.convergence">convergence</a>
                        </li>
                        <li>
                                <a class="function" href="#Dwi2responseTax.run">run</a>
                        </li>
                        <li>
                                <a class="function" href="#Dwi2responseTax.outputs">outputs</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Dwi2responseTaxOutputs">Dwi2responseTaxOutputs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dwi2responseTaxOutputs.__init__">Dwi2responseTaxOutputs</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseTaxOutputs.root">root</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseTaxOutputs.output">output</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Dwi2responseTournier">Dwi2responseTournier</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dwi2responseTournier.__init__">Dwi2responseTournier</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseTournier.input_">input_</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseTournier.output">output</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseTournier.number">number</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseTournier.iter_voxels">iter_voxels</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseTournier.dilate">dilate</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseTournier.max_iters">max_iters</a>
                        </li>
                        <li>
                                <a class="function" href="#Dwi2responseTournier.run">run</a>
                        </li>
                        <li>
                                <a class="function" href="#Dwi2responseTournier.outputs">outputs</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Dwi2responseTournierOutputs">Dwi2responseTournierOutputs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Dwi2responseTournierOutputs.__init__">Dwi2responseTournierOutputs</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseTournierOutputs.root">root</a>
                        </li>
                        <li>
                                <a class="variable" href="#Dwi2responseTournierOutputs.output">output</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#dwi2response">dwi2response</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../../niwrap.html">niwrap</a><wbr>.<a href="./../mrtrix.html">mrtrix</a><wbr>.dwi2response    </h1>

                
                        <input id="mod-dwi2response-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-dwi2response-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="c1"># This file was auto generated by Styx.</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="c1"># Do not edit this file directly.</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a><span class="kn">import</span> <span class="nn">typing</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="kn">import</span> <span class="nn">pathlib</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="kn">from</span> <span class="nn">styxdefs</span> <span class="kn">import</span> <span class="o">*</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="kn">import</span> <span class="nn">dataclasses</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="n">DWI2RESPONSE_METADATA</span> <span class="o">=</span> <span class="n">Metadata</span><span class="p">(</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a>    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;edddbe80993b644221e1465a2dd0d5c280ed0192.boutiques&quot;</span><span class="p">,</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;dwi2response&quot;</span><span class="p">,</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a>    <span class="n">package</span><span class="o">=</span><span class="s2">&quot;mrtrix&quot;</span><span class="p">,</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a>    <span class="n">container_image_tag</span><span class="o">=</span><span class="s2">&quot;mrtrix3/mrtrix3:3.0.4&quot;</span><span class="p">,</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a><span class="p">)</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a><span class="k">class</span> <span class="nc">Dwi2responseDhollanderOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a><span class="sd">    Output object returned when calling `Dwi2responseDhollander(...)`.</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a>    <span class="n">out_sfwm</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output single-fibre WM response function text file&quot;&quot;&quot;</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a>    <span class="n">out_gm</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output GM response function text file&quot;&quot;&quot;</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a>    <span class="n">out_csf</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output CSF response function text file&quot;&quot;&quot;</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a><span class="k">class</span> <span class="nc">Dwi2responseDhollander</span><span class="p">:</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a><span class="sd">    Unsupervised estimation of WM, GM and CSF response functions that does not</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a><span class="sd">    require a T1 image (or segmentation thereof).</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a><span class="sd">    This is an improved version of the Dhollander et al. (2016) algorithm for</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a><span class="sd">    unsupervised estimation of WM, GM and CSF response functions, which includes</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a><span class="sd">    the Dhollander et al. (2019) improvements for single-fibre WM response</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a><span class="sd">    function estimation (prior to this update, the &quot;dwi2response tournier&quot;</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a><span class="sd">    algorithm had been utilised specifically for the single-fibre WM response</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a><span class="sd">    function estimation step).</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>    <span class="n">input_</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Input DWI dataset&quot;&quot;&quot;</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a>    <span class="n">out_sfwm</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output single-fibre WM response function text file&quot;&quot;&quot;</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a>    <span class="n">out_gm</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output GM response function text file&quot;&quot;&quot;</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a>    <span class="n">out_csf</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output CSF response function text file&quot;&quot;&quot;</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a>    <span class="n">erode</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Number of erosion passes to apply to initial (whole brain) mask. Set to 0</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a><span class="sd">    to not erode the brain mask. (default: 3)&quot;&quot;&quot;</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a>    <span class="n">fa</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;FA threshold for crude WM versus GM-CSF separation. (default: 0.2)&quot;&quot;&quot;</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a>    <span class="n">sfwm</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Final number of single-fibre WM voxels to select, as a percentage of</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a><span class="sd">    refined WM. (default: 0.5 per cent)&quot;&quot;&quot;</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a>    <span class="n">gm</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Final number of GM voxels to select, as a percentage of refined GM.</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a><span class="sd">    (default: 2 per cent)&quot;&quot;&quot;</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>    <span class="n">csf</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Final number of CSF voxels to select, as a percentage of refined CSF.</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a><span class="sd">    (default: 10 per cent)&quot;&quot;&quot;</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>    <span class="n">wm_algo</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;fa&quot;</span><span class="p">,</span> <span class="s2">&quot;tax&quot;</span><span class="p">,</span> <span class="s2">&quot;tournier&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Use external dwi2response algorithm for WM single-fibre voxel selection</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a><span class="sd">    (options: fa, tax, tournier) (default: built-in Dhollander 2019)&quot;&quot;&quot;</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>    
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a><span class="sd">        </span>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a><span class="sd">        Args:</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a><span class="sd">        Returns:</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a><span class="sd">            Command line arguments</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;dhollander&quot;</span><span class="p">)</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_sfwm</span><span class="p">)</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_gm</span><span class="p">)</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_csf</span><span class="p">)</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">erode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>                <span class="s2">&quot;-erode&quot;</span><span class="p">,</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">erode</span><span class="p">)</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a>            <span class="p">])</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fa</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>                <span class="s2">&quot;-fa&quot;</span><span class="p">,</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fa</span><span class="p">)</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>            <span class="p">])</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sfwm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>                <span class="s2">&quot;-sfwm&quot;</span><span class="p">,</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sfwm</span><span class="p">)</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>            <span class="p">])</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">gm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>                <span class="s2">&quot;-gm&quot;</span><span class="p">,</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gm</span><span class="p">)</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>            <span class="p">])</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">csf</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>                <span class="s2">&quot;-csf&quot;</span><span class="p">,</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">csf</span><span class="p">)</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>            <span class="p">])</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wm_algo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>                <span class="s2">&quot;-wm_algo&quot;</span><span class="p">,</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">wm_algo</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>            <span class="p">])</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>    
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseDhollanderOutputs</span><span class="p">:</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a><span class="sd">        </span>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a><span class="sd">        Args:</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a><span class="sd">        Returns:</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseDhollanderOutputs`).</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseDhollanderOutputs</span><span class="p">(</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>            <span class="n">out_sfwm</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_sfwm</span><span class="p">),</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>            <span class="n">out_gm</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_gm</span><span class="p">),</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>            <span class="n">out_csf</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_csf</span><span class="p">),</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>        <span class="p">)</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a><span class="k">class</span> <span class="nc">Dwi2responseFaOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a><span class="sd">    Output object returned when calling `Dwi2responseFa(...)`.</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>    <span class="n">output</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The output response function text file&quot;&quot;&quot;</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a><span class="k">class</span> <span class="nc">Dwi2responseFa</span><span class="p">:</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a><span class="sd">    Use the old FA-threshold heuristic for single-fibre voxel selection and</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a><span class="sd">    response function estimation.</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>    <span class="n">input_</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The input DWI&quot;&quot;&quot;</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>    <span class="n">output</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The output response function text file&quot;&quot;&quot;</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>    <span class="n">erode</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Number of brain mask erosion steps to apply prior to threshold (not used</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a><span class="sd">    if mask is provided manually)&quot;&quot;&quot;</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>    <span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of highest-FA voxels to use&quot;&quot;&quot;</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>    <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apply a hard FA threshold, rather than selecting the top voxels&quot;&quot;&quot;</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a>    
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a><span class="sd">        </span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a><span class="sd">        Args:</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a><span class="sd">        Returns:</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a><span class="sd">            Command line arguments</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;fa&quot;</span><span class="p">)</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">erode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>                <span class="s2">&quot;-erode&quot;</span><span class="p">,</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">erode</span><span class="p">)</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a>            <span class="p">])</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a>                <span class="s2">&quot;-number&quot;</span><span class="p">,</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="p">)</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a>            <span class="p">])</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">threshold</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a>                <span class="s2">&quot;-threshold&quot;</span><span class="p">,</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">threshold</span><span class="p">)</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a>            <span class="p">])</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a>    
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseFaOutputs</span><span class="p">:</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a><span class="sd">        </span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a><span class="sd">        Args:</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a><span class="sd">        Returns:</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseFaOutputs`).</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseFaOutputs</span><span class="p">(</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a>            <span class="n">output</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">),</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a>        <span class="p">)</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a><span class="k">class</span> <span class="nc">Dwi2responseManualOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a><span class="sd">    Output object returned when calling `Dwi2responseManual(...)`.</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>    <span class="n">output</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output response function text file&quot;&quot;&quot;</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a><span class="k">class</span> <span class="nc">Dwi2responseManual</span><span class="p">:</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a><span class="sd">    Derive a response function using an input mask image alone (i.e.</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a><span class="sd">    pre-selected voxels).</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>    <span class="n">input_</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The input DWI&quot;&quot;&quot;</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>    <span class="n">in_voxels</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Input voxel selection mask&quot;&quot;&quot;</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>    <span class="n">output</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output response function text file&quot;&quot;&quot;</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>    <span class="n">dirs</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Manually provide the fibre direction in each voxel (a tensor fit will be</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a><span class="sd">    used otherwise)&quot;&quot;&quot;</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>    
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a><span class="sd">        </span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a><span class="sd">        Args:</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a><span class="sd">        Returns:</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a><span class="sd">            Command line arguments</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;manual&quot;</span><span class="p">)</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">in_voxels</span><span class="p">))</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dirs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>                <span class="s2">&quot;-dirs&quot;</span><span class="p">,</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>                <span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dirs</span><span class="p">)</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>            <span class="p">])</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>    
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseManualOutputs</span><span class="p">:</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a><span class="sd">        </span>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a><span class="sd">        Args:</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a><span class="sd">        Returns:</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseManualOutputs`).</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseManualOutputs</span><span class="p">(</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>            <span class="n">output</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">),</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a>        <span class="p">)</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a><span class="k">class</span> <span class="nc">Dwi2responseMsmt5ttOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a><span class="sd">    Output object returned when calling `Dwi2responseMsmt5tt(...)`.</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>    <span class="n">out_wm</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output WM response text file&quot;&quot;&quot;</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>    <span class="n">out_gm</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output GM response text file&quot;&quot;&quot;</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a>    <span class="n">out_csf</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output CSF response text file&quot;&quot;&quot;</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a><span class="k">class</span> <span class="nc">Dwi2responseMsmt5tt</span><span class="p">:</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a><span class="sd">    Derive MSMT-CSD tissue response functions based on a co-registered</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a><span class="sd">    five-tissue-type (5TT) image.</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>    <span class="n">input_</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The input DWI&quot;&quot;&quot;</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a>    <span class="n">in_5tt</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Input co-registered 5TT image&quot;&quot;&quot;</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a>    <span class="n">out_wm</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output WM response text file&quot;&quot;&quot;</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>    <span class="n">out_gm</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output GM response text file&quot;&quot;&quot;</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>    <span class="n">out_csf</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output CSF response text file&quot;&quot;&quot;</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a>    <span class="n">dirs</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Manually provide the fibre direction in each voxel (a tensor fit will be</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a><span class="sd">    used otherwise)&quot;&quot;&quot;</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a>    <span class="n">fa</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Upper fractional anisotropy threshold for GM and CSF voxel selection</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a><span class="sd">    (default: 0.2)&quot;&quot;&quot;</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>    <span class="n">pvf</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Partial volume fraction threshold for tissue voxel selection (default:</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a><span class="sd">    0.95)&quot;&quot;&quot;</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a>    <span class="n">wm_algo</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;fa&quot;</span><span class="p">,</span> <span class="s2">&quot;tax&quot;</span><span class="p">,</span> <span class="s2">&quot;tournier&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;algorithm dwi2response algorithm to use for WM single-fibre voxel</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a><span class="sd">    selection (options: fa, tax, tournier; default: tournier)&quot;&quot;&quot;</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a>    <span class="n">sfwm_fa_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets -wm_algo to fa and allows to specify a hard FA threshold for</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a><span class="sd">    single-fibre WM voxels, which is passed to the -threshold option of the fa</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a><span class="sd">    algorithm (warning: overrides -wm_algo option)&quot;&quot;&quot;</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a>    
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a><span class="sd">        </span>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a><span class="sd">        Args:</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a><span class="sd">        Returns:</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a><span class="sd">            Command line arguments</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;msmt_5tt&quot;</span><span class="p">)</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">in_5tt</span><span class="p">))</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_wm</span><span class="p">)</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_gm</span><span class="p">)</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_csf</span><span class="p">)</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dirs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>                <span class="s2">&quot;-dirs&quot;</span><span class="p">,</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>                <span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dirs</span><span class="p">)</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a>            <span class="p">])</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fa</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a>                <span class="s2">&quot;-fa&quot;</span><span class="p">,</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fa</span><span class="p">)</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a>            <span class="p">])</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pvf</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a>                <span class="s2">&quot;-pvf&quot;</span><span class="p">,</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pvf</span><span class="p">)</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a>            <span class="p">])</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wm_algo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a>                <span class="s2">&quot;-wm_algo&quot;</span><span class="p">,</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">wm_algo</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a>            <span class="p">])</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sfwm_fa_threshold</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a>                <span class="s2">&quot;-sfwm_fa_threshold&quot;</span><span class="p">,</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sfwm_fa_threshold</span><span class="p">)</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a>            <span class="p">])</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a>    
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseMsmt5ttOutputs</span><span class="p">:</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a><span class="sd">        </span>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a><span class="sd">        Args:</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a><span class="sd">        Returns:</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseMsmt5ttOutputs`).</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseMsmt5ttOutputs</span><span class="p">(</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a>            <span class="n">out_wm</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_wm</span><span class="p">),</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a>            <span class="n">out_gm</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_gm</span><span class="p">),</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a>            <span class="n">out_csf</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_csf</span><span class="p">),</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a>        <span class="p">)</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a>
</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a>
</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a><span class="k">class</span> <span class="nc">Dwi2responseTaxOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a><span class="sd">    Output object returned when calling `Dwi2responseTax(...)`.</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a>    <span class="n">output</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos">410</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The output response function text file&quot;&quot;&quot;</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a>
</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a>
</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a><span class="k">class</span> <span class="nc">Dwi2responseTax</span><span class="p">:</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a><span class="sd">    Use the Tax et al. (2014) recursive calibration algorithm for single-fibre</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a><span class="sd">    voxel selection and response function estimation.</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a>    <span class="n">input_</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The input DWI&quot;&quot;&quot;</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a>    <span class="n">output</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The output response function text file&quot;&quot;&quot;</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a>    <span class="n">peak_ratio</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Second-to-first-peak amplitude ratio threshold&quot;&quot;&quot;</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a>    <span class="n">max_iters</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Maximum number of iterations&quot;&quot;&quot;</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a>    <span class="n">convergence</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Percentile change in any RF coefficient required to continue iterating&quot;&quot;&quot;</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a>    
</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a><span class="sd">        </span>
</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a><span class="sd">        Args:</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a><span class="sd">        Returns:</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a><span class="sd">            Command line arguments</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;tax&quot;</span><span class="p">)</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos">445</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">peak_ratio</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a>                <span class="s2">&quot;-peak_ratio&quot;</span><span class="p">,</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos">449</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peak_ratio</span><span class="p">)</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a>            <span class="p">])</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_iters</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos">452</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos">453</span></a>                <span class="s2">&quot;-max_iters&quot;</span><span class="p">,</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos">454</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_iters</span><span class="p">)</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos">455</span></a>            <span class="p">])</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos">456</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">convergence</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos">457</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos">458</span></a>                <span class="s2">&quot;-convergence&quot;</span><span class="p">,</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos">459</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">convergence</span><span class="p">)</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos">460</span></a>            <span class="p">])</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos">461</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos">462</span></a>    
</span><span id="L-463"><a href="#L-463"><span class="linenos">463</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos">464</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos">465</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos">466</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseTaxOutputs</span><span class="p">:</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos">467</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos">468</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos">469</span></a><span class="sd">        </span>
</span><span id="L-470"><a href="#L-470"><span class="linenos">470</span></a><span class="sd">        Args:</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos">471</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos">472</span></a><span class="sd">        Returns:</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos">473</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseTaxOutputs`).</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos">474</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos">475</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseTaxOutputs</span><span class="p">(</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos">476</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos">477</span></a>            <span class="n">output</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">),</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos">478</span></a>        <span class="p">)</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos">479</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos">480</span></a>
</span><span id="L-481"><a href="#L-481"><span class="linenos">481</span></a>
</span><span id="L-482"><a href="#L-482"><span class="linenos">482</span></a><span class="k">class</span> <span class="nc">Dwi2responseTournierOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos">483</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos">484</span></a><span class="sd">    Output object returned when calling `Dwi2responseTournier(...)`.</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos">485</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos">486</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos">487</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos">488</span></a>    <span class="n">output</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos">489</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The output response function text file&quot;&quot;&quot;</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos">490</span></a>
</span><span id="L-491"><a href="#L-491"><span class="linenos">491</span></a>
</span><span id="L-492"><a href="#L-492"><span class="linenos">492</span></a><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos">493</span></a><span class="k">class</span> <span class="nc">Dwi2responseTournier</span><span class="p">:</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos">494</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos">495</span></a><span class="sd">    Use the Tournier et al. (2013) iterative algorithm for single-fibre voxel</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos">496</span></a><span class="sd">    selection and response function estimation.</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos">497</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos">498</span></a>    <span class="n">input_</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos">499</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The input DWI&quot;&quot;&quot;</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos">500</span></a>    <span class="n">output</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos">501</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The output response function text file&quot;&quot;&quot;</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos">502</span></a>    <span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos">503</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Number of single-fibre voxels to use when calculating response</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos">504</span></a><span class="sd">    function&quot;&quot;&quot;</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos">505</span></a>    <span class="n">iter_voxels</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos">506</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Number of single-fibre voxels to select when preparing for the next</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos">507</span></a><span class="sd">    iteration (default = 10 x value given in -number)&quot;&quot;&quot;</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos">508</span></a>    <span class="n">dilate</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos">509</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Number of mask dilation steps to apply when deriving voxel mask to test</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos">510</span></a><span class="sd">    in the next iteration&quot;&quot;&quot;</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos">511</span></a>    <span class="n">max_iters</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos">512</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Maximum number of iterations&quot;&quot;&quot;</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos">513</span></a>    
</span><span id="L-514"><a href="#L-514"><span class="linenos">514</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos">515</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos">516</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos">517</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos">518</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos">519</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos">520</span></a><span class="sd">        </span>
</span><span id="L-521"><a href="#L-521"><span class="linenos">521</span></a><span class="sd">        Args:</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos">522</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos">523</span></a><span class="sd">        Returns:</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos">524</span></a><span class="sd">            Command line arguments</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos">525</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos">526</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos">527</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;tournier&quot;</span><span class="p">)</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos">528</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos">529</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos">530</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos">531</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos">532</span></a>                <span class="s2">&quot;-number&quot;</span><span class="p">,</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos">533</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="p">)</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos">534</span></a>            <span class="p">])</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos">535</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_voxels</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos">536</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos">537</span></a>                <span class="s2">&quot;-iter_voxels&quot;</span><span class="p">,</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos">538</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iter_voxels</span><span class="p">)</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos">539</span></a>            <span class="p">])</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos">540</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dilate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos">541</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos">542</span></a>                <span class="s2">&quot;-dilate&quot;</span><span class="p">,</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos">543</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dilate</span><span class="p">)</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos">544</span></a>            <span class="p">])</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos">545</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_iters</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos">546</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos">547</span></a>                <span class="s2">&quot;-max_iters&quot;</span><span class="p">,</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos">548</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_iters</span><span class="p">)</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos">549</span></a>            <span class="p">])</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos">550</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos">551</span></a>    
</span><span id="L-552"><a href="#L-552"><span class="linenos">552</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos">553</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos">554</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos">555</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseTournierOutputs</span><span class="p">:</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos">556</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos">557</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos">558</span></a><span class="sd">        </span>
</span><span id="L-559"><a href="#L-559"><span class="linenos">559</span></a><span class="sd">        Args:</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos">560</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos">561</span></a><span class="sd">        Returns:</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos">562</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseTournierOutputs`).</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos">563</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos">564</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseTournierOutputs</span><span class="p">(</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos">565</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos">566</span></a>            <span class="n">output</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">),</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos">567</span></a>        <span class="p">)</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos">568</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos">569</span></a>
</span><span id="L-570"><a href="#L-570"><span class="linenos">570</span></a>
</span><span id="L-571"><a href="#L-571"><span class="linenos">571</span></a><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos">572</span></a><span class="k">class</span> <span class="nc">Dwi2responseFslgrad</span><span class="p">:</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos">573</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos">574</span></a><span class="sd">    Provide the diffusion gradient table in FSL bvecs/bvals format.</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos">575</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos">576</span></a>    <span class="n">bvecs</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos">577</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Provide the diffusion-weighted gradient scheme used in the acquisition in</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos">578</span></a><span class="sd">    FSL bvecs/bvals format files. If a diffusion gradient scheme is present in</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos">579</span></a><span class="sd">    the input image header, the data provided with this option will be instead</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos">580</span></a><span class="sd">    used.&quot;&quot;&quot;</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos">581</span></a>    <span class="n">bvals</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos">582</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Provide the diffusion-weighted gradient scheme used in the acquisition in</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos">583</span></a><span class="sd">    FSL bvecs/bvals format files. If a diffusion gradient scheme is present in</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos">584</span></a><span class="sd">    the input image header, the data provided with this option will be instead</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos">585</span></a><span class="sd">    used.&quot;&quot;&quot;</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos">586</span></a>    
</span><span id="L-587"><a href="#L-587"><span class="linenos">587</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos">588</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos">589</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos">590</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos">591</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos">592</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos">593</span></a><span class="sd">        </span>
</span><span id="L-594"><a href="#L-594"><span class="linenos">594</span></a><span class="sd">        Args:</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos">595</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos">596</span></a><span class="sd">        Returns:</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos">597</span></a><span class="sd">            Command line arguments</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos">598</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos">599</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos">600</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-fslgrad&quot;</span><span class="p">)</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos">601</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bvecs</span><span class="p">))</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos">602</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bvals</span><span class="p">))</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos">603</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos">604</span></a>
</span><span id="L-605"><a href="#L-605"><span class="linenos">605</span></a>
</span><span id="L-606"><a href="#L-606"><span class="linenos">606</span></a><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos">607</span></a><span class="k">class</span> <span class="nc">Dwi2responseConfig</span><span class="p">:</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos">608</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos">609</span></a><span class="sd">    temporarily set the value of an MRtrix config file entry.</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos">610</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos">611</span></a>    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos">612</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;temporarily set the value of an MRtrix config file entry.&quot;&quot;&quot;</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos">613</span></a>    <span class="n">value</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos">614</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;temporarily set the value of an MRtrix config file entry.&quot;&quot;&quot;</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos">615</span></a>    
</span><span id="L-616"><a href="#L-616"><span class="linenos">616</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos">617</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos">618</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos">619</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos">620</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos">621</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos">622</span></a><span class="sd">        </span>
</span><span id="L-623"><a href="#L-623"><span class="linenos">623</span></a><span class="sd">        Args:</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos">624</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos">625</span></a><span class="sd">        Returns:</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos">626</span></a><span class="sd">            Command line arguments</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos">627</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos">628</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos">629</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-config&quot;</span><span class="p">)</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos">630</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos">631</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos">632</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos">633</span></a>
</span><span id="L-634"><a href="#L-634"><span class="linenos">634</span></a>
</span><span id="L-635"><a href="#L-635"><span class="linenos">635</span></a><span class="k">class</span> <span class="nc">Dwi2responseOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos">636</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos">637</span></a><span class="sd">    Output object returned when calling `dwi2response(...)`.</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos">638</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos">639</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos">640</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos">641</span></a>    <span class="n">algorithm</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">Dwi2responseDhollanderOutputs</span><span class="p">,</span> <span class="n">Dwi2responseFaOutputs</span><span class="p">,</span> <span class="n">Dwi2responseManualOutputs</span><span class="p">,</span> <span class="n">Dwi2responseMsmt5ttOutputs</span><span class="p">,</span> <span class="n">Dwi2responseTaxOutputs</span><span class="p">,</span> <span class="n">Dwi2responseTournierOutputs</span><span class="p">]</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos">642</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Outputs from `Dwi2responseDhollander` or `Dwi2responseFa` or</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos">643</span></a><span class="sd">    `Dwi2responseManual` or `Dwi2responseMsmt5tt` or `Dwi2responseTax` or</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos">644</span></a><span class="sd">    `Dwi2responseTournier`.&quot;&quot;&quot;</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos">645</span></a>
</span><span id="L-646"><a href="#L-646"><span class="linenos">646</span></a>
</span><span id="L-647"><a href="#L-647"><span class="linenos">647</span></a><span class="k">def</span> <span class="nf">dwi2response</span><span class="p">(</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos">648</span></a>    <span class="n">algorithm</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">Dwi2responseDhollander</span><span class="p">,</span> <span class="n">Dwi2responseFa</span><span class="p">,</span> <span class="n">Dwi2responseManual</span><span class="p">,</span> <span class="n">Dwi2responseMsmt5tt</span><span class="p">,</span> <span class="n">Dwi2responseTax</span><span class="p">,</span> <span class="n">Dwi2responseTournier</span><span class="p">],</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos">649</span></a>    <span class="n">grad</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos">650</span></a>    <span class="n">fslgrad</span><span class="p">:</span> <span class="n">Dwi2responseFslgrad</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos">651</span></a>    <span class="n">mask</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos">652</span></a>    <span class="n">voxels</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos">653</span></a>    <span class="n">shells</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos">654</span></a>    <span class="n">lmax</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos">655</span></a>    <span class="n">nocleanup</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos">656</span></a>    <span class="n">scratch</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos">657</span></a>    <span class="n">continue_</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos">658</span></a>    <span class="n">info</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos">659</span></a>    <span class="n">quiet</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos">660</span></a>    <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos">661</span></a>    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos">662</span></a>    <span class="n">nthreads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-663"><a href="#L-663"><span class="linenos">663</span></a>    <span class="n">config</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Dwi2responseConfig</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos">664</span></a>    <span class="n">help_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-665"><a href="#L-665"><span class="linenos">665</span></a>    <span class="n">version</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos">666</span></a>    <span class="n">runner</span><span class="p">:</span> <span class="n">Runner</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos">667</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseOutputs</span><span class="p">:</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos">668</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos">669</span></a><span class="sd">    Estimate response function(s) for spherical deconvolution.</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos">670</span></a><span class="sd">    dwi2response offers different algorithms for performing various types of</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos">671</span></a><span class="sd">    response function estimation. The name of the algorithm must appear as the</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos">672</span></a><span class="sd">    first argument on the command-line after ‘dwi2response’. The subsequent</span>
</span><span id="L-673"><a href="#L-673"><span class="linenos">673</span></a><span class="sd">    arguments and options depend on the particular algorithm being invoked.</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos">674</span></a><span class="sd">    Each algorithm available has its own help page, including necessary</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos">675</span></a><span class="sd">    references; e.g. to see the help page of the &#39;fa&#39; algorithm, type</span>
</span><span id="L-676"><a href="#L-676"><span class="linenos">676</span></a><span class="sd">    &#39;dwi2response fa&#39;.</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos">677</span></a><span class="sd">    </span>
</span><span id="L-678"><a href="#L-678"><span class="linenos">678</span></a><span class="sd">    Author: Robert E. Smith (robert.smith@florey.edu.au) &amp; Thijs Dhollander</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos">679</span></a><span class="sd">    (thijs.dhollander@gmail.com)</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos">680</span></a><span class="sd">    </span>
</span><span id="L-681"><a href="#L-681"><span class="linenos">681</span></a><span class="sd">    URL:</span>
</span><span id="L-682"><a href="#L-682"><span class="linenos">682</span></a><span class="sd">    https://mrtrix.readthedocs.io/en/3.0.4/reference/commands/dwi2response.html</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos">683</span></a><span class="sd">    </span>
</span><span id="L-684"><a href="#L-684"><span class="linenos">684</span></a><span class="sd">    Args:</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos">685</span></a><span class="sd">        algorithm: Select the algorithm to be used to complete the script\</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos">686</span></a><span class="sd">            operation; additional details and options become available once an\</span>
</span><span id="L-687"><a href="#L-687"><span class="linenos">687</span></a><span class="sd">            algorithm is nominated. Options are: dhollander, fa, manual, msmt_5tt,\</span>
</span><span id="L-688"><a href="#L-688"><span class="linenos">688</span></a><span class="sd">            tax, tournier.</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos">689</span></a><span class="sd">        grad: Provide the diffusion gradient table in MRtrix format.</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos">690</span></a><span class="sd">        fslgrad: Provide the diffusion gradient table in FSL bvecs/bvals format.</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos">691</span></a><span class="sd">        mask: Only process voxels within the specified binary brain mask image.</span>
</span><span id="L-692"><a href="#L-692"><span class="linenos">692</span></a><span class="sd">        voxels: Output an image showing the final voxel selection(s).</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos">693</span></a><span class="sd">        shells: b-value(s) to use in response function estimation\</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos">694</span></a><span class="sd">            (comma-separated list in case of multiple b-values, b=0 must be\</span>
</span><span id="L-695"><a href="#L-695"><span class="linenos">695</span></a><span class="sd">            included explicitly).</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos">696</span></a><span class="sd">        lmax: maximum harmonic degree(s) for response function estimation\</span>
</span><span id="L-697"><a href="#L-697"><span class="linenos">697</span></a><span class="sd">            (comma-separated list in case of multiple b-values).</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos">698</span></a><span class="sd">        nocleanup: do not delete intermediate files during script execution,\</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos">699</span></a><span class="sd">            and do not delete scratch directory at script completion.</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos">700</span></a><span class="sd">        scratch: manually specify the path in which to generate the scratch\</span>
</span><span id="L-701"><a href="#L-701"><span class="linenos">701</span></a><span class="sd">            directory.</span>
</span><span id="L-702"><a href="#L-702"><span class="linenos">702</span></a><span class="sd">        continue_: continue the script from a previous execution; must provide\</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos">703</span></a><span class="sd">            the scratch directory path, and the name of the last\</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos">704</span></a><span class="sd">            successfully-generated file.</span>
</span><span id="L-705"><a href="#L-705"><span class="linenos">705</span></a><span class="sd">        info: display information messages.</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos">706</span></a><span class="sd">        quiet: do not display information messages or progress status;\</span>
</span><span id="L-707"><a href="#L-707"><span class="linenos">707</span></a><span class="sd">            alternatively, this can be achieved by setting the MRTRIX_QUIET\</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos">708</span></a><span class="sd">            environment variable to a non-empty string.</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos">709</span></a><span class="sd">        debug: display debugging messages.</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos">710</span></a><span class="sd">        force: force overwrite of output files (caution: using the same file as\</span>
</span><span id="L-711"><a href="#L-711"><span class="linenos">711</span></a><span class="sd">            input and output might cause unexpected behaviour).</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos">712</span></a><span class="sd">        nthreads: use this number of threads in multi-threaded applications\</span>
</span><span id="L-713"><a href="#L-713"><span class="linenos">713</span></a><span class="sd">            (set to 0 to disable multi-threading).</span>
</span><span id="L-714"><a href="#L-714"><span class="linenos">714</span></a><span class="sd">        config: temporarily set the value of an MRtrix config file entry.</span>
</span><span id="L-715"><a href="#L-715"><span class="linenos">715</span></a><span class="sd">        help_: display this information page and exit.</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos">716</span></a><span class="sd">        version: display version information and exit.</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos">717</span></a><span class="sd">        runner: Command runner.</span>
</span><span id="L-718"><a href="#L-718"><span class="linenos">718</span></a><span class="sd">    Returns:</span>
</span><span id="L-719"><a href="#L-719"><span class="linenos">719</span></a><span class="sd">        NamedTuple of outputs (described in `Dwi2responseOutputs`).</span>
</span><span id="L-720"><a href="#L-720"><span class="linenos">720</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-721"><a href="#L-721"><span class="linenos">721</span></a>    <span class="n">runner</span> <span class="o">=</span> <span class="n">runner</span> <span class="ow">or</span> <span class="n">get_global_runner</span><span class="p">()</span>
</span><span id="L-722"><a href="#L-722"><span class="linenos">722</span></a>    <span class="n">execution</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">start_execution</span><span class="p">(</span><span class="n">DWI2RESPONSE_METADATA</span><span class="p">)</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos">723</span></a>    <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-724"><a href="#L-724"><span class="linenos">724</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;dwi2response&quot;</span><span class="p">)</span>
</span><span id="L-725"><a href="#L-725"><span class="linenos">725</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">algorithm</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">execution</span><span class="p">))</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos">726</span></a>    <span class="k">if</span> <span class="n">grad</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-727"><a href="#L-727"><span class="linenos">727</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-728"><a href="#L-728"><span class="linenos">728</span></a>            <span class="s2">&quot;-grad&quot;</span><span class="p">,</span>
</span><span id="L-729"><a href="#L-729"><span class="linenos">729</span></a>            <span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="n">grad</span><span class="p">)</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos">730</span></a>        <span class="p">])</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos">731</span></a>    <span class="k">if</span> <span class="n">fslgrad</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-732"><a href="#L-732"><span class="linenos">732</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">fslgrad</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">execution</span><span class="p">))</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos">733</span></a>    <span class="k">if</span> <span class="n">mask</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos">734</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-735"><a href="#L-735"><span class="linenos">735</span></a>            <span class="s2">&quot;-mask&quot;</span><span class="p">,</span>
</span><span id="L-736"><a href="#L-736"><span class="linenos">736</span></a>            <span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="n">mask</span><span class="p">)</span>
</span><span id="L-737"><a href="#L-737"><span class="linenos">737</span></a>        <span class="p">])</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos">738</span></a>    <span class="k">if</span> <span class="n">voxels</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-739"><a href="#L-739"><span class="linenos">739</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-740"><a href="#L-740"><span class="linenos">740</span></a>            <span class="s2">&quot;-voxels&quot;</span><span class="p">,</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos">741</span></a>            <span class="n">voxels</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos">742</span></a>        <span class="p">])</span>
</span><span id="L-743"><a href="#L-743"><span class="linenos">743</span></a>    <span class="k">if</span> <span class="n">shells</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-744"><a href="#L-744"><span class="linenos">744</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-745"><a href="#L-745"><span class="linenos">745</span></a>            <span class="s2">&quot;-shells&quot;</span><span class="p">,</span>
</span><span id="L-746"><a href="#L-746"><span class="linenos">746</span></a>            <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">shells</span><span class="p">))</span>
</span><span id="L-747"><a href="#L-747"><span class="linenos">747</span></a>        <span class="p">])</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos">748</span></a>    <span class="k">if</span> <span class="n">lmax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-749"><a href="#L-749"><span class="linenos">749</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos">750</span></a>            <span class="s2">&quot;-lmax&quot;</span><span class="p">,</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos">751</span></a>            <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">lmax</span><span class="p">))</span>
</span><span id="L-752"><a href="#L-752"><span class="linenos">752</span></a>        <span class="p">])</span>
</span><span id="L-753"><a href="#L-753"><span class="linenos">753</span></a>    <span class="k">if</span> <span class="n">nocleanup</span><span class="p">:</span>
</span><span id="L-754"><a href="#L-754"><span class="linenos">754</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-nocleanup&quot;</span><span class="p">)</span>
</span><span id="L-755"><a href="#L-755"><span class="linenos">755</span></a>    <span class="k">if</span> <span class="n">scratch</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-756"><a href="#L-756"><span class="linenos">756</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-757"><a href="#L-757"><span class="linenos">757</span></a>            <span class="s2">&quot;-scratch&quot;</span><span class="p">,</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos">758</span></a>            <span class="n">scratch</span>
</span><span id="L-759"><a href="#L-759"><span class="linenos">759</span></a>        <span class="p">])</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos">760</span></a>    <span class="k">if</span> <span class="n">continue_</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-761"><a href="#L-761"><span class="linenos">761</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-762"><a href="#L-762"><span class="linenos">762</span></a>            <span class="s2">&quot;-continue&quot;</span><span class="p">,</span>
</span><span id="L-763"><a href="#L-763"><span class="linenos">763</span></a>            <span class="n">continue_</span>
</span><span id="L-764"><a href="#L-764"><span class="linenos">764</span></a>        <span class="p">])</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos">765</span></a>    <span class="k">if</span> <span class="n">info</span><span class="p">:</span>
</span><span id="L-766"><a href="#L-766"><span class="linenos">766</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-info&quot;</span><span class="p">)</span>
</span><span id="L-767"><a href="#L-767"><span class="linenos">767</span></a>    <span class="k">if</span> <span class="n">quiet</span><span class="p">:</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos">768</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-quiet&quot;</span><span class="p">)</span>
</span><span id="L-769"><a href="#L-769"><span class="linenos">769</span></a>    <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
</span><span id="L-770"><a href="#L-770"><span class="linenos">770</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-debug&quot;</span><span class="p">)</span>
</span><span id="L-771"><a href="#L-771"><span class="linenos">771</span></a>    <span class="k">if</span> <span class="n">force</span><span class="p">:</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos">772</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-force&quot;</span><span class="p">)</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos">773</span></a>    <span class="k">if</span> <span class="n">nthreads</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-774"><a href="#L-774"><span class="linenos">774</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="L-775"><a href="#L-775"><span class="linenos">775</span></a>            <span class="s2">&quot;-nthreads&quot;</span><span class="p">,</span>
</span><span id="L-776"><a href="#L-776"><span class="linenos">776</span></a>            <span class="nb">str</span><span class="p">(</span><span class="n">nthreads</span><span class="p">)</span>
</span><span id="L-777"><a href="#L-777"><span class="linenos">777</span></a>        <span class="p">])</span>
</span><span id="L-778"><a href="#L-778"><span class="linenos">778</span></a>    <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-779"><a href="#L-779"><span class="linenos">779</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">a</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">execution</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">config</span><span class="p">]</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">c</span><span class="p">])</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos">780</span></a>    <span class="k">if</span> <span class="n">help_</span><span class="p">:</span>
</span><span id="L-781"><a href="#L-781"><span class="linenos">781</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-help&quot;</span><span class="p">)</span>
</span><span id="L-782"><a href="#L-782"><span class="linenos">782</span></a>    <span class="k">if</span> <span class="n">version</span><span class="p">:</span>
</span><span id="L-783"><a href="#L-783"><span class="linenos">783</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-version&quot;</span><span class="p">)</span>
</span><span id="L-784"><a href="#L-784"><span class="linenos">784</span></a>    <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseOutputs</span><span class="p">(</span>
</span><span id="L-785"><a href="#L-785"><span class="linenos">785</span></a>        <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="L-786"><a href="#L-786"><span class="linenos">786</span></a>        <span class="n">algorithm</span><span class="o">=</span><span class="n">algorithm</span><span class="o">.</span><span class="n">outputs</span><span class="p">(</span><span class="n">execution</span><span class="p">),</span>
</span><span id="L-787"><a href="#L-787"><span class="linenos">787</span></a>    <span class="p">)</span>
</span><span id="L-788"><a href="#L-788"><span class="linenos">788</span></a>    <span class="n">execution</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">cargs</span><span class="p">)</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos">789</span></a>    <span class="k">return</span> <span class="n">ret</span>
</span><span id="L-790"><a href="#L-790"><span class="linenos">790</span></a>
</span><span id="L-791"><a href="#L-791"><span class="linenos">791</span></a>
</span><span id="L-792"><a href="#L-792"><span class="linenos">792</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-793"><a href="#L-793"><span class="linenos">793</span></a>    <span class="s2">&quot;DWI2RESPONSE_METADATA&quot;</span><span class="p">,</span>
</span><span id="L-794"><a href="#L-794"><span class="linenos">794</span></a>    <span class="s2">&quot;Dwi2responseConfig&quot;</span><span class="p">,</span>
</span><span id="L-795"><a href="#L-795"><span class="linenos">795</span></a>    <span class="s2">&quot;Dwi2responseDhollander&quot;</span><span class="p">,</span>
</span><span id="L-796"><a href="#L-796"><span class="linenos">796</span></a>    <span class="s2">&quot;Dwi2responseDhollanderOutputs&quot;</span><span class="p">,</span>
</span><span id="L-797"><a href="#L-797"><span class="linenos">797</span></a>    <span class="s2">&quot;Dwi2responseFa&quot;</span><span class="p">,</span>
</span><span id="L-798"><a href="#L-798"><span class="linenos">798</span></a>    <span class="s2">&quot;Dwi2responseFaOutputs&quot;</span><span class="p">,</span>
</span><span id="L-799"><a href="#L-799"><span class="linenos">799</span></a>    <span class="s2">&quot;Dwi2responseFslgrad&quot;</span><span class="p">,</span>
</span><span id="L-800"><a href="#L-800"><span class="linenos">800</span></a>    <span class="s2">&quot;Dwi2responseManual&quot;</span><span class="p">,</span>
</span><span id="L-801"><a href="#L-801"><span class="linenos">801</span></a>    <span class="s2">&quot;Dwi2responseManualOutputs&quot;</span><span class="p">,</span>
</span><span id="L-802"><a href="#L-802"><span class="linenos">802</span></a>    <span class="s2">&quot;Dwi2responseMsmt5tt&quot;</span><span class="p">,</span>
</span><span id="L-803"><a href="#L-803"><span class="linenos">803</span></a>    <span class="s2">&quot;Dwi2responseMsmt5ttOutputs&quot;</span><span class="p">,</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos">804</span></a>    <span class="s2">&quot;Dwi2responseOutputs&quot;</span><span class="p">,</span>
</span><span id="L-805"><a href="#L-805"><span class="linenos">805</span></a>    <span class="s2">&quot;Dwi2responseTax&quot;</span><span class="p">,</span>
</span><span id="L-806"><a href="#L-806"><span class="linenos">806</span></a>    <span class="s2">&quot;Dwi2responseTaxOutputs&quot;</span><span class="p">,</span>
</span><span id="L-807"><a href="#L-807"><span class="linenos">807</span></a>    <span class="s2">&quot;Dwi2responseTournier&quot;</span><span class="p">,</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos">808</span></a>    <span class="s2">&quot;Dwi2responseTournierOutputs&quot;</span><span class="p">,</span>
</span><span id="L-809"><a href="#L-809"><span class="linenos">809</span></a>    <span class="s2">&quot;dwi2response&quot;</span><span class="p">,</span>
</span><span id="L-810"><a href="#L-810"><span class="linenos">810</span></a><span class="p">]</span>
</span></pre></div>


            </section>
                <section id="DWI2RESPONSE_METADATA">
                    <div class="attr variable">
            <span class="name">DWI2RESPONSE_METADATA</span>        =
<input id="DWI2RESPONSE_METADATA-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="DWI2RESPONSE_METADATA-view-value"></label><span class="default_value">Metadata(id=&#39;edddbe80993b644221e1465a2dd0d5c280ed0192.boutiques&#39;, name=&#39;dwi2response&#39;, package=&#39;mrtrix&#39;, citations=None, container_image_tag=&#39;mrtrix3/mrtrix3:3.0.4&#39;)</span>

        
    </div>
    <a class="headerlink" href="#DWI2RESPONSE_METADATA"></a>
    
    

                </section>
                <section id="Dwi2responseConfig">
                            <input id="Dwi2responseConfig-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclasses.dataclass">@dataclasses.dataclass</div>

    <span class="def">class</span>
    <span class="name">Dwi2responseConfig</span>:

                <label class="view-source-button" for="Dwi2responseConfig-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseConfig"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseConfig-607"><a href="#Dwi2responseConfig-607"><span class="linenos">607</span></a><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
</span><span id="Dwi2responseConfig-608"><a href="#Dwi2responseConfig-608"><span class="linenos">608</span></a><span class="k">class</span> <span class="nc">Dwi2responseConfig</span><span class="p">:</span>
</span><span id="Dwi2responseConfig-609"><a href="#Dwi2responseConfig-609"><span class="linenos">609</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseConfig-610"><a href="#Dwi2responseConfig-610"><span class="linenos">610</span></a><span class="sd">    temporarily set the value of an MRtrix config file entry.</span>
</span><span id="Dwi2responseConfig-611"><a href="#Dwi2responseConfig-611"><span class="linenos">611</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Dwi2responseConfig-612"><a href="#Dwi2responseConfig-612"><span class="linenos">612</span></a>    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="Dwi2responseConfig-613"><a href="#Dwi2responseConfig-613"><span class="linenos">613</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;temporarily set the value of an MRtrix config file entry.&quot;&quot;&quot;</span>
</span><span id="Dwi2responseConfig-614"><a href="#Dwi2responseConfig-614"><span class="linenos">614</span></a>    <span class="n">value</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="Dwi2responseConfig-615"><a href="#Dwi2responseConfig-615"><span class="linenos">615</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;temporarily set the value of an MRtrix config file entry.&quot;&quot;&quot;</span>
</span><span id="Dwi2responseConfig-616"><a href="#Dwi2responseConfig-616"><span class="linenos">616</span></a>    
</span><span id="Dwi2responseConfig-617"><a href="#Dwi2responseConfig-617"><span class="linenos">617</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="Dwi2responseConfig-618"><a href="#Dwi2responseConfig-618"><span class="linenos">618</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseConfig-619"><a href="#Dwi2responseConfig-619"><span class="linenos">619</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseConfig-620"><a href="#Dwi2responseConfig-620"><span class="linenos">620</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Dwi2responseConfig-621"><a href="#Dwi2responseConfig-621"><span class="linenos">621</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseConfig-622"><a href="#Dwi2responseConfig-622"><span class="linenos">622</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="Dwi2responseConfig-623"><a href="#Dwi2responseConfig-623"><span class="linenos">623</span></a><span class="sd">        </span>
</span><span id="Dwi2responseConfig-624"><a href="#Dwi2responseConfig-624"><span class="linenos">624</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseConfig-625"><a href="#Dwi2responseConfig-625"><span class="linenos">625</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseConfig-626"><a href="#Dwi2responseConfig-626"><span class="linenos">626</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseConfig-627"><a href="#Dwi2responseConfig-627"><span class="linenos">627</span></a><span class="sd">            Command line arguments</span>
</span><span id="Dwi2responseConfig-628"><a href="#Dwi2responseConfig-628"><span class="linenos">628</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseConfig-629"><a href="#Dwi2responseConfig-629"><span class="linenos">629</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Dwi2responseConfig-630"><a href="#Dwi2responseConfig-630"><span class="linenos">630</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-config&quot;</span><span class="p">)</span>
</span><span id="Dwi2responseConfig-631"><a href="#Dwi2responseConfig-631"><span class="linenos">631</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
</span><span id="Dwi2responseConfig-632"><a href="#Dwi2responseConfig-632"><span class="linenos">632</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</span><span id="Dwi2responseConfig-633"><a href="#Dwi2responseConfig-633"><span class="linenos">633</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span></pre></div>


            <div class="docstring"><p>temporarily set the value of an MRtrix config file entry.</p>
</div>


                            <div id="Dwi2responseConfig.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">Dwi2responseConfig</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">key</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">value</span><span class="p">:</span> <span class="nb">str</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseConfig.__init__"></a>
    
    

                            </div>
                            <div id="Dwi2responseConfig.key" class="classattr">
                                <div class="attr variable">
            <span class="name">key</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseConfig.key"></a>
    
            <div class="docstring"><p>temporarily set the value of an MRtrix config file entry.</p>
</div>


                            </div>
                            <div id="Dwi2responseConfig.value" class="classattr">
                                <div class="attr variable">
            <span class="name">value</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseConfig.value"></a>
    
            <div class="docstring"><p>temporarily set the value of an MRtrix config file entry.</p>
</div>


                            </div>
                            <div id="Dwi2responseConfig.run" class="classattr">
                                        <input id="Dwi2responseConfig.run-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">run</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">execution</span><span class="p">:</span> <span class="n">styxdefs</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Execution</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Dwi2responseConfig.run-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseConfig.run"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseConfig.run-617"><a href="#Dwi2responseConfig.run-617"><span class="linenos">617</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="Dwi2responseConfig.run-618"><a href="#Dwi2responseConfig.run-618"><span class="linenos">618</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseConfig.run-619"><a href="#Dwi2responseConfig.run-619"><span class="linenos">619</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseConfig.run-620"><a href="#Dwi2responseConfig.run-620"><span class="linenos">620</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Dwi2responseConfig.run-621"><a href="#Dwi2responseConfig.run-621"><span class="linenos">621</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseConfig.run-622"><a href="#Dwi2responseConfig.run-622"><span class="linenos">622</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="Dwi2responseConfig.run-623"><a href="#Dwi2responseConfig.run-623"><span class="linenos">623</span></a><span class="sd">        </span>
</span><span id="Dwi2responseConfig.run-624"><a href="#Dwi2responseConfig.run-624"><span class="linenos">624</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseConfig.run-625"><a href="#Dwi2responseConfig.run-625"><span class="linenos">625</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseConfig.run-626"><a href="#Dwi2responseConfig.run-626"><span class="linenos">626</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseConfig.run-627"><a href="#Dwi2responseConfig.run-627"><span class="linenos">627</span></a><span class="sd">            Command line arguments</span>
</span><span id="Dwi2responseConfig.run-628"><a href="#Dwi2responseConfig.run-628"><span class="linenos">628</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseConfig.run-629"><a href="#Dwi2responseConfig.run-629"><span class="linenos">629</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Dwi2responseConfig.run-630"><a href="#Dwi2responseConfig.run-630"><span class="linenos">630</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-config&quot;</span><span class="p">)</span>
</span><span id="Dwi2responseConfig.run-631"><a href="#Dwi2responseConfig.run-631"><span class="linenos">631</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
</span><span id="Dwi2responseConfig.run-632"><a href="#Dwi2responseConfig.run-632"><span class="linenos">632</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</span><span id="Dwi2responseConfig.run-633"><a href="#Dwi2responseConfig.run-633"><span class="linenos">633</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span></pre></div>


            <div class="docstring"><p>Build command line arguments. This method is called by the main command.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>execution:</strong>  The execution object.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Command line arguments</p>
</blockquote>
</div>


                            </div>
                </section>
                <section id="Dwi2responseDhollander">
                            <input id="Dwi2responseDhollander-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclasses.dataclass">@dataclasses.dataclass</div>

    <span class="def">class</span>
    <span class="name">Dwi2responseDhollander</span>:

                <label class="view-source-button" for="Dwi2responseDhollander-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseDhollander"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseDhollander-32"><a href="#Dwi2responseDhollander-32"><span class="linenos"> 32</span></a><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
</span><span id="Dwi2responseDhollander-33"><a href="#Dwi2responseDhollander-33"><span class="linenos"> 33</span></a><span class="k">class</span> <span class="nc">Dwi2responseDhollander</span><span class="p">:</span>
</span><span id="Dwi2responseDhollander-34"><a href="#Dwi2responseDhollander-34"><span class="linenos"> 34</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander-35"><a href="#Dwi2responseDhollander-35"><span class="linenos"> 35</span></a><span class="sd">    Unsupervised estimation of WM, GM and CSF response functions that does not</span>
</span><span id="Dwi2responseDhollander-36"><a href="#Dwi2responseDhollander-36"><span class="linenos"> 36</span></a><span class="sd">    require a T1 image (or segmentation thereof).</span>
</span><span id="Dwi2responseDhollander-37"><a href="#Dwi2responseDhollander-37"><span class="linenos"> 37</span></a><span class="sd">    This is an improved version of the Dhollander et al. (2016) algorithm for</span>
</span><span id="Dwi2responseDhollander-38"><a href="#Dwi2responseDhollander-38"><span class="linenos"> 38</span></a><span class="sd">    unsupervised estimation of WM, GM and CSF response functions, which includes</span>
</span><span id="Dwi2responseDhollander-39"><a href="#Dwi2responseDhollander-39"><span class="linenos"> 39</span></a><span class="sd">    the Dhollander et al. (2019) improvements for single-fibre WM response</span>
</span><span id="Dwi2responseDhollander-40"><a href="#Dwi2responseDhollander-40"><span class="linenos"> 40</span></a><span class="sd">    function estimation (prior to this update, the &quot;dwi2response tournier&quot;</span>
</span><span id="Dwi2responseDhollander-41"><a href="#Dwi2responseDhollander-41"><span class="linenos"> 41</span></a><span class="sd">    algorithm had been utilised specifically for the single-fibre WM response</span>
</span><span id="Dwi2responseDhollander-42"><a href="#Dwi2responseDhollander-42"><span class="linenos"> 42</span></a><span class="sd">    function estimation step).</span>
</span><span id="Dwi2responseDhollander-43"><a href="#Dwi2responseDhollander-43"><span class="linenos"> 43</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander-44"><a href="#Dwi2responseDhollander-44"><span class="linenos"> 44</span></a>    <span class="n">input_</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="Dwi2responseDhollander-45"><a href="#Dwi2responseDhollander-45"><span class="linenos"> 45</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Input DWI dataset&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander-46"><a href="#Dwi2responseDhollander-46"><span class="linenos"> 46</span></a>    <span class="n">out_sfwm</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="Dwi2responseDhollander-47"><a href="#Dwi2responseDhollander-47"><span class="linenos"> 47</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output single-fibre WM response function text file&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander-48"><a href="#Dwi2responseDhollander-48"><span class="linenos"> 48</span></a>    <span class="n">out_gm</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="Dwi2responseDhollander-49"><a href="#Dwi2responseDhollander-49"><span class="linenos"> 49</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output GM response function text file&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander-50"><a href="#Dwi2responseDhollander-50"><span class="linenos"> 50</span></a>    <span class="n">out_csf</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="Dwi2responseDhollander-51"><a href="#Dwi2responseDhollander-51"><span class="linenos"> 51</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output CSF response function text file&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander-52"><a href="#Dwi2responseDhollander-52"><span class="linenos"> 52</span></a>    <span class="n">erode</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseDhollander-53"><a href="#Dwi2responseDhollander-53"><span class="linenos"> 53</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Number of erosion passes to apply to initial (whole brain) mask. Set to 0</span>
</span><span id="Dwi2responseDhollander-54"><a href="#Dwi2responseDhollander-54"><span class="linenos"> 54</span></a><span class="sd">    to not erode the brain mask. (default: 3)&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander-55"><a href="#Dwi2responseDhollander-55"><span class="linenos"> 55</span></a>    <span class="n">fa</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseDhollander-56"><a href="#Dwi2responseDhollander-56"><span class="linenos"> 56</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;FA threshold for crude WM versus GM-CSF separation. (default: 0.2)&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander-57"><a href="#Dwi2responseDhollander-57"><span class="linenos"> 57</span></a>    <span class="n">sfwm</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseDhollander-58"><a href="#Dwi2responseDhollander-58"><span class="linenos"> 58</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Final number of single-fibre WM voxels to select, as a percentage of</span>
</span><span id="Dwi2responseDhollander-59"><a href="#Dwi2responseDhollander-59"><span class="linenos"> 59</span></a><span class="sd">    refined WM. (default: 0.5 per cent)&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander-60"><a href="#Dwi2responseDhollander-60"><span class="linenos"> 60</span></a>    <span class="n">gm</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseDhollander-61"><a href="#Dwi2responseDhollander-61"><span class="linenos"> 61</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Final number of GM voxels to select, as a percentage of refined GM.</span>
</span><span id="Dwi2responseDhollander-62"><a href="#Dwi2responseDhollander-62"><span class="linenos"> 62</span></a><span class="sd">    (default: 2 per cent)&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander-63"><a href="#Dwi2responseDhollander-63"><span class="linenos"> 63</span></a>    <span class="n">csf</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseDhollander-64"><a href="#Dwi2responseDhollander-64"><span class="linenos"> 64</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Final number of CSF voxels to select, as a percentage of refined CSF.</span>
</span><span id="Dwi2responseDhollander-65"><a href="#Dwi2responseDhollander-65"><span class="linenos"> 65</span></a><span class="sd">    (default: 10 per cent)&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander-66"><a href="#Dwi2responseDhollander-66"><span class="linenos"> 66</span></a>    <span class="n">wm_algo</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;fa&quot;</span><span class="p">,</span> <span class="s2">&quot;tax&quot;</span><span class="p">,</span> <span class="s2">&quot;tournier&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseDhollander-67"><a href="#Dwi2responseDhollander-67"><span class="linenos"> 67</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Use external dwi2response algorithm for WM single-fibre voxel selection</span>
</span><span id="Dwi2responseDhollander-68"><a href="#Dwi2responseDhollander-68"><span class="linenos"> 68</span></a><span class="sd">    (options: fa, tax, tournier) (default: built-in Dhollander 2019)&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander-69"><a href="#Dwi2responseDhollander-69"><span class="linenos"> 69</span></a>    
</span><span id="Dwi2responseDhollander-70"><a href="#Dwi2responseDhollander-70"><span class="linenos"> 70</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="Dwi2responseDhollander-71"><a href="#Dwi2responseDhollander-71"><span class="linenos"> 71</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander-72"><a href="#Dwi2responseDhollander-72"><span class="linenos"> 72</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander-73"><a href="#Dwi2responseDhollander-73"><span class="linenos"> 73</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Dwi2responseDhollander-74"><a href="#Dwi2responseDhollander-74"><span class="linenos"> 74</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander-75"><a href="#Dwi2responseDhollander-75"><span class="linenos"> 75</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="Dwi2responseDhollander-76"><a href="#Dwi2responseDhollander-76"><span class="linenos"> 76</span></a><span class="sd">        </span>
</span><span id="Dwi2responseDhollander-77"><a href="#Dwi2responseDhollander-77"><span class="linenos"> 77</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseDhollander-78"><a href="#Dwi2responseDhollander-78"><span class="linenos"> 78</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseDhollander-79"><a href="#Dwi2responseDhollander-79"><span class="linenos"> 79</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseDhollander-80"><a href="#Dwi2responseDhollander-80"><span class="linenos"> 80</span></a><span class="sd">            Command line arguments</span>
</span><span id="Dwi2responseDhollander-81"><a href="#Dwi2responseDhollander-81"><span class="linenos"> 81</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander-82"><a href="#Dwi2responseDhollander-82"><span class="linenos"> 82</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Dwi2responseDhollander-83"><a href="#Dwi2responseDhollander-83"><span class="linenos"> 83</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;dhollander&quot;</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander-84"><a href="#Dwi2responseDhollander-84"><span class="linenos"> 84</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="Dwi2responseDhollander-85"><a href="#Dwi2responseDhollander-85"><span class="linenos"> 85</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_sfwm</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander-86"><a href="#Dwi2responseDhollander-86"><span class="linenos"> 86</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_gm</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander-87"><a href="#Dwi2responseDhollander-87"><span class="linenos"> 87</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_csf</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander-88"><a href="#Dwi2responseDhollander-88"><span class="linenos"> 88</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">erode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseDhollander-89"><a href="#Dwi2responseDhollander-89"><span class="linenos"> 89</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseDhollander-90"><a href="#Dwi2responseDhollander-90"><span class="linenos"> 90</span></a>                <span class="s2">&quot;-erode&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander-91"><a href="#Dwi2responseDhollander-91"><span class="linenos"> 91</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">erode</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander-92"><a href="#Dwi2responseDhollander-92"><span class="linenos"> 92</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseDhollander-93"><a href="#Dwi2responseDhollander-93"><span class="linenos"> 93</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fa</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseDhollander-94"><a href="#Dwi2responseDhollander-94"><span class="linenos"> 94</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseDhollander-95"><a href="#Dwi2responseDhollander-95"><span class="linenos"> 95</span></a>                <span class="s2">&quot;-fa&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander-96"><a href="#Dwi2responseDhollander-96"><span class="linenos"> 96</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fa</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander-97"><a href="#Dwi2responseDhollander-97"><span class="linenos"> 97</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseDhollander-98"><a href="#Dwi2responseDhollander-98"><span class="linenos"> 98</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sfwm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseDhollander-99"><a href="#Dwi2responseDhollander-99"><span class="linenos"> 99</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseDhollander-100"><a href="#Dwi2responseDhollander-100"><span class="linenos">100</span></a>                <span class="s2">&quot;-sfwm&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander-101"><a href="#Dwi2responseDhollander-101"><span class="linenos">101</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sfwm</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander-102"><a href="#Dwi2responseDhollander-102"><span class="linenos">102</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseDhollander-103"><a href="#Dwi2responseDhollander-103"><span class="linenos">103</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">gm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseDhollander-104"><a href="#Dwi2responseDhollander-104"><span class="linenos">104</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseDhollander-105"><a href="#Dwi2responseDhollander-105"><span class="linenos">105</span></a>                <span class="s2">&quot;-gm&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander-106"><a href="#Dwi2responseDhollander-106"><span class="linenos">106</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gm</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander-107"><a href="#Dwi2responseDhollander-107"><span class="linenos">107</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseDhollander-108"><a href="#Dwi2responseDhollander-108"><span class="linenos">108</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">csf</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseDhollander-109"><a href="#Dwi2responseDhollander-109"><span class="linenos">109</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseDhollander-110"><a href="#Dwi2responseDhollander-110"><span class="linenos">110</span></a>                <span class="s2">&quot;-csf&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander-111"><a href="#Dwi2responseDhollander-111"><span class="linenos">111</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">csf</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander-112"><a href="#Dwi2responseDhollander-112"><span class="linenos">112</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseDhollander-113"><a href="#Dwi2responseDhollander-113"><span class="linenos">113</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wm_algo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseDhollander-114"><a href="#Dwi2responseDhollander-114"><span class="linenos">114</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseDhollander-115"><a href="#Dwi2responseDhollander-115"><span class="linenos">115</span></a>                <span class="s2">&quot;-wm_algo&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander-116"><a href="#Dwi2responseDhollander-116"><span class="linenos">116</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">wm_algo</span>
</span><span id="Dwi2responseDhollander-117"><a href="#Dwi2responseDhollander-117"><span class="linenos">117</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseDhollander-118"><a href="#Dwi2responseDhollander-118"><span class="linenos">118</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span><span id="Dwi2responseDhollander-119"><a href="#Dwi2responseDhollander-119"><span class="linenos">119</span></a>    
</span><span id="Dwi2responseDhollander-120"><a href="#Dwi2responseDhollander-120"><span class="linenos">120</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="Dwi2responseDhollander-121"><a href="#Dwi2responseDhollander-121"><span class="linenos">121</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander-122"><a href="#Dwi2responseDhollander-122"><span class="linenos">122</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander-123"><a href="#Dwi2responseDhollander-123"><span class="linenos">123</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseDhollanderOutputs</span><span class="p">:</span>
</span><span id="Dwi2responseDhollander-124"><a href="#Dwi2responseDhollander-124"><span class="linenos">124</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander-125"><a href="#Dwi2responseDhollander-125"><span class="linenos">125</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="Dwi2responseDhollander-126"><a href="#Dwi2responseDhollander-126"><span class="linenos">126</span></a><span class="sd">        </span>
</span><span id="Dwi2responseDhollander-127"><a href="#Dwi2responseDhollander-127"><span class="linenos">127</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseDhollander-128"><a href="#Dwi2responseDhollander-128"><span class="linenos">128</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseDhollander-129"><a href="#Dwi2responseDhollander-129"><span class="linenos">129</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseDhollander-130"><a href="#Dwi2responseDhollander-130"><span class="linenos">130</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseDhollanderOutputs`).</span>
</span><span id="Dwi2responseDhollander-131"><a href="#Dwi2responseDhollander-131"><span class="linenos">131</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander-132"><a href="#Dwi2responseDhollander-132"><span class="linenos">132</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseDhollanderOutputs</span><span class="p">(</span>
</span><span id="Dwi2responseDhollander-133"><a href="#Dwi2responseDhollander-133"><span class="linenos">133</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="Dwi2responseDhollander-134"><a href="#Dwi2responseDhollander-134"><span class="linenos">134</span></a>            <span class="n">out_sfwm</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_sfwm</span><span class="p">),</span>
</span><span id="Dwi2responseDhollander-135"><a href="#Dwi2responseDhollander-135"><span class="linenos">135</span></a>            <span class="n">out_gm</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_gm</span><span class="p">),</span>
</span><span id="Dwi2responseDhollander-136"><a href="#Dwi2responseDhollander-136"><span class="linenos">136</span></a>            <span class="n">out_csf</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_csf</span><span class="p">),</span>
</span><span id="Dwi2responseDhollander-137"><a href="#Dwi2responseDhollander-137"><span class="linenos">137</span></a>        <span class="p">)</span>
</span><span id="Dwi2responseDhollander-138"><a href="#Dwi2responseDhollander-138"><span class="linenos">138</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Unsupervised estimation of WM, GM and CSF response functions that does not
require a T1 image (or segmentation thereof).
This is an improved version of the Dhollander et al. (2016) algorithm for
unsupervised estimation of WM, GM and CSF response functions, which includes
the Dhollander et al. (2019) improvements for single-fibre WM response
function estimation (prior to this update, the "dwi2response tournier"
algorithm had been utilised specifically for the single-fibre WM response
function estimation step).</p>
</div>


                            <div id="Dwi2responseDhollander.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">Dwi2responseDhollander</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">input_</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">out_sfwm</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">out_gm</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">out_csf</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">erode</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">fa</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">sfwm</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">gm</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">csf</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">wm_algo</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;fa&#39;</span><span class="p">,</span> <span class="s1">&#39;tax&#39;</span><span class="p">,</span> <span class="s1">&#39;tournier&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseDhollander.__init__"></a>
    
    

                            </div>
                            <div id="Dwi2responseDhollander.input_" class="classattr">
                                <div class="attr variable">
            <span class="name">input_</span><span class="annotation">: pathlib.Path | str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseDhollander.input_"></a>
    
            <div class="docstring"><p>Input DWI dataset</p>
</div>


                            </div>
                            <div id="Dwi2responseDhollander.out_sfwm" class="classattr">
                                <div class="attr variable">
            <span class="name">out_sfwm</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseDhollander.out_sfwm"></a>
    
            <div class="docstring"><p>Output single-fibre WM response function text file</p>
</div>


                            </div>
                            <div id="Dwi2responseDhollander.out_gm" class="classattr">
                                <div class="attr variable">
            <span class="name">out_gm</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseDhollander.out_gm"></a>
    
            <div class="docstring"><p>Output GM response function text file</p>
</div>


                            </div>
                            <div id="Dwi2responseDhollander.out_csf" class="classattr">
                                <div class="attr variable">
            <span class="name">out_csf</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseDhollander.out_csf"></a>
    
            <div class="docstring"><p>Output CSF response function text file</p>
</div>


                            </div>
                            <div id="Dwi2responseDhollander.erode" class="classattr">
                                <div class="attr variable">
            <span class="name">erode</span><span class="annotation">: int | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseDhollander.erode"></a>
    
            <div class="docstring"><p>Number of erosion passes to apply to initial (whole brain) mask. Set to 0
to not erode the brain mask. (default: 3)</p>
</div>


                            </div>
                            <div id="Dwi2responseDhollander.fa" class="classattr">
                                <div class="attr variable">
            <span class="name">fa</span><span class="annotation">: float | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseDhollander.fa"></a>
    
            <div class="docstring"><p>FA threshold for crude WM versus GM-CSF separation. (default: 0.2)</p>
</div>


                            </div>
                            <div id="Dwi2responseDhollander.sfwm" class="classattr">
                                <div class="attr variable">
            <span class="name">sfwm</span><span class="annotation">: float | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseDhollander.sfwm"></a>
    
            <div class="docstring"><p>Final number of single-fibre WM voxels to select, as a percentage of
refined WM. (default: 0.5 per cent)</p>
</div>


                            </div>
                            <div id="Dwi2responseDhollander.gm" class="classattr">
                                <div class="attr variable">
            <span class="name">gm</span><span class="annotation">: float | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseDhollander.gm"></a>
    
            <div class="docstring"><p>Final number of GM voxels to select, as a percentage of refined GM.
(default: 2 per cent)</p>
</div>


                            </div>
                            <div id="Dwi2responseDhollander.csf" class="classattr">
                                <div class="attr variable">
            <span class="name">csf</span><span class="annotation">: float | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseDhollander.csf"></a>
    
            <div class="docstring"><p>Final number of CSF voxels to select, as a percentage of refined CSF.
(default: 10 per cent)</p>
</div>


                            </div>
                            <div id="Dwi2responseDhollander.wm_algo" class="classattr">
                                <div class="attr variable">
            <span class="name">wm_algo</span><span class="annotation">: Optional[Literal[&#39;fa&#39;, &#39;tax&#39;, &#39;tournier&#39;]]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseDhollander.wm_algo"></a>
    
            <div class="docstring"><p>Use external dwi2response algorithm for WM single-fibre voxel selection
(options: fa, tax, tournier) (default: built-in Dhollander 2019)</p>
</div>


                            </div>
                            <div id="Dwi2responseDhollander.run" class="classattr">
                                        <input id="Dwi2responseDhollander.run-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">run</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">execution</span><span class="p">:</span> <span class="n">styxdefs</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Execution</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Dwi2responseDhollander.run-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseDhollander.run"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseDhollander.run-70"><a href="#Dwi2responseDhollander.run-70"><span class="linenos"> 70</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="Dwi2responseDhollander.run-71"><a href="#Dwi2responseDhollander.run-71"><span class="linenos"> 71</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander.run-72"><a href="#Dwi2responseDhollander.run-72"><span class="linenos"> 72</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander.run-73"><a href="#Dwi2responseDhollander.run-73"><span class="linenos"> 73</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Dwi2responseDhollander.run-74"><a href="#Dwi2responseDhollander.run-74"><span class="linenos"> 74</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander.run-75"><a href="#Dwi2responseDhollander.run-75"><span class="linenos"> 75</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="Dwi2responseDhollander.run-76"><a href="#Dwi2responseDhollander.run-76"><span class="linenos"> 76</span></a><span class="sd">        </span>
</span><span id="Dwi2responseDhollander.run-77"><a href="#Dwi2responseDhollander.run-77"><span class="linenos"> 77</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseDhollander.run-78"><a href="#Dwi2responseDhollander.run-78"><span class="linenos"> 78</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseDhollander.run-79"><a href="#Dwi2responseDhollander.run-79"><span class="linenos"> 79</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseDhollander.run-80"><a href="#Dwi2responseDhollander.run-80"><span class="linenos"> 80</span></a><span class="sd">            Command line arguments</span>
</span><span id="Dwi2responseDhollander.run-81"><a href="#Dwi2responseDhollander.run-81"><span class="linenos"> 81</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander.run-82"><a href="#Dwi2responseDhollander.run-82"><span class="linenos"> 82</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Dwi2responseDhollander.run-83"><a href="#Dwi2responseDhollander.run-83"><span class="linenos"> 83</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;dhollander&quot;</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander.run-84"><a href="#Dwi2responseDhollander.run-84"><span class="linenos"> 84</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="Dwi2responseDhollander.run-85"><a href="#Dwi2responseDhollander.run-85"><span class="linenos"> 85</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_sfwm</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander.run-86"><a href="#Dwi2responseDhollander.run-86"><span class="linenos"> 86</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_gm</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander.run-87"><a href="#Dwi2responseDhollander.run-87"><span class="linenos"> 87</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_csf</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander.run-88"><a href="#Dwi2responseDhollander.run-88"><span class="linenos"> 88</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">erode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseDhollander.run-89"><a href="#Dwi2responseDhollander.run-89"><span class="linenos"> 89</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseDhollander.run-90"><a href="#Dwi2responseDhollander.run-90"><span class="linenos"> 90</span></a>                <span class="s2">&quot;-erode&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander.run-91"><a href="#Dwi2responseDhollander.run-91"><span class="linenos"> 91</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">erode</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander.run-92"><a href="#Dwi2responseDhollander.run-92"><span class="linenos"> 92</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseDhollander.run-93"><a href="#Dwi2responseDhollander.run-93"><span class="linenos"> 93</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fa</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseDhollander.run-94"><a href="#Dwi2responseDhollander.run-94"><span class="linenos"> 94</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseDhollander.run-95"><a href="#Dwi2responseDhollander.run-95"><span class="linenos"> 95</span></a>                <span class="s2">&quot;-fa&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander.run-96"><a href="#Dwi2responseDhollander.run-96"><span class="linenos"> 96</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fa</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander.run-97"><a href="#Dwi2responseDhollander.run-97"><span class="linenos"> 97</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseDhollander.run-98"><a href="#Dwi2responseDhollander.run-98"><span class="linenos"> 98</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sfwm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseDhollander.run-99"><a href="#Dwi2responseDhollander.run-99"><span class="linenos"> 99</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseDhollander.run-100"><a href="#Dwi2responseDhollander.run-100"><span class="linenos">100</span></a>                <span class="s2">&quot;-sfwm&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander.run-101"><a href="#Dwi2responseDhollander.run-101"><span class="linenos">101</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sfwm</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander.run-102"><a href="#Dwi2responseDhollander.run-102"><span class="linenos">102</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseDhollander.run-103"><a href="#Dwi2responseDhollander.run-103"><span class="linenos">103</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">gm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseDhollander.run-104"><a href="#Dwi2responseDhollander.run-104"><span class="linenos">104</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseDhollander.run-105"><a href="#Dwi2responseDhollander.run-105"><span class="linenos">105</span></a>                <span class="s2">&quot;-gm&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander.run-106"><a href="#Dwi2responseDhollander.run-106"><span class="linenos">106</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gm</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander.run-107"><a href="#Dwi2responseDhollander.run-107"><span class="linenos">107</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseDhollander.run-108"><a href="#Dwi2responseDhollander.run-108"><span class="linenos">108</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">csf</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseDhollander.run-109"><a href="#Dwi2responseDhollander.run-109"><span class="linenos">109</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseDhollander.run-110"><a href="#Dwi2responseDhollander.run-110"><span class="linenos">110</span></a>                <span class="s2">&quot;-csf&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander.run-111"><a href="#Dwi2responseDhollander.run-111"><span class="linenos">111</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">csf</span><span class="p">)</span>
</span><span id="Dwi2responseDhollander.run-112"><a href="#Dwi2responseDhollander.run-112"><span class="linenos">112</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseDhollander.run-113"><a href="#Dwi2responseDhollander.run-113"><span class="linenos">113</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wm_algo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseDhollander.run-114"><a href="#Dwi2responseDhollander.run-114"><span class="linenos">114</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseDhollander.run-115"><a href="#Dwi2responseDhollander.run-115"><span class="linenos">115</span></a>                <span class="s2">&quot;-wm_algo&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander.run-116"><a href="#Dwi2responseDhollander.run-116"><span class="linenos">116</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">wm_algo</span>
</span><span id="Dwi2responseDhollander.run-117"><a href="#Dwi2responseDhollander.run-117"><span class="linenos">117</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseDhollander.run-118"><a href="#Dwi2responseDhollander.run-118"><span class="linenos">118</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span></pre></div>


            <div class="docstring"><p>Build command line arguments. This method is called by the main command.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>execution:</strong>  The execution object.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Command line arguments</p>
</blockquote>
</div>


                            </div>
                            <div id="Dwi2responseDhollander.outputs" class="classattr">
                                        <input id="Dwi2responseDhollander.outputs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">outputs</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">execution</span><span class="p">:</span> <span class="n">styxdefs</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Execution</span></span><span class="return-annotation">) -> <span class="n"><a href="#Dwi2responseDhollanderOutputs">Dwi2responseDhollanderOutputs</a></span>:</span></span>

                <label class="view-source-button" for="Dwi2responseDhollander.outputs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseDhollander.outputs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseDhollander.outputs-120"><a href="#Dwi2responseDhollander.outputs-120"><span class="linenos">120</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="Dwi2responseDhollander.outputs-121"><a href="#Dwi2responseDhollander.outputs-121"><span class="linenos">121</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander.outputs-122"><a href="#Dwi2responseDhollander.outputs-122"><span class="linenos">122</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseDhollander.outputs-123"><a href="#Dwi2responseDhollander.outputs-123"><span class="linenos">123</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseDhollanderOutputs</span><span class="p">:</span>
</span><span id="Dwi2responseDhollander.outputs-124"><a href="#Dwi2responseDhollander.outputs-124"><span class="linenos">124</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander.outputs-125"><a href="#Dwi2responseDhollander.outputs-125"><span class="linenos">125</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="Dwi2responseDhollander.outputs-126"><a href="#Dwi2responseDhollander.outputs-126"><span class="linenos">126</span></a><span class="sd">        </span>
</span><span id="Dwi2responseDhollander.outputs-127"><a href="#Dwi2responseDhollander.outputs-127"><span class="linenos">127</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseDhollander.outputs-128"><a href="#Dwi2responseDhollander.outputs-128"><span class="linenos">128</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseDhollander.outputs-129"><a href="#Dwi2responseDhollander.outputs-129"><span class="linenos">129</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseDhollander.outputs-130"><a href="#Dwi2responseDhollander.outputs-130"><span class="linenos">130</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseDhollanderOutputs`).</span>
</span><span id="Dwi2responseDhollander.outputs-131"><a href="#Dwi2responseDhollander.outputs-131"><span class="linenos">131</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollander.outputs-132"><a href="#Dwi2responseDhollander.outputs-132"><span class="linenos">132</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseDhollanderOutputs</span><span class="p">(</span>
</span><span id="Dwi2responseDhollander.outputs-133"><a href="#Dwi2responseDhollander.outputs-133"><span class="linenos">133</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="Dwi2responseDhollander.outputs-134"><a href="#Dwi2responseDhollander.outputs-134"><span class="linenos">134</span></a>            <span class="n">out_sfwm</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_sfwm</span><span class="p">),</span>
</span><span id="Dwi2responseDhollander.outputs-135"><a href="#Dwi2responseDhollander.outputs-135"><span class="linenos">135</span></a>            <span class="n">out_gm</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_gm</span><span class="p">),</span>
</span><span id="Dwi2responseDhollander.outputs-136"><a href="#Dwi2responseDhollander.outputs-136"><span class="linenos">136</span></a>            <span class="n">out_csf</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_csf</span><span class="p">),</span>
</span><span id="Dwi2responseDhollander.outputs-137"><a href="#Dwi2responseDhollander.outputs-137"><span class="linenos">137</span></a>        <span class="p">)</span>
</span><span id="Dwi2responseDhollander.outputs-138"><a href="#Dwi2responseDhollander.outputs-138"><span class="linenos">138</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Collect output file paths.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>execution:</strong>  The execution object.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>NamedTuple of outputs (described in <code><a href="#Dwi2responseDhollanderOutputs">Dwi2responseDhollanderOutputs</a></code>).</p>
</blockquote>
</div>


                            </div>
                </section>
                <section id="Dwi2responseDhollanderOutputs">
                            <input id="Dwi2responseDhollanderOutputs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Dwi2responseDhollanderOutputs</span><wbr>(<span class="base">typing.NamedTuple</span>):

                <label class="view-source-button" for="Dwi2responseDhollanderOutputs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseDhollanderOutputs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseDhollanderOutputs-18"><a href="#Dwi2responseDhollanderOutputs-18"><span class="linenos">18</span></a><span class="k">class</span> <span class="nc">Dwi2responseDhollanderOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="Dwi2responseDhollanderOutputs-19"><a href="#Dwi2responseDhollanderOutputs-19"><span class="linenos">19</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollanderOutputs-20"><a href="#Dwi2responseDhollanderOutputs-20"><span class="linenos">20</span></a><span class="sd">    Output object returned when calling `Dwi2responseDhollander(...)`.</span>
</span><span id="Dwi2responseDhollanderOutputs-21"><a href="#Dwi2responseDhollanderOutputs-21"><span class="linenos">21</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollanderOutputs-22"><a href="#Dwi2responseDhollanderOutputs-22"><span class="linenos">22</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="Dwi2responseDhollanderOutputs-23"><a href="#Dwi2responseDhollanderOutputs-23"><span class="linenos">23</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollanderOutputs-24"><a href="#Dwi2responseDhollanderOutputs-24"><span class="linenos">24</span></a>    <span class="n">out_sfwm</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="Dwi2responseDhollanderOutputs-25"><a href="#Dwi2responseDhollanderOutputs-25"><span class="linenos">25</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output single-fibre WM response function text file&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollanderOutputs-26"><a href="#Dwi2responseDhollanderOutputs-26"><span class="linenos">26</span></a>    <span class="n">out_gm</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="Dwi2responseDhollanderOutputs-27"><a href="#Dwi2responseDhollanderOutputs-27"><span class="linenos">27</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output GM response function text file&quot;&quot;&quot;</span>
</span><span id="Dwi2responseDhollanderOutputs-28"><a href="#Dwi2responseDhollanderOutputs-28"><span class="linenos">28</span></a>    <span class="n">out_csf</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="Dwi2responseDhollanderOutputs-29"><a href="#Dwi2responseDhollanderOutputs-29"><span class="linenos">29</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output CSF response function text file&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Output object returned when calling <code>Dwi2responseDhollander(...)</code>.</p>
</div>


                            <div id="Dwi2responseDhollanderOutputs.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">Dwi2responseDhollanderOutputs</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">root</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span>,</span><span class="param">	<span class="n">out_sfwm</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span>,</span><span class="param">	<span class="n">out_gm</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span>,</span><span class="param">	<span class="n">out_csf</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseDhollanderOutputs.__init__"></a>
    
            <div class="docstring"><p>Create new instance of Dwi2responseDhollanderOutputs(root, out_sfwm, out_gm, out_csf)</p>
</div>


                            </div>
                            <div id="Dwi2responseDhollanderOutputs.root" class="classattr">
                                <div class="attr variable">
            <span class="name">root</span><span class="annotation">: pathlib.Path</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseDhollanderOutputs.root"></a>
    
            <div class="docstring"><p>Output root folder. This is the root folder for all outputs.</p>
</div>


                            </div>
                            <div id="Dwi2responseDhollanderOutputs.out_sfwm" class="classattr">
                                <div class="attr variable">
            <span class="name">out_sfwm</span><span class="annotation">: pathlib.Path</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseDhollanderOutputs.out_sfwm"></a>
    
            <div class="docstring"><p>Output single-fibre WM response function text file</p>
</div>


                            </div>
                            <div id="Dwi2responseDhollanderOutputs.out_gm" class="classattr">
                                <div class="attr variable">
            <span class="name">out_gm</span><span class="annotation">: pathlib.Path</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseDhollanderOutputs.out_gm"></a>
    
            <div class="docstring"><p>Output GM response function text file</p>
</div>


                            </div>
                            <div id="Dwi2responseDhollanderOutputs.out_csf" class="classattr">
                                <div class="attr variable">
            <span class="name">out_csf</span><span class="annotation">: pathlib.Path</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseDhollanderOutputs.out_csf"></a>
    
            <div class="docstring"><p>Output CSF response function text file</p>
</div>


                            </div>
                </section>
                <section id="Dwi2responseFa">
                            <input id="Dwi2responseFa-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclasses.dataclass">@dataclasses.dataclass</div>

    <span class="def">class</span>
    <span class="name">Dwi2responseFa</span>:

                <label class="view-source-button" for="Dwi2responseFa-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseFa"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseFa-151"><a href="#Dwi2responseFa-151"><span class="linenos">151</span></a><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
</span><span id="Dwi2responseFa-152"><a href="#Dwi2responseFa-152"><span class="linenos">152</span></a><span class="k">class</span> <span class="nc">Dwi2responseFa</span><span class="p">:</span>
</span><span id="Dwi2responseFa-153"><a href="#Dwi2responseFa-153"><span class="linenos">153</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseFa-154"><a href="#Dwi2responseFa-154"><span class="linenos">154</span></a><span class="sd">    Use the old FA-threshold heuristic for single-fibre voxel selection and</span>
</span><span id="Dwi2responseFa-155"><a href="#Dwi2responseFa-155"><span class="linenos">155</span></a><span class="sd">    response function estimation.</span>
</span><span id="Dwi2responseFa-156"><a href="#Dwi2responseFa-156"><span class="linenos">156</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Dwi2responseFa-157"><a href="#Dwi2responseFa-157"><span class="linenos">157</span></a>    <span class="n">input_</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="Dwi2responseFa-158"><a href="#Dwi2responseFa-158"><span class="linenos">158</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The input DWI&quot;&quot;&quot;</span>
</span><span id="Dwi2responseFa-159"><a href="#Dwi2responseFa-159"><span class="linenos">159</span></a>    <span class="n">output</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="Dwi2responseFa-160"><a href="#Dwi2responseFa-160"><span class="linenos">160</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The output response function text file&quot;&quot;&quot;</span>
</span><span id="Dwi2responseFa-161"><a href="#Dwi2responseFa-161"><span class="linenos">161</span></a>    <span class="n">erode</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseFa-162"><a href="#Dwi2responseFa-162"><span class="linenos">162</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Number of brain mask erosion steps to apply prior to threshold (not used</span>
</span><span id="Dwi2responseFa-163"><a href="#Dwi2responseFa-163"><span class="linenos">163</span></a><span class="sd">    if mask is provided manually)&quot;&quot;&quot;</span>
</span><span id="Dwi2responseFa-164"><a href="#Dwi2responseFa-164"><span class="linenos">164</span></a>    <span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseFa-165"><a href="#Dwi2responseFa-165"><span class="linenos">165</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of highest-FA voxels to use&quot;&quot;&quot;</span>
</span><span id="Dwi2responseFa-166"><a href="#Dwi2responseFa-166"><span class="linenos">166</span></a>    <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseFa-167"><a href="#Dwi2responseFa-167"><span class="linenos">167</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Apply a hard FA threshold, rather than selecting the top voxels&quot;&quot;&quot;</span>
</span><span id="Dwi2responseFa-168"><a href="#Dwi2responseFa-168"><span class="linenos">168</span></a>    
</span><span id="Dwi2responseFa-169"><a href="#Dwi2responseFa-169"><span class="linenos">169</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="Dwi2responseFa-170"><a href="#Dwi2responseFa-170"><span class="linenos">170</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseFa-171"><a href="#Dwi2responseFa-171"><span class="linenos">171</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseFa-172"><a href="#Dwi2responseFa-172"><span class="linenos">172</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Dwi2responseFa-173"><a href="#Dwi2responseFa-173"><span class="linenos">173</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseFa-174"><a href="#Dwi2responseFa-174"><span class="linenos">174</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="Dwi2responseFa-175"><a href="#Dwi2responseFa-175"><span class="linenos">175</span></a><span class="sd">        </span>
</span><span id="Dwi2responseFa-176"><a href="#Dwi2responseFa-176"><span class="linenos">176</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseFa-177"><a href="#Dwi2responseFa-177"><span class="linenos">177</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseFa-178"><a href="#Dwi2responseFa-178"><span class="linenos">178</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseFa-179"><a href="#Dwi2responseFa-179"><span class="linenos">179</span></a><span class="sd">            Command line arguments</span>
</span><span id="Dwi2responseFa-180"><a href="#Dwi2responseFa-180"><span class="linenos">180</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseFa-181"><a href="#Dwi2responseFa-181"><span class="linenos">181</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Dwi2responseFa-182"><a href="#Dwi2responseFa-182"><span class="linenos">182</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;fa&quot;</span><span class="p">)</span>
</span><span id="Dwi2responseFa-183"><a href="#Dwi2responseFa-183"><span class="linenos">183</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="Dwi2responseFa-184"><a href="#Dwi2responseFa-184"><span class="linenos">184</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</span><span id="Dwi2responseFa-185"><a href="#Dwi2responseFa-185"><span class="linenos">185</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">erode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseFa-186"><a href="#Dwi2responseFa-186"><span class="linenos">186</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseFa-187"><a href="#Dwi2responseFa-187"><span class="linenos">187</span></a>                <span class="s2">&quot;-erode&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseFa-188"><a href="#Dwi2responseFa-188"><span class="linenos">188</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">erode</span><span class="p">)</span>
</span><span id="Dwi2responseFa-189"><a href="#Dwi2responseFa-189"><span class="linenos">189</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseFa-190"><a href="#Dwi2responseFa-190"><span class="linenos">190</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseFa-191"><a href="#Dwi2responseFa-191"><span class="linenos">191</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseFa-192"><a href="#Dwi2responseFa-192"><span class="linenos">192</span></a>                <span class="s2">&quot;-number&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseFa-193"><a href="#Dwi2responseFa-193"><span class="linenos">193</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="p">)</span>
</span><span id="Dwi2responseFa-194"><a href="#Dwi2responseFa-194"><span class="linenos">194</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseFa-195"><a href="#Dwi2responseFa-195"><span class="linenos">195</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">threshold</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseFa-196"><a href="#Dwi2responseFa-196"><span class="linenos">196</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseFa-197"><a href="#Dwi2responseFa-197"><span class="linenos">197</span></a>                <span class="s2">&quot;-threshold&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseFa-198"><a href="#Dwi2responseFa-198"><span class="linenos">198</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">threshold</span><span class="p">)</span>
</span><span id="Dwi2responseFa-199"><a href="#Dwi2responseFa-199"><span class="linenos">199</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseFa-200"><a href="#Dwi2responseFa-200"><span class="linenos">200</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span><span id="Dwi2responseFa-201"><a href="#Dwi2responseFa-201"><span class="linenos">201</span></a>    
</span><span id="Dwi2responseFa-202"><a href="#Dwi2responseFa-202"><span class="linenos">202</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="Dwi2responseFa-203"><a href="#Dwi2responseFa-203"><span class="linenos">203</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseFa-204"><a href="#Dwi2responseFa-204"><span class="linenos">204</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseFa-205"><a href="#Dwi2responseFa-205"><span class="linenos">205</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseFaOutputs</span><span class="p">:</span>
</span><span id="Dwi2responseFa-206"><a href="#Dwi2responseFa-206"><span class="linenos">206</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseFa-207"><a href="#Dwi2responseFa-207"><span class="linenos">207</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="Dwi2responseFa-208"><a href="#Dwi2responseFa-208"><span class="linenos">208</span></a><span class="sd">        </span>
</span><span id="Dwi2responseFa-209"><a href="#Dwi2responseFa-209"><span class="linenos">209</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseFa-210"><a href="#Dwi2responseFa-210"><span class="linenos">210</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseFa-211"><a href="#Dwi2responseFa-211"><span class="linenos">211</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseFa-212"><a href="#Dwi2responseFa-212"><span class="linenos">212</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseFaOutputs`).</span>
</span><span id="Dwi2responseFa-213"><a href="#Dwi2responseFa-213"><span class="linenos">213</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseFa-214"><a href="#Dwi2responseFa-214"><span class="linenos">214</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseFaOutputs</span><span class="p">(</span>
</span><span id="Dwi2responseFa-215"><a href="#Dwi2responseFa-215"><span class="linenos">215</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="Dwi2responseFa-216"><a href="#Dwi2responseFa-216"><span class="linenos">216</span></a>            <span class="n">output</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">),</span>
</span><span id="Dwi2responseFa-217"><a href="#Dwi2responseFa-217"><span class="linenos">217</span></a>        <span class="p">)</span>
</span><span id="Dwi2responseFa-218"><a href="#Dwi2responseFa-218"><span class="linenos">218</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Use the old FA-threshold heuristic for single-fibre voxel selection and
response function estimation.</p>
</div>


                            <div id="Dwi2responseFa.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">Dwi2responseFa</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">input_</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">output</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">erode</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseFa.__init__"></a>
    
    

                            </div>
                            <div id="Dwi2responseFa.input_" class="classattr">
                                <div class="attr variable">
            <span class="name">input_</span><span class="annotation">: pathlib.Path | str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseFa.input_"></a>
    
            <div class="docstring"><p>The input DWI</p>
</div>


                            </div>
                            <div id="Dwi2responseFa.output" class="classattr">
                                <div class="attr variable">
            <span class="name">output</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseFa.output"></a>
    
            <div class="docstring"><p>The output response function text file</p>
</div>


                            </div>
                            <div id="Dwi2responseFa.erode" class="classattr">
                                <div class="attr variable">
            <span class="name">erode</span><span class="annotation">: int | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseFa.erode"></a>
    
            <div class="docstring"><p>Number of brain mask erosion steps to apply prior to threshold (not used
if mask is provided manually)</p>
</div>


                            </div>
                            <div id="Dwi2responseFa.number" class="classattr">
                                <div class="attr variable">
            <span class="name">number</span><span class="annotation">: int | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseFa.number"></a>
    
            <div class="docstring"><p>The number of highest-FA voxels to use</p>
</div>


                            </div>
                            <div id="Dwi2responseFa.threshold" class="classattr">
                                <div class="attr variable">
            <span class="name">threshold</span><span class="annotation">: float | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseFa.threshold"></a>
    
            <div class="docstring"><p>Apply a hard FA threshold, rather than selecting the top voxels</p>
</div>


                            </div>
                            <div id="Dwi2responseFa.run" class="classattr">
                                        <input id="Dwi2responseFa.run-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">run</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">execution</span><span class="p">:</span> <span class="n">styxdefs</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Execution</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Dwi2responseFa.run-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseFa.run"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseFa.run-169"><a href="#Dwi2responseFa.run-169"><span class="linenos">169</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="Dwi2responseFa.run-170"><a href="#Dwi2responseFa.run-170"><span class="linenos">170</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseFa.run-171"><a href="#Dwi2responseFa.run-171"><span class="linenos">171</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseFa.run-172"><a href="#Dwi2responseFa.run-172"><span class="linenos">172</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Dwi2responseFa.run-173"><a href="#Dwi2responseFa.run-173"><span class="linenos">173</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseFa.run-174"><a href="#Dwi2responseFa.run-174"><span class="linenos">174</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="Dwi2responseFa.run-175"><a href="#Dwi2responseFa.run-175"><span class="linenos">175</span></a><span class="sd">        </span>
</span><span id="Dwi2responseFa.run-176"><a href="#Dwi2responseFa.run-176"><span class="linenos">176</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseFa.run-177"><a href="#Dwi2responseFa.run-177"><span class="linenos">177</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseFa.run-178"><a href="#Dwi2responseFa.run-178"><span class="linenos">178</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseFa.run-179"><a href="#Dwi2responseFa.run-179"><span class="linenos">179</span></a><span class="sd">            Command line arguments</span>
</span><span id="Dwi2responseFa.run-180"><a href="#Dwi2responseFa.run-180"><span class="linenos">180</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseFa.run-181"><a href="#Dwi2responseFa.run-181"><span class="linenos">181</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Dwi2responseFa.run-182"><a href="#Dwi2responseFa.run-182"><span class="linenos">182</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;fa&quot;</span><span class="p">)</span>
</span><span id="Dwi2responseFa.run-183"><a href="#Dwi2responseFa.run-183"><span class="linenos">183</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="Dwi2responseFa.run-184"><a href="#Dwi2responseFa.run-184"><span class="linenos">184</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</span><span id="Dwi2responseFa.run-185"><a href="#Dwi2responseFa.run-185"><span class="linenos">185</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">erode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseFa.run-186"><a href="#Dwi2responseFa.run-186"><span class="linenos">186</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseFa.run-187"><a href="#Dwi2responseFa.run-187"><span class="linenos">187</span></a>                <span class="s2">&quot;-erode&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseFa.run-188"><a href="#Dwi2responseFa.run-188"><span class="linenos">188</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">erode</span><span class="p">)</span>
</span><span id="Dwi2responseFa.run-189"><a href="#Dwi2responseFa.run-189"><span class="linenos">189</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseFa.run-190"><a href="#Dwi2responseFa.run-190"><span class="linenos">190</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseFa.run-191"><a href="#Dwi2responseFa.run-191"><span class="linenos">191</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseFa.run-192"><a href="#Dwi2responseFa.run-192"><span class="linenos">192</span></a>                <span class="s2">&quot;-number&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseFa.run-193"><a href="#Dwi2responseFa.run-193"><span class="linenos">193</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="p">)</span>
</span><span id="Dwi2responseFa.run-194"><a href="#Dwi2responseFa.run-194"><span class="linenos">194</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseFa.run-195"><a href="#Dwi2responseFa.run-195"><span class="linenos">195</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">threshold</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseFa.run-196"><a href="#Dwi2responseFa.run-196"><span class="linenos">196</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseFa.run-197"><a href="#Dwi2responseFa.run-197"><span class="linenos">197</span></a>                <span class="s2">&quot;-threshold&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseFa.run-198"><a href="#Dwi2responseFa.run-198"><span class="linenos">198</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">threshold</span><span class="p">)</span>
</span><span id="Dwi2responseFa.run-199"><a href="#Dwi2responseFa.run-199"><span class="linenos">199</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseFa.run-200"><a href="#Dwi2responseFa.run-200"><span class="linenos">200</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span></pre></div>


            <div class="docstring"><p>Build command line arguments. This method is called by the main command.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>execution:</strong>  The execution object.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Command line arguments</p>
</blockquote>
</div>


                            </div>
                            <div id="Dwi2responseFa.outputs" class="classattr">
                                        <input id="Dwi2responseFa.outputs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">outputs</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">execution</span><span class="p">:</span> <span class="n">styxdefs</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Execution</span></span><span class="return-annotation">) -> <span class="n"><a href="#Dwi2responseFaOutputs">Dwi2responseFaOutputs</a></span>:</span></span>

                <label class="view-source-button" for="Dwi2responseFa.outputs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseFa.outputs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseFa.outputs-202"><a href="#Dwi2responseFa.outputs-202"><span class="linenos">202</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="Dwi2responseFa.outputs-203"><a href="#Dwi2responseFa.outputs-203"><span class="linenos">203</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseFa.outputs-204"><a href="#Dwi2responseFa.outputs-204"><span class="linenos">204</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseFa.outputs-205"><a href="#Dwi2responseFa.outputs-205"><span class="linenos">205</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseFaOutputs</span><span class="p">:</span>
</span><span id="Dwi2responseFa.outputs-206"><a href="#Dwi2responseFa.outputs-206"><span class="linenos">206</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseFa.outputs-207"><a href="#Dwi2responseFa.outputs-207"><span class="linenos">207</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="Dwi2responseFa.outputs-208"><a href="#Dwi2responseFa.outputs-208"><span class="linenos">208</span></a><span class="sd">        </span>
</span><span id="Dwi2responseFa.outputs-209"><a href="#Dwi2responseFa.outputs-209"><span class="linenos">209</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseFa.outputs-210"><a href="#Dwi2responseFa.outputs-210"><span class="linenos">210</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseFa.outputs-211"><a href="#Dwi2responseFa.outputs-211"><span class="linenos">211</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseFa.outputs-212"><a href="#Dwi2responseFa.outputs-212"><span class="linenos">212</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseFaOutputs`).</span>
</span><span id="Dwi2responseFa.outputs-213"><a href="#Dwi2responseFa.outputs-213"><span class="linenos">213</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseFa.outputs-214"><a href="#Dwi2responseFa.outputs-214"><span class="linenos">214</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseFaOutputs</span><span class="p">(</span>
</span><span id="Dwi2responseFa.outputs-215"><a href="#Dwi2responseFa.outputs-215"><span class="linenos">215</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="Dwi2responseFa.outputs-216"><a href="#Dwi2responseFa.outputs-216"><span class="linenos">216</span></a>            <span class="n">output</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">),</span>
</span><span id="Dwi2responseFa.outputs-217"><a href="#Dwi2responseFa.outputs-217"><span class="linenos">217</span></a>        <span class="p">)</span>
</span><span id="Dwi2responseFa.outputs-218"><a href="#Dwi2responseFa.outputs-218"><span class="linenos">218</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Collect output file paths.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>execution:</strong>  The execution object.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>NamedTuple of outputs (described in <code><a href="#Dwi2responseFaOutputs">Dwi2responseFaOutputs</a></code>).</p>
</blockquote>
</div>


                            </div>
                </section>
                <section id="Dwi2responseFaOutputs">
                            <input id="Dwi2responseFaOutputs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Dwi2responseFaOutputs</span><wbr>(<span class="base">typing.NamedTuple</span>):

                <label class="view-source-button" for="Dwi2responseFaOutputs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseFaOutputs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseFaOutputs-141"><a href="#Dwi2responseFaOutputs-141"><span class="linenos">141</span></a><span class="k">class</span> <span class="nc">Dwi2responseFaOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="Dwi2responseFaOutputs-142"><a href="#Dwi2responseFaOutputs-142"><span class="linenos">142</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseFaOutputs-143"><a href="#Dwi2responseFaOutputs-143"><span class="linenos">143</span></a><span class="sd">    Output object returned when calling `Dwi2responseFa(...)`.</span>
</span><span id="Dwi2responseFaOutputs-144"><a href="#Dwi2responseFaOutputs-144"><span class="linenos">144</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Dwi2responseFaOutputs-145"><a href="#Dwi2responseFaOutputs-145"><span class="linenos">145</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="Dwi2responseFaOutputs-146"><a href="#Dwi2responseFaOutputs-146"><span class="linenos">146</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="Dwi2responseFaOutputs-147"><a href="#Dwi2responseFaOutputs-147"><span class="linenos">147</span></a>    <span class="n">output</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="Dwi2responseFaOutputs-148"><a href="#Dwi2responseFaOutputs-148"><span class="linenos">148</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The output response function text file&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Output object returned when calling <code>Dwi2responseFa(...)</code>.</p>
</div>


                            <div id="Dwi2responseFaOutputs.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">Dwi2responseFaOutputs</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">root</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span>, </span><span class="param"><span class="n">output</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseFaOutputs.__init__"></a>
    
            <div class="docstring"><p>Create new instance of Dwi2responseFaOutputs(root, output)</p>
</div>


                            </div>
                            <div id="Dwi2responseFaOutputs.root" class="classattr">
                                <div class="attr variable">
            <span class="name">root</span><span class="annotation">: pathlib.Path</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseFaOutputs.root"></a>
    
            <div class="docstring"><p>Output root folder. This is the root folder for all outputs.</p>
</div>


                            </div>
                            <div id="Dwi2responseFaOutputs.output" class="classattr">
                                <div class="attr variable">
            <span class="name">output</span><span class="annotation">: pathlib.Path</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseFaOutputs.output"></a>
    
            <div class="docstring"><p>The output response function text file</p>
</div>


                            </div>
                </section>
                <section id="Dwi2responseFslgrad">
                            <input id="Dwi2responseFslgrad-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclasses.dataclass">@dataclasses.dataclass</div>

    <span class="def">class</span>
    <span class="name">Dwi2responseFslgrad</span>:

                <label class="view-source-button" for="Dwi2responseFslgrad-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseFslgrad"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseFslgrad-572"><a href="#Dwi2responseFslgrad-572"><span class="linenos">572</span></a><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
</span><span id="Dwi2responseFslgrad-573"><a href="#Dwi2responseFslgrad-573"><span class="linenos">573</span></a><span class="k">class</span> <span class="nc">Dwi2responseFslgrad</span><span class="p">:</span>
</span><span id="Dwi2responseFslgrad-574"><a href="#Dwi2responseFslgrad-574"><span class="linenos">574</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseFslgrad-575"><a href="#Dwi2responseFslgrad-575"><span class="linenos">575</span></a><span class="sd">    Provide the diffusion gradient table in FSL bvecs/bvals format.</span>
</span><span id="Dwi2responseFslgrad-576"><a href="#Dwi2responseFslgrad-576"><span class="linenos">576</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Dwi2responseFslgrad-577"><a href="#Dwi2responseFslgrad-577"><span class="linenos">577</span></a>    <span class="n">bvecs</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="Dwi2responseFslgrad-578"><a href="#Dwi2responseFslgrad-578"><span class="linenos">578</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Provide the diffusion-weighted gradient scheme used in the acquisition in</span>
</span><span id="Dwi2responseFslgrad-579"><a href="#Dwi2responseFslgrad-579"><span class="linenos">579</span></a><span class="sd">    FSL bvecs/bvals format files. If a diffusion gradient scheme is present in</span>
</span><span id="Dwi2responseFslgrad-580"><a href="#Dwi2responseFslgrad-580"><span class="linenos">580</span></a><span class="sd">    the input image header, the data provided with this option will be instead</span>
</span><span id="Dwi2responseFslgrad-581"><a href="#Dwi2responseFslgrad-581"><span class="linenos">581</span></a><span class="sd">    used.&quot;&quot;&quot;</span>
</span><span id="Dwi2responseFslgrad-582"><a href="#Dwi2responseFslgrad-582"><span class="linenos">582</span></a>    <span class="n">bvals</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="Dwi2responseFslgrad-583"><a href="#Dwi2responseFslgrad-583"><span class="linenos">583</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Provide the diffusion-weighted gradient scheme used in the acquisition in</span>
</span><span id="Dwi2responseFslgrad-584"><a href="#Dwi2responseFslgrad-584"><span class="linenos">584</span></a><span class="sd">    FSL bvecs/bvals format files. If a diffusion gradient scheme is present in</span>
</span><span id="Dwi2responseFslgrad-585"><a href="#Dwi2responseFslgrad-585"><span class="linenos">585</span></a><span class="sd">    the input image header, the data provided with this option will be instead</span>
</span><span id="Dwi2responseFslgrad-586"><a href="#Dwi2responseFslgrad-586"><span class="linenos">586</span></a><span class="sd">    used.&quot;&quot;&quot;</span>
</span><span id="Dwi2responseFslgrad-587"><a href="#Dwi2responseFslgrad-587"><span class="linenos">587</span></a>    
</span><span id="Dwi2responseFslgrad-588"><a href="#Dwi2responseFslgrad-588"><span class="linenos">588</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="Dwi2responseFslgrad-589"><a href="#Dwi2responseFslgrad-589"><span class="linenos">589</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseFslgrad-590"><a href="#Dwi2responseFslgrad-590"><span class="linenos">590</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseFslgrad-591"><a href="#Dwi2responseFslgrad-591"><span class="linenos">591</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Dwi2responseFslgrad-592"><a href="#Dwi2responseFslgrad-592"><span class="linenos">592</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseFslgrad-593"><a href="#Dwi2responseFslgrad-593"><span class="linenos">593</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="Dwi2responseFslgrad-594"><a href="#Dwi2responseFslgrad-594"><span class="linenos">594</span></a><span class="sd">        </span>
</span><span id="Dwi2responseFslgrad-595"><a href="#Dwi2responseFslgrad-595"><span class="linenos">595</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseFslgrad-596"><a href="#Dwi2responseFslgrad-596"><span class="linenos">596</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseFslgrad-597"><a href="#Dwi2responseFslgrad-597"><span class="linenos">597</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseFslgrad-598"><a href="#Dwi2responseFslgrad-598"><span class="linenos">598</span></a><span class="sd">            Command line arguments</span>
</span><span id="Dwi2responseFslgrad-599"><a href="#Dwi2responseFslgrad-599"><span class="linenos">599</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseFslgrad-600"><a href="#Dwi2responseFslgrad-600"><span class="linenos">600</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Dwi2responseFslgrad-601"><a href="#Dwi2responseFslgrad-601"><span class="linenos">601</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-fslgrad&quot;</span><span class="p">)</span>
</span><span id="Dwi2responseFslgrad-602"><a href="#Dwi2responseFslgrad-602"><span class="linenos">602</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bvecs</span><span class="p">))</span>
</span><span id="Dwi2responseFslgrad-603"><a href="#Dwi2responseFslgrad-603"><span class="linenos">603</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bvals</span><span class="p">))</span>
</span><span id="Dwi2responseFslgrad-604"><a href="#Dwi2responseFslgrad-604"><span class="linenos">604</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span></pre></div>


            <div class="docstring"><p>Provide the diffusion gradient table in FSL bvecs/bvals format.</p>
</div>


                            <div id="Dwi2responseFslgrad.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">Dwi2responseFslgrad</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">bvecs</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span>, </span><span class="param"><span class="n">bvals</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseFslgrad.__init__"></a>
    
    

                            </div>
                            <div id="Dwi2responseFslgrad.bvecs" class="classattr">
                                <div class="attr variable">
            <span class="name">bvecs</span><span class="annotation">: pathlib.Path | str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseFslgrad.bvecs"></a>
    
            <div class="docstring"><p>Provide the diffusion-weighted gradient scheme used in the acquisition in
FSL bvecs/bvals format files. If a diffusion gradient scheme is present in
the input image header, the data provided with this option will be instead
used.</p>
</div>


                            </div>
                            <div id="Dwi2responseFslgrad.bvals" class="classattr">
                                <div class="attr variable">
            <span class="name">bvals</span><span class="annotation">: pathlib.Path | str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseFslgrad.bvals"></a>
    
            <div class="docstring"><p>Provide the diffusion-weighted gradient scheme used in the acquisition in
FSL bvecs/bvals format files. If a diffusion gradient scheme is present in
the input image header, the data provided with this option will be instead
used.</p>
</div>


                            </div>
                            <div id="Dwi2responseFslgrad.run" class="classattr">
                                        <input id="Dwi2responseFslgrad.run-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">run</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">execution</span><span class="p">:</span> <span class="n">styxdefs</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Execution</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Dwi2responseFslgrad.run-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseFslgrad.run"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseFslgrad.run-588"><a href="#Dwi2responseFslgrad.run-588"><span class="linenos">588</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="Dwi2responseFslgrad.run-589"><a href="#Dwi2responseFslgrad.run-589"><span class="linenos">589</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseFslgrad.run-590"><a href="#Dwi2responseFslgrad.run-590"><span class="linenos">590</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseFslgrad.run-591"><a href="#Dwi2responseFslgrad.run-591"><span class="linenos">591</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Dwi2responseFslgrad.run-592"><a href="#Dwi2responseFslgrad.run-592"><span class="linenos">592</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseFslgrad.run-593"><a href="#Dwi2responseFslgrad.run-593"><span class="linenos">593</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="Dwi2responseFslgrad.run-594"><a href="#Dwi2responseFslgrad.run-594"><span class="linenos">594</span></a><span class="sd">        </span>
</span><span id="Dwi2responseFslgrad.run-595"><a href="#Dwi2responseFslgrad.run-595"><span class="linenos">595</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseFslgrad.run-596"><a href="#Dwi2responseFslgrad.run-596"><span class="linenos">596</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseFslgrad.run-597"><a href="#Dwi2responseFslgrad.run-597"><span class="linenos">597</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseFslgrad.run-598"><a href="#Dwi2responseFslgrad.run-598"><span class="linenos">598</span></a><span class="sd">            Command line arguments</span>
</span><span id="Dwi2responseFslgrad.run-599"><a href="#Dwi2responseFslgrad.run-599"><span class="linenos">599</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseFslgrad.run-600"><a href="#Dwi2responseFslgrad.run-600"><span class="linenos">600</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Dwi2responseFslgrad.run-601"><a href="#Dwi2responseFslgrad.run-601"><span class="linenos">601</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-fslgrad&quot;</span><span class="p">)</span>
</span><span id="Dwi2responseFslgrad.run-602"><a href="#Dwi2responseFslgrad.run-602"><span class="linenos">602</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bvecs</span><span class="p">))</span>
</span><span id="Dwi2responseFslgrad.run-603"><a href="#Dwi2responseFslgrad.run-603"><span class="linenos">603</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bvals</span><span class="p">))</span>
</span><span id="Dwi2responseFslgrad.run-604"><a href="#Dwi2responseFslgrad.run-604"><span class="linenos">604</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span></pre></div>


            <div class="docstring"><p>Build command line arguments. This method is called by the main command.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>execution:</strong>  The execution object.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Command line arguments</p>
</blockquote>
</div>


                            </div>
                </section>
                <section id="Dwi2responseManual">
                            <input id="Dwi2responseManual-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclasses.dataclass">@dataclasses.dataclass</div>

    <span class="def">class</span>
    <span class="name">Dwi2responseManual</span>:

                <label class="view-source-button" for="Dwi2responseManual-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseManual"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseManual-231"><a href="#Dwi2responseManual-231"><span class="linenos">231</span></a><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
</span><span id="Dwi2responseManual-232"><a href="#Dwi2responseManual-232"><span class="linenos">232</span></a><span class="k">class</span> <span class="nc">Dwi2responseManual</span><span class="p">:</span>
</span><span id="Dwi2responseManual-233"><a href="#Dwi2responseManual-233"><span class="linenos">233</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseManual-234"><a href="#Dwi2responseManual-234"><span class="linenos">234</span></a><span class="sd">    Derive a response function using an input mask image alone (i.e.</span>
</span><span id="Dwi2responseManual-235"><a href="#Dwi2responseManual-235"><span class="linenos">235</span></a><span class="sd">    pre-selected voxels).</span>
</span><span id="Dwi2responseManual-236"><a href="#Dwi2responseManual-236"><span class="linenos">236</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Dwi2responseManual-237"><a href="#Dwi2responseManual-237"><span class="linenos">237</span></a>    <span class="n">input_</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="Dwi2responseManual-238"><a href="#Dwi2responseManual-238"><span class="linenos">238</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The input DWI&quot;&quot;&quot;</span>
</span><span id="Dwi2responseManual-239"><a href="#Dwi2responseManual-239"><span class="linenos">239</span></a>    <span class="n">in_voxels</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="Dwi2responseManual-240"><a href="#Dwi2responseManual-240"><span class="linenos">240</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Input voxel selection mask&quot;&quot;&quot;</span>
</span><span id="Dwi2responseManual-241"><a href="#Dwi2responseManual-241"><span class="linenos">241</span></a>    <span class="n">output</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="Dwi2responseManual-242"><a href="#Dwi2responseManual-242"><span class="linenos">242</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output response function text file&quot;&quot;&quot;</span>
</span><span id="Dwi2responseManual-243"><a href="#Dwi2responseManual-243"><span class="linenos">243</span></a>    <span class="n">dirs</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseManual-244"><a href="#Dwi2responseManual-244"><span class="linenos">244</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Manually provide the fibre direction in each voxel (a tensor fit will be</span>
</span><span id="Dwi2responseManual-245"><a href="#Dwi2responseManual-245"><span class="linenos">245</span></a><span class="sd">    used otherwise)&quot;&quot;&quot;</span>
</span><span id="Dwi2responseManual-246"><a href="#Dwi2responseManual-246"><span class="linenos">246</span></a>    
</span><span id="Dwi2responseManual-247"><a href="#Dwi2responseManual-247"><span class="linenos">247</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="Dwi2responseManual-248"><a href="#Dwi2responseManual-248"><span class="linenos">248</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseManual-249"><a href="#Dwi2responseManual-249"><span class="linenos">249</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseManual-250"><a href="#Dwi2responseManual-250"><span class="linenos">250</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Dwi2responseManual-251"><a href="#Dwi2responseManual-251"><span class="linenos">251</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseManual-252"><a href="#Dwi2responseManual-252"><span class="linenos">252</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="Dwi2responseManual-253"><a href="#Dwi2responseManual-253"><span class="linenos">253</span></a><span class="sd">        </span>
</span><span id="Dwi2responseManual-254"><a href="#Dwi2responseManual-254"><span class="linenos">254</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseManual-255"><a href="#Dwi2responseManual-255"><span class="linenos">255</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseManual-256"><a href="#Dwi2responseManual-256"><span class="linenos">256</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseManual-257"><a href="#Dwi2responseManual-257"><span class="linenos">257</span></a><span class="sd">            Command line arguments</span>
</span><span id="Dwi2responseManual-258"><a href="#Dwi2responseManual-258"><span class="linenos">258</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseManual-259"><a href="#Dwi2responseManual-259"><span class="linenos">259</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Dwi2responseManual-260"><a href="#Dwi2responseManual-260"><span class="linenos">260</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;manual&quot;</span><span class="p">)</span>
</span><span id="Dwi2responseManual-261"><a href="#Dwi2responseManual-261"><span class="linenos">261</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="Dwi2responseManual-262"><a href="#Dwi2responseManual-262"><span class="linenos">262</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">in_voxels</span><span class="p">))</span>
</span><span id="Dwi2responseManual-263"><a href="#Dwi2responseManual-263"><span class="linenos">263</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</span><span id="Dwi2responseManual-264"><a href="#Dwi2responseManual-264"><span class="linenos">264</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dirs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseManual-265"><a href="#Dwi2responseManual-265"><span class="linenos">265</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseManual-266"><a href="#Dwi2responseManual-266"><span class="linenos">266</span></a>                <span class="s2">&quot;-dirs&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseManual-267"><a href="#Dwi2responseManual-267"><span class="linenos">267</span></a>                <span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dirs</span><span class="p">)</span>
</span><span id="Dwi2responseManual-268"><a href="#Dwi2responseManual-268"><span class="linenos">268</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseManual-269"><a href="#Dwi2responseManual-269"><span class="linenos">269</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span><span id="Dwi2responseManual-270"><a href="#Dwi2responseManual-270"><span class="linenos">270</span></a>    
</span><span id="Dwi2responseManual-271"><a href="#Dwi2responseManual-271"><span class="linenos">271</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="Dwi2responseManual-272"><a href="#Dwi2responseManual-272"><span class="linenos">272</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseManual-273"><a href="#Dwi2responseManual-273"><span class="linenos">273</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseManual-274"><a href="#Dwi2responseManual-274"><span class="linenos">274</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseManualOutputs</span><span class="p">:</span>
</span><span id="Dwi2responseManual-275"><a href="#Dwi2responseManual-275"><span class="linenos">275</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseManual-276"><a href="#Dwi2responseManual-276"><span class="linenos">276</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="Dwi2responseManual-277"><a href="#Dwi2responseManual-277"><span class="linenos">277</span></a><span class="sd">        </span>
</span><span id="Dwi2responseManual-278"><a href="#Dwi2responseManual-278"><span class="linenos">278</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseManual-279"><a href="#Dwi2responseManual-279"><span class="linenos">279</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseManual-280"><a href="#Dwi2responseManual-280"><span class="linenos">280</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseManual-281"><a href="#Dwi2responseManual-281"><span class="linenos">281</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseManualOutputs`).</span>
</span><span id="Dwi2responseManual-282"><a href="#Dwi2responseManual-282"><span class="linenos">282</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseManual-283"><a href="#Dwi2responseManual-283"><span class="linenos">283</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseManualOutputs</span><span class="p">(</span>
</span><span id="Dwi2responseManual-284"><a href="#Dwi2responseManual-284"><span class="linenos">284</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="Dwi2responseManual-285"><a href="#Dwi2responseManual-285"><span class="linenos">285</span></a>            <span class="n">output</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">),</span>
</span><span id="Dwi2responseManual-286"><a href="#Dwi2responseManual-286"><span class="linenos">286</span></a>        <span class="p">)</span>
</span><span id="Dwi2responseManual-287"><a href="#Dwi2responseManual-287"><span class="linenos">287</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Derive a response function using an input mask image alone (i.e.
pre-selected voxels).</p>
</div>


                            <div id="Dwi2responseManual.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">Dwi2responseManual</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">input_</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">in_voxels</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">output</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">dirs</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseManual.__init__"></a>
    
    

                            </div>
                            <div id="Dwi2responseManual.input_" class="classattr">
                                <div class="attr variable">
            <span class="name">input_</span><span class="annotation">: pathlib.Path | str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseManual.input_"></a>
    
            <div class="docstring"><p>The input DWI</p>
</div>


                            </div>
                            <div id="Dwi2responseManual.in_voxels" class="classattr">
                                <div class="attr variable">
            <span class="name">in_voxels</span><span class="annotation">: pathlib.Path | str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseManual.in_voxels"></a>
    
            <div class="docstring"><p>Input voxel selection mask</p>
</div>


                            </div>
                            <div id="Dwi2responseManual.output" class="classattr">
                                <div class="attr variable">
            <span class="name">output</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseManual.output"></a>
    
            <div class="docstring"><p>Output response function text file</p>
</div>


                            </div>
                            <div id="Dwi2responseManual.dirs" class="classattr">
                                <div class="attr variable">
            <span class="name">dirs</span><span class="annotation">: pathlib.Path | str | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseManual.dirs"></a>
    
            <div class="docstring"><p>Manually provide the fibre direction in each voxel (a tensor fit will be
used otherwise)</p>
</div>


                            </div>
                            <div id="Dwi2responseManual.run" class="classattr">
                                        <input id="Dwi2responseManual.run-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">run</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">execution</span><span class="p">:</span> <span class="n">styxdefs</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Execution</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Dwi2responseManual.run-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseManual.run"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseManual.run-247"><a href="#Dwi2responseManual.run-247"><span class="linenos">247</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="Dwi2responseManual.run-248"><a href="#Dwi2responseManual.run-248"><span class="linenos">248</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseManual.run-249"><a href="#Dwi2responseManual.run-249"><span class="linenos">249</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseManual.run-250"><a href="#Dwi2responseManual.run-250"><span class="linenos">250</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Dwi2responseManual.run-251"><a href="#Dwi2responseManual.run-251"><span class="linenos">251</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseManual.run-252"><a href="#Dwi2responseManual.run-252"><span class="linenos">252</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="Dwi2responseManual.run-253"><a href="#Dwi2responseManual.run-253"><span class="linenos">253</span></a><span class="sd">        </span>
</span><span id="Dwi2responseManual.run-254"><a href="#Dwi2responseManual.run-254"><span class="linenos">254</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseManual.run-255"><a href="#Dwi2responseManual.run-255"><span class="linenos">255</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseManual.run-256"><a href="#Dwi2responseManual.run-256"><span class="linenos">256</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseManual.run-257"><a href="#Dwi2responseManual.run-257"><span class="linenos">257</span></a><span class="sd">            Command line arguments</span>
</span><span id="Dwi2responseManual.run-258"><a href="#Dwi2responseManual.run-258"><span class="linenos">258</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseManual.run-259"><a href="#Dwi2responseManual.run-259"><span class="linenos">259</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Dwi2responseManual.run-260"><a href="#Dwi2responseManual.run-260"><span class="linenos">260</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;manual&quot;</span><span class="p">)</span>
</span><span id="Dwi2responseManual.run-261"><a href="#Dwi2responseManual.run-261"><span class="linenos">261</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="Dwi2responseManual.run-262"><a href="#Dwi2responseManual.run-262"><span class="linenos">262</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">in_voxels</span><span class="p">))</span>
</span><span id="Dwi2responseManual.run-263"><a href="#Dwi2responseManual.run-263"><span class="linenos">263</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</span><span id="Dwi2responseManual.run-264"><a href="#Dwi2responseManual.run-264"><span class="linenos">264</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dirs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseManual.run-265"><a href="#Dwi2responseManual.run-265"><span class="linenos">265</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseManual.run-266"><a href="#Dwi2responseManual.run-266"><span class="linenos">266</span></a>                <span class="s2">&quot;-dirs&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseManual.run-267"><a href="#Dwi2responseManual.run-267"><span class="linenos">267</span></a>                <span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dirs</span><span class="p">)</span>
</span><span id="Dwi2responseManual.run-268"><a href="#Dwi2responseManual.run-268"><span class="linenos">268</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseManual.run-269"><a href="#Dwi2responseManual.run-269"><span class="linenos">269</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span></pre></div>


            <div class="docstring"><p>Build command line arguments. This method is called by the main command.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>execution:</strong>  The execution object.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Command line arguments</p>
</blockquote>
</div>


                            </div>
                            <div id="Dwi2responseManual.outputs" class="classattr">
                                        <input id="Dwi2responseManual.outputs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">outputs</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">execution</span><span class="p">:</span> <span class="n">styxdefs</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Execution</span></span><span class="return-annotation">) -> <span class="n"><a href="#Dwi2responseManualOutputs">Dwi2responseManualOutputs</a></span>:</span></span>

                <label class="view-source-button" for="Dwi2responseManual.outputs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseManual.outputs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseManual.outputs-271"><a href="#Dwi2responseManual.outputs-271"><span class="linenos">271</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="Dwi2responseManual.outputs-272"><a href="#Dwi2responseManual.outputs-272"><span class="linenos">272</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseManual.outputs-273"><a href="#Dwi2responseManual.outputs-273"><span class="linenos">273</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseManual.outputs-274"><a href="#Dwi2responseManual.outputs-274"><span class="linenos">274</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseManualOutputs</span><span class="p">:</span>
</span><span id="Dwi2responseManual.outputs-275"><a href="#Dwi2responseManual.outputs-275"><span class="linenos">275</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseManual.outputs-276"><a href="#Dwi2responseManual.outputs-276"><span class="linenos">276</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="Dwi2responseManual.outputs-277"><a href="#Dwi2responseManual.outputs-277"><span class="linenos">277</span></a><span class="sd">        </span>
</span><span id="Dwi2responseManual.outputs-278"><a href="#Dwi2responseManual.outputs-278"><span class="linenos">278</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseManual.outputs-279"><a href="#Dwi2responseManual.outputs-279"><span class="linenos">279</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseManual.outputs-280"><a href="#Dwi2responseManual.outputs-280"><span class="linenos">280</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseManual.outputs-281"><a href="#Dwi2responseManual.outputs-281"><span class="linenos">281</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseManualOutputs`).</span>
</span><span id="Dwi2responseManual.outputs-282"><a href="#Dwi2responseManual.outputs-282"><span class="linenos">282</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseManual.outputs-283"><a href="#Dwi2responseManual.outputs-283"><span class="linenos">283</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseManualOutputs</span><span class="p">(</span>
</span><span id="Dwi2responseManual.outputs-284"><a href="#Dwi2responseManual.outputs-284"><span class="linenos">284</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="Dwi2responseManual.outputs-285"><a href="#Dwi2responseManual.outputs-285"><span class="linenos">285</span></a>            <span class="n">output</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">),</span>
</span><span id="Dwi2responseManual.outputs-286"><a href="#Dwi2responseManual.outputs-286"><span class="linenos">286</span></a>        <span class="p">)</span>
</span><span id="Dwi2responseManual.outputs-287"><a href="#Dwi2responseManual.outputs-287"><span class="linenos">287</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Collect output file paths.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>execution:</strong>  The execution object.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>NamedTuple of outputs (described in <code><a href="#Dwi2responseManualOutputs">Dwi2responseManualOutputs</a></code>).</p>
</blockquote>
</div>


                            </div>
                </section>
                <section id="Dwi2responseManualOutputs">
                            <input id="Dwi2responseManualOutputs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Dwi2responseManualOutputs</span><wbr>(<span class="base">typing.NamedTuple</span>):

                <label class="view-source-button" for="Dwi2responseManualOutputs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseManualOutputs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseManualOutputs-221"><a href="#Dwi2responseManualOutputs-221"><span class="linenos">221</span></a><span class="k">class</span> <span class="nc">Dwi2responseManualOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="Dwi2responseManualOutputs-222"><a href="#Dwi2responseManualOutputs-222"><span class="linenos">222</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseManualOutputs-223"><a href="#Dwi2responseManualOutputs-223"><span class="linenos">223</span></a><span class="sd">    Output object returned when calling `Dwi2responseManual(...)`.</span>
</span><span id="Dwi2responseManualOutputs-224"><a href="#Dwi2responseManualOutputs-224"><span class="linenos">224</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Dwi2responseManualOutputs-225"><a href="#Dwi2responseManualOutputs-225"><span class="linenos">225</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="Dwi2responseManualOutputs-226"><a href="#Dwi2responseManualOutputs-226"><span class="linenos">226</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="Dwi2responseManualOutputs-227"><a href="#Dwi2responseManualOutputs-227"><span class="linenos">227</span></a>    <span class="n">output</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="Dwi2responseManualOutputs-228"><a href="#Dwi2responseManualOutputs-228"><span class="linenos">228</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output response function text file&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Output object returned when calling <code>Dwi2responseManual(...)</code>.</p>
</div>


                            <div id="Dwi2responseManualOutputs.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">Dwi2responseManualOutputs</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">root</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span>, </span><span class="param"><span class="n">output</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseManualOutputs.__init__"></a>
    
            <div class="docstring"><p>Create new instance of Dwi2responseManualOutputs(root, output)</p>
</div>


                            </div>
                            <div id="Dwi2responseManualOutputs.root" class="classattr">
                                <div class="attr variable">
            <span class="name">root</span><span class="annotation">: pathlib.Path</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseManualOutputs.root"></a>
    
            <div class="docstring"><p>Output root folder. This is the root folder for all outputs.</p>
</div>


                            </div>
                            <div id="Dwi2responseManualOutputs.output" class="classattr">
                                <div class="attr variable">
            <span class="name">output</span><span class="annotation">: pathlib.Path</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseManualOutputs.output"></a>
    
            <div class="docstring"><p>Output response function text file</p>
</div>


                            </div>
                </section>
                <section id="Dwi2responseMsmt5tt">
                            <input id="Dwi2responseMsmt5tt-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclasses.dataclass">@dataclasses.dataclass</div>

    <span class="def">class</span>
    <span class="name">Dwi2responseMsmt5tt</span>:

                <label class="view-source-button" for="Dwi2responseMsmt5tt-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5tt"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseMsmt5tt-304"><a href="#Dwi2responseMsmt5tt-304"><span class="linenos">304</span></a><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
</span><span id="Dwi2responseMsmt5tt-305"><a href="#Dwi2responseMsmt5tt-305"><span class="linenos">305</span></a><span class="k">class</span> <span class="nc">Dwi2responseMsmt5tt</span><span class="p">:</span>
</span><span id="Dwi2responseMsmt5tt-306"><a href="#Dwi2responseMsmt5tt-306"><span class="linenos">306</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt-307"><a href="#Dwi2responseMsmt5tt-307"><span class="linenos">307</span></a><span class="sd">    Derive MSMT-CSD tissue response functions based on a co-registered</span>
</span><span id="Dwi2responseMsmt5tt-308"><a href="#Dwi2responseMsmt5tt-308"><span class="linenos">308</span></a><span class="sd">    five-tissue-type (5TT) image.</span>
</span><span id="Dwi2responseMsmt5tt-309"><a href="#Dwi2responseMsmt5tt-309"><span class="linenos">309</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt-310"><a href="#Dwi2responseMsmt5tt-310"><span class="linenos">310</span></a>    <span class="n">input_</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="Dwi2responseMsmt5tt-311"><a href="#Dwi2responseMsmt5tt-311"><span class="linenos">311</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The input DWI&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt-312"><a href="#Dwi2responseMsmt5tt-312"><span class="linenos">312</span></a>    <span class="n">in_5tt</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="Dwi2responseMsmt5tt-313"><a href="#Dwi2responseMsmt5tt-313"><span class="linenos">313</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Input co-registered 5TT image&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt-314"><a href="#Dwi2responseMsmt5tt-314"><span class="linenos">314</span></a>    <span class="n">out_wm</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="Dwi2responseMsmt5tt-315"><a href="#Dwi2responseMsmt5tt-315"><span class="linenos">315</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output WM response text file&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt-316"><a href="#Dwi2responseMsmt5tt-316"><span class="linenos">316</span></a>    <span class="n">out_gm</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="Dwi2responseMsmt5tt-317"><a href="#Dwi2responseMsmt5tt-317"><span class="linenos">317</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output GM response text file&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt-318"><a href="#Dwi2responseMsmt5tt-318"><span class="linenos">318</span></a>    <span class="n">out_csf</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="Dwi2responseMsmt5tt-319"><a href="#Dwi2responseMsmt5tt-319"><span class="linenos">319</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output CSF response text file&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt-320"><a href="#Dwi2responseMsmt5tt-320"><span class="linenos">320</span></a>    <span class="n">dirs</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseMsmt5tt-321"><a href="#Dwi2responseMsmt5tt-321"><span class="linenos">321</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Manually provide the fibre direction in each voxel (a tensor fit will be</span>
</span><span id="Dwi2responseMsmt5tt-322"><a href="#Dwi2responseMsmt5tt-322"><span class="linenos">322</span></a><span class="sd">    used otherwise)&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt-323"><a href="#Dwi2responseMsmt5tt-323"><span class="linenos">323</span></a>    <span class="n">fa</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseMsmt5tt-324"><a href="#Dwi2responseMsmt5tt-324"><span class="linenos">324</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Upper fractional anisotropy threshold for GM and CSF voxel selection</span>
</span><span id="Dwi2responseMsmt5tt-325"><a href="#Dwi2responseMsmt5tt-325"><span class="linenos">325</span></a><span class="sd">    (default: 0.2)&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt-326"><a href="#Dwi2responseMsmt5tt-326"><span class="linenos">326</span></a>    <span class="n">pvf</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseMsmt5tt-327"><a href="#Dwi2responseMsmt5tt-327"><span class="linenos">327</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Partial volume fraction threshold for tissue voxel selection (default:</span>
</span><span id="Dwi2responseMsmt5tt-328"><a href="#Dwi2responseMsmt5tt-328"><span class="linenos">328</span></a><span class="sd">    0.95)&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt-329"><a href="#Dwi2responseMsmt5tt-329"><span class="linenos">329</span></a>    <span class="n">wm_algo</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;fa&quot;</span><span class="p">,</span> <span class="s2">&quot;tax&quot;</span><span class="p">,</span> <span class="s2">&quot;tournier&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseMsmt5tt-330"><a href="#Dwi2responseMsmt5tt-330"><span class="linenos">330</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;algorithm dwi2response algorithm to use for WM single-fibre voxel</span>
</span><span id="Dwi2responseMsmt5tt-331"><a href="#Dwi2responseMsmt5tt-331"><span class="linenos">331</span></a><span class="sd">    selection (options: fa, tax, tournier; default: tournier)&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt-332"><a href="#Dwi2responseMsmt5tt-332"><span class="linenos">332</span></a>    <span class="n">sfwm_fa_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseMsmt5tt-333"><a href="#Dwi2responseMsmt5tt-333"><span class="linenos">333</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets -wm_algo to fa and allows to specify a hard FA threshold for</span>
</span><span id="Dwi2responseMsmt5tt-334"><a href="#Dwi2responseMsmt5tt-334"><span class="linenos">334</span></a><span class="sd">    single-fibre WM voxels, which is passed to the -threshold option of the fa</span>
</span><span id="Dwi2responseMsmt5tt-335"><a href="#Dwi2responseMsmt5tt-335"><span class="linenos">335</span></a><span class="sd">    algorithm (warning: overrides -wm_algo option)&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt-336"><a href="#Dwi2responseMsmt5tt-336"><span class="linenos">336</span></a>    
</span><span id="Dwi2responseMsmt5tt-337"><a href="#Dwi2responseMsmt5tt-337"><span class="linenos">337</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="Dwi2responseMsmt5tt-338"><a href="#Dwi2responseMsmt5tt-338"><span class="linenos">338</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt-339"><a href="#Dwi2responseMsmt5tt-339"><span class="linenos">339</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt-340"><a href="#Dwi2responseMsmt5tt-340"><span class="linenos">340</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Dwi2responseMsmt5tt-341"><a href="#Dwi2responseMsmt5tt-341"><span class="linenos">341</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt-342"><a href="#Dwi2responseMsmt5tt-342"><span class="linenos">342</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="Dwi2responseMsmt5tt-343"><a href="#Dwi2responseMsmt5tt-343"><span class="linenos">343</span></a><span class="sd">        </span>
</span><span id="Dwi2responseMsmt5tt-344"><a href="#Dwi2responseMsmt5tt-344"><span class="linenos">344</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseMsmt5tt-345"><a href="#Dwi2responseMsmt5tt-345"><span class="linenos">345</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseMsmt5tt-346"><a href="#Dwi2responseMsmt5tt-346"><span class="linenos">346</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseMsmt5tt-347"><a href="#Dwi2responseMsmt5tt-347"><span class="linenos">347</span></a><span class="sd">            Command line arguments</span>
</span><span id="Dwi2responseMsmt5tt-348"><a href="#Dwi2responseMsmt5tt-348"><span class="linenos">348</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt-349"><a href="#Dwi2responseMsmt5tt-349"><span class="linenos">349</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Dwi2responseMsmt5tt-350"><a href="#Dwi2responseMsmt5tt-350"><span class="linenos">350</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;msmt_5tt&quot;</span><span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt-351"><a href="#Dwi2responseMsmt5tt-351"><span class="linenos">351</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="Dwi2responseMsmt5tt-352"><a href="#Dwi2responseMsmt5tt-352"><span class="linenos">352</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">in_5tt</span><span class="p">))</span>
</span><span id="Dwi2responseMsmt5tt-353"><a href="#Dwi2responseMsmt5tt-353"><span class="linenos">353</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_wm</span><span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt-354"><a href="#Dwi2responseMsmt5tt-354"><span class="linenos">354</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_gm</span><span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt-355"><a href="#Dwi2responseMsmt5tt-355"><span class="linenos">355</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_csf</span><span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt-356"><a href="#Dwi2responseMsmt5tt-356"><span class="linenos">356</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dirs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseMsmt5tt-357"><a href="#Dwi2responseMsmt5tt-357"><span class="linenos">357</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseMsmt5tt-358"><a href="#Dwi2responseMsmt5tt-358"><span class="linenos">358</span></a>                <span class="s2">&quot;-dirs&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt-359"><a href="#Dwi2responseMsmt5tt-359"><span class="linenos">359</span></a>                <span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dirs</span><span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt-360"><a href="#Dwi2responseMsmt5tt-360"><span class="linenos">360</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseMsmt5tt-361"><a href="#Dwi2responseMsmt5tt-361"><span class="linenos">361</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fa</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseMsmt5tt-362"><a href="#Dwi2responseMsmt5tt-362"><span class="linenos">362</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseMsmt5tt-363"><a href="#Dwi2responseMsmt5tt-363"><span class="linenos">363</span></a>                <span class="s2">&quot;-fa&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt-364"><a href="#Dwi2responseMsmt5tt-364"><span class="linenos">364</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fa</span><span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt-365"><a href="#Dwi2responseMsmt5tt-365"><span class="linenos">365</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseMsmt5tt-366"><a href="#Dwi2responseMsmt5tt-366"><span class="linenos">366</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pvf</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseMsmt5tt-367"><a href="#Dwi2responseMsmt5tt-367"><span class="linenos">367</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseMsmt5tt-368"><a href="#Dwi2responseMsmt5tt-368"><span class="linenos">368</span></a>                <span class="s2">&quot;-pvf&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt-369"><a href="#Dwi2responseMsmt5tt-369"><span class="linenos">369</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pvf</span><span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt-370"><a href="#Dwi2responseMsmt5tt-370"><span class="linenos">370</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseMsmt5tt-371"><a href="#Dwi2responseMsmt5tt-371"><span class="linenos">371</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wm_algo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseMsmt5tt-372"><a href="#Dwi2responseMsmt5tt-372"><span class="linenos">372</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseMsmt5tt-373"><a href="#Dwi2responseMsmt5tt-373"><span class="linenos">373</span></a>                <span class="s2">&quot;-wm_algo&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt-374"><a href="#Dwi2responseMsmt5tt-374"><span class="linenos">374</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">wm_algo</span>
</span><span id="Dwi2responseMsmt5tt-375"><a href="#Dwi2responseMsmt5tt-375"><span class="linenos">375</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseMsmt5tt-376"><a href="#Dwi2responseMsmt5tt-376"><span class="linenos">376</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sfwm_fa_threshold</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseMsmt5tt-377"><a href="#Dwi2responseMsmt5tt-377"><span class="linenos">377</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseMsmt5tt-378"><a href="#Dwi2responseMsmt5tt-378"><span class="linenos">378</span></a>                <span class="s2">&quot;-sfwm_fa_threshold&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt-379"><a href="#Dwi2responseMsmt5tt-379"><span class="linenos">379</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sfwm_fa_threshold</span><span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt-380"><a href="#Dwi2responseMsmt5tt-380"><span class="linenos">380</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseMsmt5tt-381"><a href="#Dwi2responseMsmt5tt-381"><span class="linenos">381</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span><span id="Dwi2responseMsmt5tt-382"><a href="#Dwi2responseMsmt5tt-382"><span class="linenos">382</span></a>    
</span><span id="Dwi2responseMsmt5tt-383"><a href="#Dwi2responseMsmt5tt-383"><span class="linenos">383</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="Dwi2responseMsmt5tt-384"><a href="#Dwi2responseMsmt5tt-384"><span class="linenos">384</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt-385"><a href="#Dwi2responseMsmt5tt-385"><span class="linenos">385</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt-386"><a href="#Dwi2responseMsmt5tt-386"><span class="linenos">386</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseMsmt5ttOutputs</span><span class="p">:</span>
</span><span id="Dwi2responseMsmt5tt-387"><a href="#Dwi2responseMsmt5tt-387"><span class="linenos">387</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt-388"><a href="#Dwi2responseMsmt5tt-388"><span class="linenos">388</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="Dwi2responseMsmt5tt-389"><a href="#Dwi2responseMsmt5tt-389"><span class="linenos">389</span></a><span class="sd">        </span>
</span><span id="Dwi2responseMsmt5tt-390"><a href="#Dwi2responseMsmt5tt-390"><span class="linenos">390</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseMsmt5tt-391"><a href="#Dwi2responseMsmt5tt-391"><span class="linenos">391</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseMsmt5tt-392"><a href="#Dwi2responseMsmt5tt-392"><span class="linenos">392</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseMsmt5tt-393"><a href="#Dwi2responseMsmt5tt-393"><span class="linenos">393</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseMsmt5ttOutputs`).</span>
</span><span id="Dwi2responseMsmt5tt-394"><a href="#Dwi2responseMsmt5tt-394"><span class="linenos">394</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt-395"><a href="#Dwi2responseMsmt5tt-395"><span class="linenos">395</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseMsmt5ttOutputs</span><span class="p">(</span>
</span><span id="Dwi2responseMsmt5tt-396"><a href="#Dwi2responseMsmt5tt-396"><span class="linenos">396</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="Dwi2responseMsmt5tt-397"><a href="#Dwi2responseMsmt5tt-397"><span class="linenos">397</span></a>            <span class="n">out_wm</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_wm</span><span class="p">),</span>
</span><span id="Dwi2responseMsmt5tt-398"><a href="#Dwi2responseMsmt5tt-398"><span class="linenos">398</span></a>            <span class="n">out_gm</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_gm</span><span class="p">),</span>
</span><span id="Dwi2responseMsmt5tt-399"><a href="#Dwi2responseMsmt5tt-399"><span class="linenos">399</span></a>            <span class="n">out_csf</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_csf</span><span class="p">),</span>
</span><span id="Dwi2responseMsmt5tt-400"><a href="#Dwi2responseMsmt5tt-400"><span class="linenos">400</span></a>        <span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt-401"><a href="#Dwi2responseMsmt5tt-401"><span class="linenos">401</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Derive MSMT-CSD tissue response functions based on a co-registered
five-tissue-type (5TT) image.</p>
</div>


                            <div id="Dwi2responseMsmt5tt.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">Dwi2responseMsmt5tt</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">input_</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">in_5tt</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">out_wm</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">out_gm</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">out_csf</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">dirs</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">fa</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">pvf</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">wm_algo</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;fa&#39;</span><span class="p">,</span> <span class="s1">&#39;tax&#39;</span><span class="p">,</span> <span class="s1">&#39;tournier&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">sfwm_fa_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5tt.__init__"></a>
    
    

                            </div>
                            <div id="Dwi2responseMsmt5tt.input_" class="classattr">
                                <div class="attr variable">
            <span class="name">input_</span><span class="annotation">: pathlib.Path | str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5tt.input_"></a>
    
            <div class="docstring"><p>The input DWI</p>
</div>


                            </div>
                            <div id="Dwi2responseMsmt5tt.in_5tt" class="classattr">
                                <div class="attr variable">
            <span class="name">in_5tt</span><span class="annotation">: pathlib.Path | str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5tt.in_5tt"></a>
    
            <div class="docstring"><p>Input co-registered 5TT image</p>
</div>


                            </div>
                            <div id="Dwi2responseMsmt5tt.out_wm" class="classattr">
                                <div class="attr variable">
            <span class="name">out_wm</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5tt.out_wm"></a>
    
            <div class="docstring"><p>Output WM response text file</p>
</div>


                            </div>
                            <div id="Dwi2responseMsmt5tt.out_gm" class="classattr">
                                <div class="attr variable">
            <span class="name">out_gm</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5tt.out_gm"></a>
    
            <div class="docstring"><p>Output GM response text file</p>
</div>


                            </div>
                            <div id="Dwi2responseMsmt5tt.out_csf" class="classattr">
                                <div class="attr variable">
            <span class="name">out_csf</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5tt.out_csf"></a>
    
            <div class="docstring"><p>Output CSF response text file</p>
</div>


                            </div>
                            <div id="Dwi2responseMsmt5tt.dirs" class="classattr">
                                <div class="attr variable">
            <span class="name">dirs</span><span class="annotation">: pathlib.Path | str | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5tt.dirs"></a>
    
            <div class="docstring"><p>Manually provide the fibre direction in each voxel (a tensor fit will be
used otherwise)</p>
</div>


                            </div>
                            <div id="Dwi2responseMsmt5tt.fa" class="classattr">
                                <div class="attr variable">
            <span class="name">fa</span><span class="annotation">: float | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5tt.fa"></a>
    
            <div class="docstring"><p>Upper fractional anisotropy threshold for GM and CSF voxel selection
(default: 0.2)</p>
</div>


                            </div>
                            <div id="Dwi2responseMsmt5tt.pvf" class="classattr">
                                <div class="attr variable">
            <span class="name">pvf</span><span class="annotation">: float | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5tt.pvf"></a>
    
            <div class="docstring"><p>Partial volume fraction threshold for tissue voxel selection (default:
0.95)</p>
</div>


                            </div>
                            <div id="Dwi2responseMsmt5tt.wm_algo" class="classattr">
                                <div class="attr variable">
            <span class="name">wm_algo</span><span class="annotation">: Optional[Literal[&#39;fa&#39;, &#39;tax&#39;, &#39;tournier&#39;]]</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5tt.wm_algo"></a>
    
            <div class="docstring"><p>algorithm dwi2response algorithm to use for WM single-fibre voxel
selection (options: fa, tax, tournier; default: tournier)</p>
</div>


                            </div>
                            <div id="Dwi2responseMsmt5tt.sfwm_fa_threshold" class="classattr">
                                <div class="attr variable">
            <span class="name">sfwm_fa_threshold</span><span class="annotation">: float | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5tt.sfwm_fa_threshold"></a>
    
            <div class="docstring"><p>Sets -wm_algo to fa and allows to specify a hard FA threshold for
single-fibre WM voxels, which is passed to the -threshold option of the fa
algorithm (warning: overrides -wm_algo option)</p>
</div>


                            </div>
                            <div id="Dwi2responseMsmt5tt.run" class="classattr">
                                        <input id="Dwi2responseMsmt5tt.run-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">run</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">execution</span><span class="p">:</span> <span class="n">styxdefs</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Execution</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Dwi2responseMsmt5tt.run-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5tt.run"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseMsmt5tt.run-337"><a href="#Dwi2responseMsmt5tt.run-337"><span class="linenos">337</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="Dwi2responseMsmt5tt.run-338"><a href="#Dwi2responseMsmt5tt.run-338"><span class="linenos">338</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt.run-339"><a href="#Dwi2responseMsmt5tt.run-339"><span class="linenos">339</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt.run-340"><a href="#Dwi2responseMsmt5tt.run-340"><span class="linenos">340</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Dwi2responseMsmt5tt.run-341"><a href="#Dwi2responseMsmt5tt.run-341"><span class="linenos">341</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt.run-342"><a href="#Dwi2responseMsmt5tt.run-342"><span class="linenos">342</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="Dwi2responseMsmt5tt.run-343"><a href="#Dwi2responseMsmt5tt.run-343"><span class="linenos">343</span></a><span class="sd">        </span>
</span><span id="Dwi2responseMsmt5tt.run-344"><a href="#Dwi2responseMsmt5tt.run-344"><span class="linenos">344</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseMsmt5tt.run-345"><a href="#Dwi2responseMsmt5tt.run-345"><span class="linenos">345</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseMsmt5tt.run-346"><a href="#Dwi2responseMsmt5tt.run-346"><span class="linenos">346</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseMsmt5tt.run-347"><a href="#Dwi2responseMsmt5tt.run-347"><span class="linenos">347</span></a><span class="sd">            Command line arguments</span>
</span><span id="Dwi2responseMsmt5tt.run-348"><a href="#Dwi2responseMsmt5tt.run-348"><span class="linenos">348</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt.run-349"><a href="#Dwi2responseMsmt5tt.run-349"><span class="linenos">349</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Dwi2responseMsmt5tt.run-350"><a href="#Dwi2responseMsmt5tt.run-350"><span class="linenos">350</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;msmt_5tt&quot;</span><span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt.run-351"><a href="#Dwi2responseMsmt5tt.run-351"><span class="linenos">351</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="Dwi2responseMsmt5tt.run-352"><a href="#Dwi2responseMsmt5tt.run-352"><span class="linenos">352</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">in_5tt</span><span class="p">))</span>
</span><span id="Dwi2responseMsmt5tt.run-353"><a href="#Dwi2responseMsmt5tt.run-353"><span class="linenos">353</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_wm</span><span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt.run-354"><a href="#Dwi2responseMsmt5tt.run-354"><span class="linenos">354</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_gm</span><span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt.run-355"><a href="#Dwi2responseMsmt5tt.run-355"><span class="linenos">355</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_csf</span><span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt.run-356"><a href="#Dwi2responseMsmt5tt.run-356"><span class="linenos">356</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dirs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseMsmt5tt.run-357"><a href="#Dwi2responseMsmt5tt.run-357"><span class="linenos">357</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseMsmt5tt.run-358"><a href="#Dwi2responseMsmt5tt.run-358"><span class="linenos">358</span></a>                <span class="s2">&quot;-dirs&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt.run-359"><a href="#Dwi2responseMsmt5tt.run-359"><span class="linenos">359</span></a>                <span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dirs</span><span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt.run-360"><a href="#Dwi2responseMsmt5tt.run-360"><span class="linenos">360</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseMsmt5tt.run-361"><a href="#Dwi2responseMsmt5tt.run-361"><span class="linenos">361</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fa</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseMsmt5tt.run-362"><a href="#Dwi2responseMsmt5tt.run-362"><span class="linenos">362</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseMsmt5tt.run-363"><a href="#Dwi2responseMsmt5tt.run-363"><span class="linenos">363</span></a>                <span class="s2">&quot;-fa&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt.run-364"><a href="#Dwi2responseMsmt5tt.run-364"><span class="linenos">364</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fa</span><span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt.run-365"><a href="#Dwi2responseMsmt5tt.run-365"><span class="linenos">365</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseMsmt5tt.run-366"><a href="#Dwi2responseMsmt5tt.run-366"><span class="linenos">366</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pvf</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseMsmt5tt.run-367"><a href="#Dwi2responseMsmt5tt.run-367"><span class="linenos">367</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseMsmt5tt.run-368"><a href="#Dwi2responseMsmt5tt.run-368"><span class="linenos">368</span></a>                <span class="s2">&quot;-pvf&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt.run-369"><a href="#Dwi2responseMsmt5tt.run-369"><span class="linenos">369</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pvf</span><span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt.run-370"><a href="#Dwi2responseMsmt5tt.run-370"><span class="linenos">370</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseMsmt5tt.run-371"><a href="#Dwi2responseMsmt5tt.run-371"><span class="linenos">371</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wm_algo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseMsmt5tt.run-372"><a href="#Dwi2responseMsmt5tt.run-372"><span class="linenos">372</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseMsmt5tt.run-373"><a href="#Dwi2responseMsmt5tt.run-373"><span class="linenos">373</span></a>                <span class="s2">&quot;-wm_algo&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt.run-374"><a href="#Dwi2responseMsmt5tt.run-374"><span class="linenos">374</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">wm_algo</span>
</span><span id="Dwi2responseMsmt5tt.run-375"><a href="#Dwi2responseMsmt5tt.run-375"><span class="linenos">375</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseMsmt5tt.run-376"><a href="#Dwi2responseMsmt5tt.run-376"><span class="linenos">376</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sfwm_fa_threshold</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseMsmt5tt.run-377"><a href="#Dwi2responseMsmt5tt.run-377"><span class="linenos">377</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseMsmt5tt.run-378"><a href="#Dwi2responseMsmt5tt.run-378"><span class="linenos">378</span></a>                <span class="s2">&quot;-sfwm_fa_threshold&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt.run-379"><a href="#Dwi2responseMsmt5tt.run-379"><span class="linenos">379</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sfwm_fa_threshold</span><span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt.run-380"><a href="#Dwi2responseMsmt5tt.run-380"><span class="linenos">380</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseMsmt5tt.run-381"><a href="#Dwi2responseMsmt5tt.run-381"><span class="linenos">381</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span></pre></div>


            <div class="docstring"><p>Build command line arguments. This method is called by the main command.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>execution:</strong>  The execution object.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Command line arguments</p>
</blockquote>
</div>


                            </div>
                            <div id="Dwi2responseMsmt5tt.outputs" class="classattr">
                                        <input id="Dwi2responseMsmt5tt.outputs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">outputs</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">execution</span><span class="p">:</span> <span class="n">styxdefs</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Execution</span></span><span class="return-annotation">) -> <span class="n"><a href="#Dwi2responseMsmt5ttOutputs">Dwi2responseMsmt5ttOutputs</a></span>:</span></span>

                <label class="view-source-button" for="Dwi2responseMsmt5tt.outputs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5tt.outputs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseMsmt5tt.outputs-383"><a href="#Dwi2responseMsmt5tt.outputs-383"><span class="linenos">383</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="Dwi2responseMsmt5tt.outputs-384"><a href="#Dwi2responseMsmt5tt.outputs-384"><span class="linenos">384</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt.outputs-385"><a href="#Dwi2responseMsmt5tt.outputs-385"><span class="linenos">385</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseMsmt5tt.outputs-386"><a href="#Dwi2responseMsmt5tt.outputs-386"><span class="linenos">386</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseMsmt5ttOutputs</span><span class="p">:</span>
</span><span id="Dwi2responseMsmt5tt.outputs-387"><a href="#Dwi2responseMsmt5tt.outputs-387"><span class="linenos">387</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt.outputs-388"><a href="#Dwi2responseMsmt5tt.outputs-388"><span class="linenos">388</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="Dwi2responseMsmt5tt.outputs-389"><a href="#Dwi2responseMsmt5tt.outputs-389"><span class="linenos">389</span></a><span class="sd">        </span>
</span><span id="Dwi2responseMsmt5tt.outputs-390"><a href="#Dwi2responseMsmt5tt.outputs-390"><span class="linenos">390</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseMsmt5tt.outputs-391"><a href="#Dwi2responseMsmt5tt.outputs-391"><span class="linenos">391</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseMsmt5tt.outputs-392"><a href="#Dwi2responseMsmt5tt.outputs-392"><span class="linenos">392</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseMsmt5tt.outputs-393"><a href="#Dwi2responseMsmt5tt.outputs-393"><span class="linenos">393</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseMsmt5ttOutputs`).</span>
</span><span id="Dwi2responseMsmt5tt.outputs-394"><a href="#Dwi2responseMsmt5tt.outputs-394"><span class="linenos">394</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5tt.outputs-395"><a href="#Dwi2responseMsmt5tt.outputs-395"><span class="linenos">395</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseMsmt5ttOutputs</span><span class="p">(</span>
</span><span id="Dwi2responseMsmt5tt.outputs-396"><a href="#Dwi2responseMsmt5tt.outputs-396"><span class="linenos">396</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="Dwi2responseMsmt5tt.outputs-397"><a href="#Dwi2responseMsmt5tt.outputs-397"><span class="linenos">397</span></a>            <span class="n">out_wm</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_wm</span><span class="p">),</span>
</span><span id="Dwi2responseMsmt5tt.outputs-398"><a href="#Dwi2responseMsmt5tt.outputs-398"><span class="linenos">398</span></a>            <span class="n">out_gm</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_gm</span><span class="p">),</span>
</span><span id="Dwi2responseMsmt5tt.outputs-399"><a href="#Dwi2responseMsmt5tt.outputs-399"><span class="linenos">399</span></a>            <span class="n">out_csf</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_csf</span><span class="p">),</span>
</span><span id="Dwi2responseMsmt5tt.outputs-400"><a href="#Dwi2responseMsmt5tt.outputs-400"><span class="linenos">400</span></a>        <span class="p">)</span>
</span><span id="Dwi2responseMsmt5tt.outputs-401"><a href="#Dwi2responseMsmt5tt.outputs-401"><span class="linenos">401</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Collect output file paths.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>execution:</strong>  The execution object.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>NamedTuple of outputs (described in <code><a href="#Dwi2responseMsmt5ttOutputs">Dwi2responseMsmt5ttOutputs</a></code>).</p>
</blockquote>
</div>


                            </div>
                </section>
                <section id="Dwi2responseMsmt5ttOutputs">
                            <input id="Dwi2responseMsmt5ttOutputs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Dwi2responseMsmt5ttOutputs</span><wbr>(<span class="base">typing.NamedTuple</span>):

                <label class="view-source-button" for="Dwi2responseMsmt5ttOutputs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5ttOutputs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseMsmt5ttOutputs-290"><a href="#Dwi2responseMsmt5ttOutputs-290"><span class="linenos">290</span></a><span class="k">class</span> <span class="nc">Dwi2responseMsmt5ttOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="Dwi2responseMsmt5ttOutputs-291"><a href="#Dwi2responseMsmt5ttOutputs-291"><span class="linenos">291</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5ttOutputs-292"><a href="#Dwi2responseMsmt5ttOutputs-292"><span class="linenos">292</span></a><span class="sd">    Output object returned when calling `Dwi2responseMsmt5tt(...)`.</span>
</span><span id="Dwi2responseMsmt5ttOutputs-293"><a href="#Dwi2responseMsmt5ttOutputs-293"><span class="linenos">293</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5ttOutputs-294"><a href="#Dwi2responseMsmt5ttOutputs-294"><span class="linenos">294</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="Dwi2responseMsmt5ttOutputs-295"><a href="#Dwi2responseMsmt5ttOutputs-295"><span class="linenos">295</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5ttOutputs-296"><a href="#Dwi2responseMsmt5ttOutputs-296"><span class="linenos">296</span></a>    <span class="n">out_wm</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="Dwi2responseMsmt5ttOutputs-297"><a href="#Dwi2responseMsmt5ttOutputs-297"><span class="linenos">297</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output WM response text file&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5ttOutputs-298"><a href="#Dwi2responseMsmt5ttOutputs-298"><span class="linenos">298</span></a>    <span class="n">out_gm</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="Dwi2responseMsmt5ttOutputs-299"><a href="#Dwi2responseMsmt5ttOutputs-299"><span class="linenos">299</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output GM response text file&quot;&quot;&quot;</span>
</span><span id="Dwi2responseMsmt5ttOutputs-300"><a href="#Dwi2responseMsmt5ttOutputs-300"><span class="linenos">300</span></a>    <span class="n">out_csf</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="Dwi2responseMsmt5ttOutputs-301"><a href="#Dwi2responseMsmt5ttOutputs-301"><span class="linenos">301</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output CSF response text file&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Output object returned when calling <code>Dwi2responseMsmt5tt(...)</code>.</p>
</div>


                            <div id="Dwi2responseMsmt5ttOutputs.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">Dwi2responseMsmt5ttOutputs</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">root</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span>,</span><span class="param">	<span class="n">out_wm</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span>,</span><span class="param">	<span class="n">out_gm</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span>,</span><span class="param">	<span class="n">out_csf</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5ttOutputs.__init__"></a>
    
            <div class="docstring"><p>Create new instance of Dwi2responseMsmt5ttOutputs(root, out_wm, out_gm, out_csf)</p>
</div>


                            </div>
                            <div id="Dwi2responseMsmt5ttOutputs.root" class="classattr">
                                <div class="attr variable">
            <span class="name">root</span><span class="annotation">: pathlib.Path</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5ttOutputs.root"></a>
    
            <div class="docstring"><p>Output root folder. This is the root folder for all outputs.</p>
</div>


                            </div>
                            <div id="Dwi2responseMsmt5ttOutputs.out_wm" class="classattr">
                                <div class="attr variable">
            <span class="name">out_wm</span><span class="annotation">: pathlib.Path</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5ttOutputs.out_wm"></a>
    
            <div class="docstring"><p>Output WM response text file</p>
</div>


                            </div>
                            <div id="Dwi2responseMsmt5ttOutputs.out_gm" class="classattr">
                                <div class="attr variable">
            <span class="name">out_gm</span><span class="annotation">: pathlib.Path</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5ttOutputs.out_gm"></a>
    
            <div class="docstring"><p>Output GM response text file</p>
</div>


                            </div>
                            <div id="Dwi2responseMsmt5ttOutputs.out_csf" class="classattr">
                                <div class="attr variable">
            <span class="name">out_csf</span><span class="annotation">: pathlib.Path</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseMsmt5ttOutputs.out_csf"></a>
    
            <div class="docstring"><p>Output CSF response text file</p>
</div>


                            </div>
                </section>
                <section id="Dwi2responseOutputs">
                            <input id="Dwi2responseOutputs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Dwi2responseOutputs</span><wbr>(<span class="base">typing.NamedTuple</span>):

                <label class="view-source-button" for="Dwi2responseOutputs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseOutputs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseOutputs-636"><a href="#Dwi2responseOutputs-636"><span class="linenos">636</span></a><span class="k">class</span> <span class="nc">Dwi2responseOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="Dwi2responseOutputs-637"><a href="#Dwi2responseOutputs-637"><span class="linenos">637</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseOutputs-638"><a href="#Dwi2responseOutputs-638"><span class="linenos">638</span></a><span class="sd">    Output object returned when calling `dwi2response(...)`.</span>
</span><span id="Dwi2responseOutputs-639"><a href="#Dwi2responseOutputs-639"><span class="linenos">639</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Dwi2responseOutputs-640"><a href="#Dwi2responseOutputs-640"><span class="linenos">640</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="Dwi2responseOutputs-641"><a href="#Dwi2responseOutputs-641"><span class="linenos">641</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="Dwi2responseOutputs-642"><a href="#Dwi2responseOutputs-642"><span class="linenos">642</span></a>    <span class="n">algorithm</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">Dwi2responseDhollanderOutputs</span><span class="p">,</span> <span class="n">Dwi2responseFaOutputs</span><span class="p">,</span> <span class="n">Dwi2responseManualOutputs</span><span class="p">,</span> <span class="n">Dwi2responseMsmt5ttOutputs</span><span class="p">,</span> <span class="n">Dwi2responseTaxOutputs</span><span class="p">,</span> <span class="n">Dwi2responseTournierOutputs</span><span class="p">]</span>
</span><span id="Dwi2responseOutputs-643"><a href="#Dwi2responseOutputs-643"><span class="linenos">643</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Outputs from `Dwi2responseDhollander` or `Dwi2responseFa` or</span>
</span><span id="Dwi2responseOutputs-644"><a href="#Dwi2responseOutputs-644"><span class="linenos">644</span></a><span class="sd">    `Dwi2responseManual` or `Dwi2responseMsmt5tt` or `Dwi2responseTax` or</span>
</span><span id="Dwi2responseOutputs-645"><a href="#Dwi2responseOutputs-645"><span class="linenos">645</span></a><span class="sd">    `Dwi2responseTournier`.&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Output object returned when calling <code>dwi2response(...)</code>.</p>
</div>


                            <div id="Dwi2responseOutputs.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">Dwi2responseOutputs</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">root</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span>,</span><span class="param">	<span class="n">algorithm</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#Dwi2responseDhollanderOutputs">Dwi2responseDhollanderOutputs</a></span><span class="p">,</span> <span class="n"><a href="#Dwi2responseFaOutputs">Dwi2responseFaOutputs</a></span><span class="p">,</span> <span class="n"><a href="#Dwi2responseManualOutputs">Dwi2responseManualOutputs</a></span><span class="p">,</span> <span class="n"><a href="#Dwi2responseMsmt5ttOutputs">Dwi2responseMsmt5ttOutputs</a></span><span class="p">,</span> <span class="n"><a href="#Dwi2responseTaxOutputs">Dwi2responseTaxOutputs</a></span><span class="p">,</span> <span class="n"><a href="#Dwi2responseTournierOutputs">Dwi2responseTournierOutputs</a></span><span class="p">]</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseOutputs.__init__"></a>
    
            <div class="docstring"><p>Create new instance of Dwi2responseOutputs(root, algorithm)</p>
</div>


                            </div>
                            <div id="Dwi2responseOutputs.root" class="classattr">
                                <div class="attr variable">
            <span class="name">root</span><span class="annotation">: pathlib.Path</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseOutputs.root"></a>
    
            <div class="docstring"><p>Output root folder. This is the root folder for all outputs.</p>
</div>


                            </div>
                            <div id="Dwi2responseOutputs.algorithm" class="classattr">
                                <div class="attr variable">
            <span class="name">algorithm</span><span class="annotation">: Union[<a href="#Dwi2responseDhollanderOutputs">Dwi2responseDhollanderOutputs</a>, <a href="#Dwi2responseFaOutputs">Dwi2responseFaOutputs</a>, <a href="#Dwi2responseManualOutputs">Dwi2responseManualOutputs</a>, <a href="#Dwi2responseMsmt5ttOutputs">Dwi2responseMsmt5ttOutputs</a>, <a href="#Dwi2responseTaxOutputs">Dwi2responseTaxOutputs</a>, <a href="#Dwi2responseTournierOutputs">Dwi2responseTournierOutputs</a>]</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseOutputs.algorithm"></a>
    
            <div class="docstring"><p>Outputs from <code><a href="#Dwi2responseDhollander">Dwi2responseDhollander</a></code> or <code><a href="#Dwi2responseFa">Dwi2responseFa</a></code> or
<code><a href="#Dwi2responseManual">Dwi2responseManual</a></code> or <code><a href="#Dwi2responseMsmt5tt">Dwi2responseMsmt5tt</a></code> or <code><a href="#Dwi2responseTax">Dwi2responseTax</a></code> or
<code><a href="#Dwi2responseTournier">Dwi2responseTournier</a></code>.</p>
</div>


                            </div>
                </section>
                <section id="Dwi2responseTax">
                            <input id="Dwi2responseTax-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclasses.dataclass">@dataclasses.dataclass</div>

    <span class="def">class</span>
    <span class="name">Dwi2responseTax</span>:

                <label class="view-source-button" for="Dwi2responseTax-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseTax"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseTax-414"><a href="#Dwi2responseTax-414"><span class="linenos">414</span></a><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
</span><span id="Dwi2responseTax-415"><a href="#Dwi2responseTax-415"><span class="linenos">415</span></a><span class="k">class</span> <span class="nc">Dwi2responseTax</span><span class="p">:</span>
</span><span id="Dwi2responseTax-416"><a href="#Dwi2responseTax-416"><span class="linenos">416</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTax-417"><a href="#Dwi2responseTax-417"><span class="linenos">417</span></a><span class="sd">    Use the Tax et al. (2014) recursive calibration algorithm for single-fibre</span>
</span><span id="Dwi2responseTax-418"><a href="#Dwi2responseTax-418"><span class="linenos">418</span></a><span class="sd">    voxel selection and response function estimation.</span>
</span><span id="Dwi2responseTax-419"><a href="#Dwi2responseTax-419"><span class="linenos">419</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Dwi2responseTax-420"><a href="#Dwi2responseTax-420"><span class="linenos">420</span></a>    <span class="n">input_</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="Dwi2responseTax-421"><a href="#Dwi2responseTax-421"><span class="linenos">421</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The input DWI&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTax-422"><a href="#Dwi2responseTax-422"><span class="linenos">422</span></a>    <span class="n">output</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="Dwi2responseTax-423"><a href="#Dwi2responseTax-423"><span class="linenos">423</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The output response function text file&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTax-424"><a href="#Dwi2responseTax-424"><span class="linenos">424</span></a>    <span class="n">peak_ratio</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseTax-425"><a href="#Dwi2responseTax-425"><span class="linenos">425</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Second-to-first-peak amplitude ratio threshold&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTax-426"><a href="#Dwi2responseTax-426"><span class="linenos">426</span></a>    <span class="n">max_iters</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseTax-427"><a href="#Dwi2responseTax-427"><span class="linenos">427</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Maximum number of iterations&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTax-428"><a href="#Dwi2responseTax-428"><span class="linenos">428</span></a>    <span class="n">convergence</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseTax-429"><a href="#Dwi2responseTax-429"><span class="linenos">429</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Percentile change in any RF coefficient required to continue iterating&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTax-430"><a href="#Dwi2responseTax-430"><span class="linenos">430</span></a>    
</span><span id="Dwi2responseTax-431"><a href="#Dwi2responseTax-431"><span class="linenos">431</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="Dwi2responseTax-432"><a href="#Dwi2responseTax-432"><span class="linenos">432</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseTax-433"><a href="#Dwi2responseTax-433"><span class="linenos">433</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseTax-434"><a href="#Dwi2responseTax-434"><span class="linenos">434</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Dwi2responseTax-435"><a href="#Dwi2responseTax-435"><span class="linenos">435</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTax-436"><a href="#Dwi2responseTax-436"><span class="linenos">436</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="Dwi2responseTax-437"><a href="#Dwi2responseTax-437"><span class="linenos">437</span></a><span class="sd">        </span>
</span><span id="Dwi2responseTax-438"><a href="#Dwi2responseTax-438"><span class="linenos">438</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseTax-439"><a href="#Dwi2responseTax-439"><span class="linenos">439</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseTax-440"><a href="#Dwi2responseTax-440"><span class="linenos">440</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseTax-441"><a href="#Dwi2responseTax-441"><span class="linenos">441</span></a><span class="sd">            Command line arguments</span>
</span><span id="Dwi2responseTax-442"><a href="#Dwi2responseTax-442"><span class="linenos">442</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseTax-443"><a href="#Dwi2responseTax-443"><span class="linenos">443</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Dwi2responseTax-444"><a href="#Dwi2responseTax-444"><span class="linenos">444</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;tax&quot;</span><span class="p">)</span>
</span><span id="Dwi2responseTax-445"><a href="#Dwi2responseTax-445"><span class="linenos">445</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="Dwi2responseTax-446"><a href="#Dwi2responseTax-446"><span class="linenos">446</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</span><span id="Dwi2responseTax-447"><a href="#Dwi2responseTax-447"><span class="linenos">447</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">peak_ratio</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseTax-448"><a href="#Dwi2responseTax-448"><span class="linenos">448</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseTax-449"><a href="#Dwi2responseTax-449"><span class="linenos">449</span></a>                <span class="s2">&quot;-peak_ratio&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseTax-450"><a href="#Dwi2responseTax-450"><span class="linenos">450</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peak_ratio</span><span class="p">)</span>
</span><span id="Dwi2responseTax-451"><a href="#Dwi2responseTax-451"><span class="linenos">451</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseTax-452"><a href="#Dwi2responseTax-452"><span class="linenos">452</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_iters</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseTax-453"><a href="#Dwi2responseTax-453"><span class="linenos">453</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseTax-454"><a href="#Dwi2responseTax-454"><span class="linenos">454</span></a>                <span class="s2">&quot;-max_iters&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseTax-455"><a href="#Dwi2responseTax-455"><span class="linenos">455</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_iters</span><span class="p">)</span>
</span><span id="Dwi2responseTax-456"><a href="#Dwi2responseTax-456"><span class="linenos">456</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseTax-457"><a href="#Dwi2responseTax-457"><span class="linenos">457</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">convergence</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseTax-458"><a href="#Dwi2responseTax-458"><span class="linenos">458</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseTax-459"><a href="#Dwi2responseTax-459"><span class="linenos">459</span></a>                <span class="s2">&quot;-convergence&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseTax-460"><a href="#Dwi2responseTax-460"><span class="linenos">460</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">convergence</span><span class="p">)</span>
</span><span id="Dwi2responseTax-461"><a href="#Dwi2responseTax-461"><span class="linenos">461</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseTax-462"><a href="#Dwi2responseTax-462"><span class="linenos">462</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span><span id="Dwi2responseTax-463"><a href="#Dwi2responseTax-463"><span class="linenos">463</span></a>    
</span><span id="Dwi2responseTax-464"><a href="#Dwi2responseTax-464"><span class="linenos">464</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="Dwi2responseTax-465"><a href="#Dwi2responseTax-465"><span class="linenos">465</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseTax-466"><a href="#Dwi2responseTax-466"><span class="linenos">466</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseTax-467"><a href="#Dwi2responseTax-467"><span class="linenos">467</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseTaxOutputs</span><span class="p">:</span>
</span><span id="Dwi2responseTax-468"><a href="#Dwi2responseTax-468"><span class="linenos">468</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTax-469"><a href="#Dwi2responseTax-469"><span class="linenos">469</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="Dwi2responseTax-470"><a href="#Dwi2responseTax-470"><span class="linenos">470</span></a><span class="sd">        </span>
</span><span id="Dwi2responseTax-471"><a href="#Dwi2responseTax-471"><span class="linenos">471</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseTax-472"><a href="#Dwi2responseTax-472"><span class="linenos">472</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseTax-473"><a href="#Dwi2responseTax-473"><span class="linenos">473</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseTax-474"><a href="#Dwi2responseTax-474"><span class="linenos">474</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseTaxOutputs`).</span>
</span><span id="Dwi2responseTax-475"><a href="#Dwi2responseTax-475"><span class="linenos">475</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseTax-476"><a href="#Dwi2responseTax-476"><span class="linenos">476</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseTaxOutputs</span><span class="p">(</span>
</span><span id="Dwi2responseTax-477"><a href="#Dwi2responseTax-477"><span class="linenos">477</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="Dwi2responseTax-478"><a href="#Dwi2responseTax-478"><span class="linenos">478</span></a>            <span class="n">output</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">),</span>
</span><span id="Dwi2responseTax-479"><a href="#Dwi2responseTax-479"><span class="linenos">479</span></a>        <span class="p">)</span>
</span><span id="Dwi2responseTax-480"><a href="#Dwi2responseTax-480"><span class="linenos">480</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Use the Tax et al. (2014) recursive calibration algorithm for single-fibre
voxel selection and response function estimation.</p>
</div>


                            <div id="Dwi2responseTax.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">Dwi2responseTax</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">input_</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">output</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">peak_ratio</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">max_iters</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">convergence</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTax.__init__"></a>
    
    

                            </div>
                            <div id="Dwi2responseTax.input_" class="classattr">
                                <div class="attr variable">
            <span class="name">input_</span><span class="annotation">: pathlib.Path | str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTax.input_"></a>
    
            <div class="docstring"><p>The input DWI</p>
</div>


                            </div>
                            <div id="Dwi2responseTax.output" class="classattr">
                                <div class="attr variable">
            <span class="name">output</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTax.output"></a>
    
            <div class="docstring"><p>The output response function text file</p>
</div>


                            </div>
                            <div id="Dwi2responseTax.peak_ratio" class="classattr">
                                <div class="attr variable">
            <span class="name">peak_ratio</span><span class="annotation">: float | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTax.peak_ratio"></a>
    
            <div class="docstring"><p>Second-to-first-peak amplitude ratio threshold</p>
</div>


                            </div>
                            <div id="Dwi2responseTax.max_iters" class="classattr">
                                <div class="attr variable">
            <span class="name">max_iters</span><span class="annotation">: int | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTax.max_iters"></a>
    
            <div class="docstring"><p>Maximum number of iterations</p>
</div>


                            </div>
                            <div id="Dwi2responseTax.convergence" class="classattr">
                                <div class="attr variable">
            <span class="name">convergence</span><span class="annotation">: float | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTax.convergence"></a>
    
            <div class="docstring"><p>Percentile change in any RF coefficient required to continue iterating</p>
</div>


                            </div>
                            <div id="Dwi2responseTax.run" class="classattr">
                                        <input id="Dwi2responseTax.run-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">run</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">execution</span><span class="p">:</span> <span class="n">styxdefs</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Execution</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Dwi2responseTax.run-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseTax.run"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseTax.run-431"><a href="#Dwi2responseTax.run-431"><span class="linenos">431</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="Dwi2responseTax.run-432"><a href="#Dwi2responseTax.run-432"><span class="linenos">432</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseTax.run-433"><a href="#Dwi2responseTax.run-433"><span class="linenos">433</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseTax.run-434"><a href="#Dwi2responseTax.run-434"><span class="linenos">434</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Dwi2responseTax.run-435"><a href="#Dwi2responseTax.run-435"><span class="linenos">435</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTax.run-436"><a href="#Dwi2responseTax.run-436"><span class="linenos">436</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="Dwi2responseTax.run-437"><a href="#Dwi2responseTax.run-437"><span class="linenos">437</span></a><span class="sd">        </span>
</span><span id="Dwi2responseTax.run-438"><a href="#Dwi2responseTax.run-438"><span class="linenos">438</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseTax.run-439"><a href="#Dwi2responseTax.run-439"><span class="linenos">439</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseTax.run-440"><a href="#Dwi2responseTax.run-440"><span class="linenos">440</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseTax.run-441"><a href="#Dwi2responseTax.run-441"><span class="linenos">441</span></a><span class="sd">            Command line arguments</span>
</span><span id="Dwi2responseTax.run-442"><a href="#Dwi2responseTax.run-442"><span class="linenos">442</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseTax.run-443"><a href="#Dwi2responseTax.run-443"><span class="linenos">443</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Dwi2responseTax.run-444"><a href="#Dwi2responseTax.run-444"><span class="linenos">444</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;tax&quot;</span><span class="p">)</span>
</span><span id="Dwi2responseTax.run-445"><a href="#Dwi2responseTax.run-445"><span class="linenos">445</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="Dwi2responseTax.run-446"><a href="#Dwi2responseTax.run-446"><span class="linenos">446</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</span><span id="Dwi2responseTax.run-447"><a href="#Dwi2responseTax.run-447"><span class="linenos">447</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">peak_ratio</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseTax.run-448"><a href="#Dwi2responseTax.run-448"><span class="linenos">448</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseTax.run-449"><a href="#Dwi2responseTax.run-449"><span class="linenos">449</span></a>                <span class="s2">&quot;-peak_ratio&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseTax.run-450"><a href="#Dwi2responseTax.run-450"><span class="linenos">450</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">peak_ratio</span><span class="p">)</span>
</span><span id="Dwi2responseTax.run-451"><a href="#Dwi2responseTax.run-451"><span class="linenos">451</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseTax.run-452"><a href="#Dwi2responseTax.run-452"><span class="linenos">452</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_iters</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseTax.run-453"><a href="#Dwi2responseTax.run-453"><span class="linenos">453</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseTax.run-454"><a href="#Dwi2responseTax.run-454"><span class="linenos">454</span></a>                <span class="s2">&quot;-max_iters&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseTax.run-455"><a href="#Dwi2responseTax.run-455"><span class="linenos">455</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_iters</span><span class="p">)</span>
</span><span id="Dwi2responseTax.run-456"><a href="#Dwi2responseTax.run-456"><span class="linenos">456</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseTax.run-457"><a href="#Dwi2responseTax.run-457"><span class="linenos">457</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">convergence</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseTax.run-458"><a href="#Dwi2responseTax.run-458"><span class="linenos">458</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseTax.run-459"><a href="#Dwi2responseTax.run-459"><span class="linenos">459</span></a>                <span class="s2">&quot;-convergence&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseTax.run-460"><a href="#Dwi2responseTax.run-460"><span class="linenos">460</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">convergence</span><span class="p">)</span>
</span><span id="Dwi2responseTax.run-461"><a href="#Dwi2responseTax.run-461"><span class="linenos">461</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseTax.run-462"><a href="#Dwi2responseTax.run-462"><span class="linenos">462</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span></pre></div>


            <div class="docstring"><p>Build command line arguments. This method is called by the main command.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>execution:</strong>  The execution object.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Command line arguments</p>
</blockquote>
</div>


                            </div>
                            <div id="Dwi2responseTax.outputs" class="classattr">
                                        <input id="Dwi2responseTax.outputs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">outputs</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">execution</span><span class="p">:</span> <span class="n">styxdefs</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Execution</span></span><span class="return-annotation">) -> <span class="n"><a href="#Dwi2responseTaxOutputs">Dwi2responseTaxOutputs</a></span>:</span></span>

                <label class="view-source-button" for="Dwi2responseTax.outputs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseTax.outputs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseTax.outputs-464"><a href="#Dwi2responseTax.outputs-464"><span class="linenos">464</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="Dwi2responseTax.outputs-465"><a href="#Dwi2responseTax.outputs-465"><span class="linenos">465</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseTax.outputs-466"><a href="#Dwi2responseTax.outputs-466"><span class="linenos">466</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseTax.outputs-467"><a href="#Dwi2responseTax.outputs-467"><span class="linenos">467</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseTaxOutputs</span><span class="p">:</span>
</span><span id="Dwi2responseTax.outputs-468"><a href="#Dwi2responseTax.outputs-468"><span class="linenos">468</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTax.outputs-469"><a href="#Dwi2responseTax.outputs-469"><span class="linenos">469</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="Dwi2responseTax.outputs-470"><a href="#Dwi2responseTax.outputs-470"><span class="linenos">470</span></a><span class="sd">        </span>
</span><span id="Dwi2responseTax.outputs-471"><a href="#Dwi2responseTax.outputs-471"><span class="linenos">471</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseTax.outputs-472"><a href="#Dwi2responseTax.outputs-472"><span class="linenos">472</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseTax.outputs-473"><a href="#Dwi2responseTax.outputs-473"><span class="linenos">473</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseTax.outputs-474"><a href="#Dwi2responseTax.outputs-474"><span class="linenos">474</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseTaxOutputs`).</span>
</span><span id="Dwi2responseTax.outputs-475"><a href="#Dwi2responseTax.outputs-475"><span class="linenos">475</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseTax.outputs-476"><a href="#Dwi2responseTax.outputs-476"><span class="linenos">476</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseTaxOutputs</span><span class="p">(</span>
</span><span id="Dwi2responseTax.outputs-477"><a href="#Dwi2responseTax.outputs-477"><span class="linenos">477</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="Dwi2responseTax.outputs-478"><a href="#Dwi2responseTax.outputs-478"><span class="linenos">478</span></a>            <span class="n">output</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">),</span>
</span><span id="Dwi2responseTax.outputs-479"><a href="#Dwi2responseTax.outputs-479"><span class="linenos">479</span></a>        <span class="p">)</span>
</span><span id="Dwi2responseTax.outputs-480"><a href="#Dwi2responseTax.outputs-480"><span class="linenos">480</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Collect output file paths.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>execution:</strong>  The execution object.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>NamedTuple of outputs (described in <code><a href="#Dwi2responseTaxOutputs">Dwi2responseTaxOutputs</a></code>).</p>
</blockquote>
</div>


                            </div>
                </section>
                <section id="Dwi2responseTaxOutputs">
                            <input id="Dwi2responseTaxOutputs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Dwi2responseTaxOutputs</span><wbr>(<span class="base">typing.NamedTuple</span>):

                <label class="view-source-button" for="Dwi2responseTaxOutputs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseTaxOutputs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseTaxOutputs-404"><a href="#Dwi2responseTaxOutputs-404"><span class="linenos">404</span></a><span class="k">class</span> <span class="nc">Dwi2responseTaxOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="Dwi2responseTaxOutputs-405"><a href="#Dwi2responseTaxOutputs-405"><span class="linenos">405</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTaxOutputs-406"><a href="#Dwi2responseTaxOutputs-406"><span class="linenos">406</span></a><span class="sd">    Output object returned when calling `Dwi2responseTax(...)`.</span>
</span><span id="Dwi2responseTaxOutputs-407"><a href="#Dwi2responseTaxOutputs-407"><span class="linenos">407</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Dwi2responseTaxOutputs-408"><a href="#Dwi2responseTaxOutputs-408"><span class="linenos">408</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="Dwi2responseTaxOutputs-409"><a href="#Dwi2responseTaxOutputs-409"><span class="linenos">409</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTaxOutputs-410"><a href="#Dwi2responseTaxOutputs-410"><span class="linenos">410</span></a>    <span class="n">output</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="Dwi2responseTaxOutputs-411"><a href="#Dwi2responseTaxOutputs-411"><span class="linenos">411</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The output response function text file&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Output object returned when calling <code>Dwi2responseTax(...)</code>.</p>
</div>


                            <div id="Dwi2responseTaxOutputs.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">Dwi2responseTaxOutputs</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">root</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span>, </span><span class="param"><span class="n">output</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTaxOutputs.__init__"></a>
    
            <div class="docstring"><p>Create new instance of Dwi2responseTaxOutputs(root, output)</p>
</div>


                            </div>
                            <div id="Dwi2responseTaxOutputs.root" class="classattr">
                                <div class="attr variable">
            <span class="name">root</span><span class="annotation">: pathlib.Path</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTaxOutputs.root"></a>
    
            <div class="docstring"><p>Output root folder. This is the root folder for all outputs.</p>
</div>


                            </div>
                            <div id="Dwi2responseTaxOutputs.output" class="classattr">
                                <div class="attr variable">
            <span class="name">output</span><span class="annotation">: pathlib.Path</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTaxOutputs.output"></a>
    
            <div class="docstring"><p>The output response function text file</p>
</div>


                            </div>
                </section>
                <section id="Dwi2responseTournier">
                            <input id="Dwi2responseTournier-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclasses.dataclass">@dataclasses.dataclass</div>

    <span class="def">class</span>
    <span class="name">Dwi2responseTournier</span>:

                <label class="view-source-button" for="Dwi2responseTournier-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseTournier"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseTournier-493"><a href="#Dwi2responseTournier-493"><span class="linenos">493</span></a><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
</span><span id="Dwi2responseTournier-494"><a href="#Dwi2responseTournier-494"><span class="linenos">494</span></a><span class="k">class</span> <span class="nc">Dwi2responseTournier</span><span class="p">:</span>
</span><span id="Dwi2responseTournier-495"><a href="#Dwi2responseTournier-495"><span class="linenos">495</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournier-496"><a href="#Dwi2responseTournier-496"><span class="linenos">496</span></a><span class="sd">    Use the Tournier et al. (2013) iterative algorithm for single-fibre voxel</span>
</span><span id="Dwi2responseTournier-497"><a href="#Dwi2responseTournier-497"><span class="linenos">497</span></a><span class="sd">    selection and response function estimation.</span>
</span><span id="Dwi2responseTournier-498"><a href="#Dwi2responseTournier-498"><span class="linenos">498</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournier-499"><a href="#Dwi2responseTournier-499"><span class="linenos">499</span></a>    <span class="n">input_</span><span class="p">:</span> <span class="n">InputPathType</span>
</span><span id="Dwi2responseTournier-500"><a href="#Dwi2responseTournier-500"><span class="linenos">500</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The input DWI&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournier-501"><a href="#Dwi2responseTournier-501"><span class="linenos">501</span></a>    <span class="n">output</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="Dwi2responseTournier-502"><a href="#Dwi2responseTournier-502"><span class="linenos">502</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The output response function text file&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournier-503"><a href="#Dwi2responseTournier-503"><span class="linenos">503</span></a>    <span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseTournier-504"><a href="#Dwi2responseTournier-504"><span class="linenos">504</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Number of single-fibre voxels to use when calculating response</span>
</span><span id="Dwi2responseTournier-505"><a href="#Dwi2responseTournier-505"><span class="linenos">505</span></a><span class="sd">    function&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournier-506"><a href="#Dwi2responseTournier-506"><span class="linenos">506</span></a>    <span class="n">iter_voxels</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseTournier-507"><a href="#Dwi2responseTournier-507"><span class="linenos">507</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Number of single-fibre voxels to select when preparing for the next</span>
</span><span id="Dwi2responseTournier-508"><a href="#Dwi2responseTournier-508"><span class="linenos">508</span></a><span class="sd">    iteration (default = 10 x value given in -number)&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournier-509"><a href="#Dwi2responseTournier-509"><span class="linenos">509</span></a>    <span class="n">dilate</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseTournier-510"><a href="#Dwi2responseTournier-510"><span class="linenos">510</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Number of mask dilation steps to apply when deriving voxel mask to test</span>
</span><span id="Dwi2responseTournier-511"><a href="#Dwi2responseTournier-511"><span class="linenos">511</span></a><span class="sd">    in the next iteration&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournier-512"><a href="#Dwi2responseTournier-512"><span class="linenos">512</span></a>    <span class="n">max_iters</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Dwi2responseTournier-513"><a href="#Dwi2responseTournier-513"><span class="linenos">513</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Maximum number of iterations&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournier-514"><a href="#Dwi2responseTournier-514"><span class="linenos">514</span></a>    
</span><span id="Dwi2responseTournier-515"><a href="#Dwi2responseTournier-515"><span class="linenos">515</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="Dwi2responseTournier-516"><a href="#Dwi2responseTournier-516"><span class="linenos">516</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseTournier-517"><a href="#Dwi2responseTournier-517"><span class="linenos">517</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseTournier-518"><a href="#Dwi2responseTournier-518"><span class="linenos">518</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Dwi2responseTournier-519"><a href="#Dwi2responseTournier-519"><span class="linenos">519</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournier-520"><a href="#Dwi2responseTournier-520"><span class="linenos">520</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="Dwi2responseTournier-521"><a href="#Dwi2responseTournier-521"><span class="linenos">521</span></a><span class="sd">        </span>
</span><span id="Dwi2responseTournier-522"><a href="#Dwi2responseTournier-522"><span class="linenos">522</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseTournier-523"><a href="#Dwi2responseTournier-523"><span class="linenos">523</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseTournier-524"><a href="#Dwi2responseTournier-524"><span class="linenos">524</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseTournier-525"><a href="#Dwi2responseTournier-525"><span class="linenos">525</span></a><span class="sd">            Command line arguments</span>
</span><span id="Dwi2responseTournier-526"><a href="#Dwi2responseTournier-526"><span class="linenos">526</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournier-527"><a href="#Dwi2responseTournier-527"><span class="linenos">527</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Dwi2responseTournier-528"><a href="#Dwi2responseTournier-528"><span class="linenos">528</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;tournier&quot;</span><span class="p">)</span>
</span><span id="Dwi2responseTournier-529"><a href="#Dwi2responseTournier-529"><span class="linenos">529</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="Dwi2responseTournier-530"><a href="#Dwi2responseTournier-530"><span class="linenos">530</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</span><span id="Dwi2responseTournier-531"><a href="#Dwi2responseTournier-531"><span class="linenos">531</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseTournier-532"><a href="#Dwi2responseTournier-532"><span class="linenos">532</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseTournier-533"><a href="#Dwi2responseTournier-533"><span class="linenos">533</span></a>                <span class="s2">&quot;-number&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseTournier-534"><a href="#Dwi2responseTournier-534"><span class="linenos">534</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="p">)</span>
</span><span id="Dwi2responseTournier-535"><a href="#Dwi2responseTournier-535"><span class="linenos">535</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseTournier-536"><a href="#Dwi2responseTournier-536"><span class="linenos">536</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_voxels</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseTournier-537"><a href="#Dwi2responseTournier-537"><span class="linenos">537</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseTournier-538"><a href="#Dwi2responseTournier-538"><span class="linenos">538</span></a>                <span class="s2">&quot;-iter_voxels&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseTournier-539"><a href="#Dwi2responseTournier-539"><span class="linenos">539</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iter_voxels</span><span class="p">)</span>
</span><span id="Dwi2responseTournier-540"><a href="#Dwi2responseTournier-540"><span class="linenos">540</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseTournier-541"><a href="#Dwi2responseTournier-541"><span class="linenos">541</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dilate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseTournier-542"><a href="#Dwi2responseTournier-542"><span class="linenos">542</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseTournier-543"><a href="#Dwi2responseTournier-543"><span class="linenos">543</span></a>                <span class="s2">&quot;-dilate&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseTournier-544"><a href="#Dwi2responseTournier-544"><span class="linenos">544</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dilate</span><span class="p">)</span>
</span><span id="Dwi2responseTournier-545"><a href="#Dwi2responseTournier-545"><span class="linenos">545</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseTournier-546"><a href="#Dwi2responseTournier-546"><span class="linenos">546</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_iters</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseTournier-547"><a href="#Dwi2responseTournier-547"><span class="linenos">547</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseTournier-548"><a href="#Dwi2responseTournier-548"><span class="linenos">548</span></a>                <span class="s2">&quot;-max_iters&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseTournier-549"><a href="#Dwi2responseTournier-549"><span class="linenos">549</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_iters</span><span class="p">)</span>
</span><span id="Dwi2responseTournier-550"><a href="#Dwi2responseTournier-550"><span class="linenos">550</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseTournier-551"><a href="#Dwi2responseTournier-551"><span class="linenos">551</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span><span id="Dwi2responseTournier-552"><a href="#Dwi2responseTournier-552"><span class="linenos">552</span></a>    
</span><span id="Dwi2responseTournier-553"><a href="#Dwi2responseTournier-553"><span class="linenos">553</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="Dwi2responseTournier-554"><a href="#Dwi2responseTournier-554"><span class="linenos">554</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseTournier-555"><a href="#Dwi2responseTournier-555"><span class="linenos">555</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseTournier-556"><a href="#Dwi2responseTournier-556"><span class="linenos">556</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseTournierOutputs</span><span class="p">:</span>
</span><span id="Dwi2responseTournier-557"><a href="#Dwi2responseTournier-557"><span class="linenos">557</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournier-558"><a href="#Dwi2responseTournier-558"><span class="linenos">558</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="Dwi2responseTournier-559"><a href="#Dwi2responseTournier-559"><span class="linenos">559</span></a><span class="sd">        </span>
</span><span id="Dwi2responseTournier-560"><a href="#Dwi2responseTournier-560"><span class="linenos">560</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseTournier-561"><a href="#Dwi2responseTournier-561"><span class="linenos">561</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseTournier-562"><a href="#Dwi2responseTournier-562"><span class="linenos">562</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseTournier-563"><a href="#Dwi2responseTournier-563"><span class="linenos">563</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseTournierOutputs`).</span>
</span><span id="Dwi2responseTournier-564"><a href="#Dwi2responseTournier-564"><span class="linenos">564</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournier-565"><a href="#Dwi2responseTournier-565"><span class="linenos">565</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseTournierOutputs</span><span class="p">(</span>
</span><span id="Dwi2responseTournier-566"><a href="#Dwi2responseTournier-566"><span class="linenos">566</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="Dwi2responseTournier-567"><a href="#Dwi2responseTournier-567"><span class="linenos">567</span></a>            <span class="n">output</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">),</span>
</span><span id="Dwi2responseTournier-568"><a href="#Dwi2responseTournier-568"><span class="linenos">568</span></a>        <span class="p">)</span>
</span><span id="Dwi2responseTournier-569"><a href="#Dwi2responseTournier-569"><span class="linenos">569</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Use the Tournier et al. (2013) iterative algorithm for single-fibre voxel
selection and response function estimation.</p>
</div>


                            <div id="Dwi2responseTournier.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">Dwi2responseTournier</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">input_</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">output</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">iter_voxels</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">dilate</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">max_iters</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTournier.__init__"></a>
    
    

                            </div>
                            <div id="Dwi2responseTournier.input_" class="classattr">
                                <div class="attr variable">
            <span class="name">input_</span><span class="annotation">: pathlib.Path | str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTournier.input_"></a>
    
            <div class="docstring"><p>The input DWI</p>
</div>


                            </div>
                            <div id="Dwi2responseTournier.output" class="classattr">
                                <div class="attr variable">
            <span class="name">output</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTournier.output"></a>
    
            <div class="docstring"><p>The output response function text file</p>
</div>


                            </div>
                            <div id="Dwi2responseTournier.number" class="classattr">
                                <div class="attr variable">
            <span class="name">number</span><span class="annotation">: int | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTournier.number"></a>
    
            <div class="docstring"><p>Number of single-fibre voxels to use when calculating response
function</p>
</div>


                            </div>
                            <div id="Dwi2responseTournier.iter_voxels" class="classattr">
                                <div class="attr variable">
            <span class="name">iter_voxels</span><span class="annotation">: int | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTournier.iter_voxels"></a>
    
            <div class="docstring"><p>Number of single-fibre voxels to select when preparing for the next
iteration (default = 10 x value given in -number)</p>
</div>


                            </div>
                            <div id="Dwi2responseTournier.dilate" class="classattr">
                                <div class="attr variable">
            <span class="name">dilate</span><span class="annotation">: int | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTournier.dilate"></a>
    
            <div class="docstring"><p>Number of mask dilation steps to apply when deriving voxel mask to test
in the next iteration</p>
</div>


                            </div>
                            <div id="Dwi2responseTournier.max_iters" class="classattr">
                                <div class="attr variable">
            <span class="name">max_iters</span><span class="annotation">: int | None</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTournier.max_iters"></a>
    
            <div class="docstring"><p>Maximum number of iterations</p>
</div>


                            </div>
                            <div id="Dwi2responseTournier.run" class="classattr">
                                        <input id="Dwi2responseTournier.run-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">run</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">execution</span><span class="p">:</span> <span class="n">styxdefs</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Execution</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Dwi2responseTournier.run-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseTournier.run"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseTournier.run-515"><a href="#Dwi2responseTournier.run-515"><span class="linenos">515</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
</span><span id="Dwi2responseTournier.run-516"><a href="#Dwi2responseTournier.run-516"><span class="linenos">516</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseTournier.run-517"><a href="#Dwi2responseTournier.run-517"><span class="linenos">517</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseTournier.run-518"><a href="#Dwi2responseTournier.run-518"><span class="linenos">518</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="Dwi2responseTournier.run-519"><a href="#Dwi2responseTournier.run-519"><span class="linenos">519</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournier.run-520"><a href="#Dwi2responseTournier.run-520"><span class="linenos">520</span></a><span class="sd">        Build command line arguments. This method is called by the main command.</span>
</span><span id="Dwi2responseTournier.run-521"><a href="#Dwi2responseTournier.run-521"><span class="linenos">521</span></a><span class="sd">        </span>
</span><span id="Dwi2responseTournier.run-522"><a href="#Dwi2responseTournier.run-522"><span class="linenos">522</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseTournier.run-523"><a href="#Dwi2responseTournier.run-523"><span class="linenos">523</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseTournier.run-524"><a href="#Dwi2responseTournier.run-524"><span class="linenos">524</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseTournier.run-525"><a href="#Dwi2responseTournier.run-525"><span class="linenos">525</span></a><span class="sd">            Command line arguments</span>
</span><span id="Dwi2responseTournier.run-526"><a href="#Dwi2responseTournier.run-526"><span class="linenos">526</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournier.run-527"><a href="#Dwi2responseTournier.run-527"><span class="linenos">527</span></a>        <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Dwi2responseTournier.run-528"><a href="#Dwi2responseTournier.run-528"><span class="linenos">528</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;tournier&quot;</span><span class="p">)</span>
</span><span id="Dwi2responseTournier.run-529"><a href="#Dwi2responseTournier.run-529"><span class="linenos">529</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_</span><span class="p">))</span>
</span><span id="Dwi2responseTournier.run-530"><a href="#Dwi2responseTournier.run-530"><span class="linenos">530</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</span><span id="Dwi2responseTournier.run-531"><a href="#Dwi2responseTournier.run-531"><span class="linenos">531</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseTournier.run-532"><a href="#Dwi2responseTournier.run-532"><span class="linenos">532</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseTournier.run-533"><a href="#Dwi2responseTournier.run-533"><span class="linenos">533</span></a>                <span class="s2">&quot;-number&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseTournier.run-534"><a href="#Dwi2responseTournier.run-534"><span class="linenos">534</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="p">)</span>
</span><span id="Dwi2responseTournier.run-535"><a href="#Dwi2responseTournier.run-535"><span class="linenos">535</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseTournier.run-536"><a href="#Dwi2responseTournier.run-536"><span class="linenos">536</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">iter_voxels</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseTournier.run-537"><a href="#Dwi2responseTournier.run-537"><span class="linenos">537</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseTournier.run-538"><a href="#Dwi2responseTournier.run-538"><span class="linenos">538</span></a>                <span class="s2">&quot;-iter_voxels&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseTournier.run-539"><a href="#Dwi2responseTournier.run-539"><span class="linenos">539</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iter_voxels</span><span class="p">)</span>
</span><span id="Dwi2responseTournier.run-540"><a href="#Dwi2responseTournier.run-540"><span class="linenos">540</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseTournier.run-541"><a href="#Dwi2responseTournier.run-541"><span class="linenos">541</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dilate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseTournier.run-542"><a href="#Dwi2responseTournier.run-542"><span class="linenos">542</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseTournier.run-543"><a href="#Dwi2responseTournier.run-543"><span class="linenos">543</span></a>                <span class="s2">&quot;-dilate&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseTournier.run-544"><a href="#Dwi2responseTournier.run-544"><span class="linenos">544</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dilate</span><span class="p">)</span>
</span><span id="Dwi2responseTournier.run-545"><a href="#Dwi2responseTournier.run-545"><span class="linenos">545</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseTournier.run-546"><a href="#Dwi2responseTournier.run-546"><span class="linenos">546</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_iters</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Dwi2responseTournier.run-547"><a href="#Dwi2responseTournier.run-547"><span class="linenos">547</span></a>            <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="Dwi2responseTournier.run-548"><a href="#Dwi2responseTournier.run-548"><span class="linenos">548</span></a>                <span class="s2">&quot;-max_iters&quot;</span><span class="p">,</span>
</span><span id="Dwi2responseTournier.run-549"><a href="#Dwi2responseTournier.run-549"><span class="linenos">549</span></a>                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_iters</span><span class="p">)</span>
</span><span id="Dwi2responseTournier.run-550"><a href="#Dwi2responseTournier.run-550"><span class="linenos">550</span></a>            <span class="p">])</span>
</span><span id="Dwi2responseTournier.run-551"><a href="#Dwi2responseTournier.run-551"><span class="linenos">551</span></a>        <span class="k">return</span> <span class="n">cargs</span>
</span></pre></div>


            <div class="docstring"><p>Build command line arguments. This method is called by the main command.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>execution:</strong>  The execution object.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>Command line arguments</p>
</blockquote>
</div>


                            </div>
                            <div id="Dwi2responseTournier.outputs" class="classattr">
                                        <input id="Dwi2responseTournier.outputs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">outputs</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">execution</span><span class="p">:</span> <span class="n">styxdefs</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Execution</span></span><span class="return-annotation">) -> <span class="n"><a href="#Dwi2responseTournierOutputs">Dwi2responseTournierOutputs</a></span>:</span></span>

                <label class="view-source-button" for="Dwi2responseTournier.outputs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseTournier.outputs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseTournier.outputs-553"><a href="#Dwi2responseTournier.outputs-553"><span class="linenos">553</span></a>    <span class="k">def</span> <span class="nf">outputs</span><span class="p">(</span>
</span><span id="Dwi2responseTournier.outputs-554"><a href="#Dwi2responseTournier.outputs-554"><span class="linenos">554</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Dwi2responseTournier.outputs-555"><a href="#Dwi2responseTournier.outputs-555"><span class="linenos">555</span></a>        <span class="n">execution</span><span class="p">:</span> <span class="n">Execution</span><span class="p">,</span>
</span><span id="Dwi2responseTournier.outputs-556"><a href="#Dwi2responseTournier.outputs-556"><span class="linenos">556</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseTournierOutputs</span><span class="p">:</span>
</span><span id="Dwi2responseTournier.outputs-557"><a href="#Dwi2responseTournier.outputs-557"><span class="linenos">557</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournier.outputs-558"><a href="#Dwi2responseTournier.outputs-558"><span class="linenos">558</span></a><span class="sd">        Collect output file paths.</span>
</span><span id="Dwi2responseTournier.outputs-559"><a href="#Dwi2responseTournier.outputs-559"><span class="linenos">559</span></a><span class="sd">        </span>
</span><span id="Dwi2responseTournier.outputs-560"><a href="#Dwi2responseTournier.outputs-560"><span class="linenos">560</span></a><span class="sd">        Args:</span>
</span><span id="Dwi2responseTournier.outputs-561"><a href="#Dwi2responseTournier.outputs-561"><span class="linenos">561</span></a><span class="sd">            execution: The execution object.</span>
</span><span id="Dwi2responseTournier.outputs-562"><a href="#Dwi2responseTournier.outputs-562"><span class="linenos">562</span></a><span class="sd">        Returns:</span>
</span><span id="Dwi2responseTournier.outputs-563"><a href="#Dwi2responseTournier.outputs-563"><span class="linenos">563</span></a><span class="sd">            NamedTuple of outputs (described in `Dwi2responseTournierOutputs`).</span>
</span><span id="Dwi2responseTournier.outputs-564"><a href="#Dwi2responseTournier.outputs-564"><span class="linenos">564</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournier.outputs-565"><a href="#Dwi2responseTournier.outputs-565"><span class="linenos">565</span></a>        <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseTournierOutputs</span><span class="p">(</span>
</span><span id="Dwi2responseTournier.outputs-566"><a href="#Dwi2responseTournier.outputs-566"><span class="linenos">566</span></a>            <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="Dwi2responseTournier.outputs-567"><a href="#Dwi2responseTournier.outputs-567"><span class="linenos">567</span></a>            <span class="n">output</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">),</span>
</span><span id="Dwi2responseTournier.outputs-568"><a href="#Dwi2responseTournier.outputs-568"><span class="linenos">568</span></a>        <span class="p">)</span>
</span><span id="Dwi2responseTournier.outputs-569"><a href="#Dwi2responseTournier.outputs-569"><span class="linenos">569</span></a>        <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Collect output file paths.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>execution:</strong>  The execution object.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>NamedTuple of outputs (described in <code><a href="#Dwi2responseTournierOutputs">Dwi2responseTournierOutputs</a></code>).</p>
</blockquote>
</div>


                            </div>
                </section>
                <section id="Dwi2responseTournierOutputs">
                            <input id="Dwi2responseTournierOutputs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Dwi2responseTournierOutputs</span><wbr>(<span class="base">typing.NamedTuple</span>):

                <label class="view-source-button" for="Dwi2responseTournierOutputs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dwi2responseTournierOutputs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dwi2responseTournierOutputs-483"><a href="#Dwi2responseTournierOutputs-483"><span class="linenos">483</span></a><span class="k">class</span> <span class="nc">Dwi2responseTournierOutputs</span><span class="p">(</span><span class="n">typing</span><span class="o">.</span><span class="n">NamedTuple</span><span class="p">):</span>
</span><span id="Dwi2responseTournierOutputs-484"><a href="#Dwi2responseTournierOutputs-484"><span class="linenos">484</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournierOutputs-485"><a href="#Dwi2responseTournierOutputs-485"><span class="linenos">485</span></a><span class="sd">    Output object returned when calling `Dwi2responseTournier(...)`.</span>
</span><span id="Dwi2responseTournierOutputs-486"><a href="#Dwi2responseTournierOutputs-486"><span class="linenos">486</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournierOutputs-487"><a href="#Dwi2responseTournierOutputs-487"><span class="linenos">487</span></a>    <span class="n">root</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="Dwi2responseTournierOutputs-488"><a href="#Dwi2responseTournierOutputs-488"><span class="linenos">488</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Output root folder. This is the root folder for all outputs.&quot;&quot;&quot;</span>
</span><span id="Dwi2responseTournierOutputs-489"><a href="#Dwi2responseTournierOutputs-489"><span class="linenos">489</span></a>    <span class="n">output</span><span class="p">:</span> <span class="n">OutputPathType</span>
</span><span id="Dwi2responseTournierOutputs-490"><a href="#Dwi2responseTournierOutputs-490"><span class="linenos">490</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The output response function text file&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Output object returned when calling <code>Dwi2responseTournier(...)</code>.</p>
</div>


                            <div id="Dwi2responseTournierOutputs.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">Dwi2responseTournierOutputs</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">root</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span>, </span><span class="param"><span class="n">output</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTournierOutputs.__init__"></a>
    
            <div class="docstring"><p>Create new instance of Dwi2responseTournierOutputs(root, output)</p>
</div>


                            </div>
                            <div id="Dwi2responseTournierOutputs.root" class="classattr">
                                <div class="attr variable">
            <span class="name">root</span><span class="annotation">: pathlib.Path</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTournierOutputs.root"></a>
    
            <div class="docstring"><p>Output root folder. This is the root folder for all outputs.</p>
</div>


                            </div>
                            <div id="Dwi2responseTournierOutputs.output" class="classattr">
                                <div class="attr variable">
            <span class="name">output</span><span class="annotation">: pathlib.Path</span>

        
    </div>
    <a class="headerlink" href="#Dwi2responseTournierOutputs.output"></a>
    
            <div class="docstring"><p>The output response function text file</p>
</div>


                            </div>
                </section>
                <section id="dwi2response">
                            <input id="dwi2response-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">dwi2response</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">algorithm</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#Dwi2responseDhollander">Dwi2responseDhollander</a></span><span class="p">,</span> <span class="n"><a href="#Dwi2responseFa">Dwi2responseFa</a></span><span class="p">,</span> <span class="n"><a href="#Dwi2responseManual">Dwi2responseManual</a></span><span class="p">,</span> <span class="n"><a href="#Dwi2responseMsmt5tt">Dwi2responseMsmt5tt</a></span><span class="p">,</span> <span class="n"><a href="#Dwi2responseTax">Dwi2responseTax</a></span><span class="p">,</span> <span class="n"><a href="#Dwi2responseTournier">Dwi2responseTournier</a></span><span class="p">]</span>,</span><span class="param">	<span class="n">grad</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">fslgrad</span><span class="p">:</span> <span class="n"><a href="#Dwi2responseFslgrad">Dwi2responseFslgrad</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">mask</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">voxels</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">shells</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">lmax</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">nocleanup</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">scratch</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">continue_</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">info</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">quiet</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">nthreads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">config</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n"><a href="#Dwi2responseConfig">Dwi2responseConfig</a></span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">help_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">version</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">runner</span><span class="p">:</span> <span class="n">styxdefs</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Runner</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n"><a href="#Dwi2responseOutputs">Dwi2responseOutputs</a></span>:</span></span>

                <label class="view-source-button" for="dwi2response-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#dwi2response"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="dwi2response-648"><a href="#dwi2response-648"><span class="linenos">648</span></a><span class="k">def</span> <span class="nf">dwi2response</span><span class="p">(</span>
</span><span id="dwi2response-649"><a href="#dwi2response-649"><span class="linenos">649</span></a>    <span class="n">algorithm</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">Dwi2responseDhollander</span><span class="p">,</span> <span class="n">Dwi2responseFa</span><span class="p">,</span> <span class="n">Dwi2responseManual</span><span class="p">,</span> <span class="n">Dwi2responseMsmt5tt</span><span class="p">,</span> <span class="n">Dwi2responseTax</span><span class="p">,</span> <span class="n">Dwi2responseTournier</span><span class="p">],</span>
</span><span id="dwi2response-650"><a href="#dwi2response-650"><span class="linenos">650</span></a>    <span class="n">grad</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="dwi2response-651"><a href="#dwi2response-651"><span class="linenos">651</span></a>    <span class="n">fslgrad</span><span class="p">:</span> <span class="n">Dwi2responseFslgrad</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="dwi2response-652"><a href="#dwi2response-652"><span class="linenos">652</span></a>    <span class="n">mask</span><span class="p">:</span> <span class="n">InputPathType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="dwi2response-653"><a href="#dwi2response-653"><span class="linenos">653</span></a>    <span class="n">voxels</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="dwi2response-654"><a href="#dwi2response-654"><span class="linenos">654</span></a>    <span class="n">shells</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="dwi2response-655"><a href="#dwi2response-655"><span class="linenos">655</span></a>    <span class="n">lmax</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="dwi2response-656"><a href="#dwi2response-656"><span class="linenos">656</span></a>    <span class="n">nocleanup</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="dwi2response-657"><a href="#dwi2response-657"><span class="linenos">657</span></a>    <span class="n">scratch</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="dwi2response-658"><a href="#dwi2response-658"><span class="linenos">658</span></a>    <span class="n">continue_</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="dwi2response-659"><a href="#dwi2response-659"><span class="linenos">659</span></a>    <span class="n">info</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="dwi2response-660"><a href="#dwi2response-660"><span class="linenos">660</span></a>    <span class="n">quiet</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="dwi2response-661"><a href="#dwi2response-661"><span class="linenos">661</span></a>    <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="dwi2response-662"><a href="#dwi2response-662"><span class="linenos">662</span></a>    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="dwi2response-663"><a href="#dwi2response-663"><span class="linenos">663</span></a>    <span class="n">nthreads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="dwi2response-664"><a href="#dwi2response-664"><span class="linenos">664</span></a>    <span class="n">config</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Dwi2responseConfig</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="dwi2response-665"><a href="#dwi2response-665"><span class="linenos">665</span></a>    <span class="n">help_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="dwi2response-666"><a href="#dwi2response-666"><span class="linenos">666</span></a>    <span class="n">version</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="dwi2response-667"><a href="#dwi2response-667"><span class="linenos">667</span></a>    <span class="n">runner</span><span class="p">:</span> <span class="n">Runner</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="dwi2response-668"><a href="#dwi2response-668"><span class="linenos">668</span></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dwi2responseOutputs</span><span class="p">:</span>
</span><span id="dwi2response-669"><a href="#dwi2response-669"><span class="linenos">669</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="dwi2response-670"><a href="#dwi2response-670"><span class="linenos">670</span></a><span class="sd">    Estimate response function(s) for spherical deconvolution.</span>
</span><span id="dwi2response-671"><a href="#dwi2response-671"><span class="linenos">671</span></a><span class="sd">    dwi2response offers different algorithms for performing various types of</span>
</span><span id="dwi2response-672"><a href="#dwi2response-672"><span class="linenos">672</span></a><span class="sd">    response function estimation. The name of the algorithm must appear as the</span>
</span><span id="dwi2response-673"><a href="#dwi2response-673"><span class="linenos">673</span></a><span class="sd">    first argument on the command-line after ‘dwi2response’. The subsequent</span>
</span><span id="dwi2response-674"><a href="#dwi2response-674"><span class="linenos">674</span></a><span class="sd">    arguments and options depend on the particular algorithm being invoked.</span>
</span><span id="dwi2response-675"><a href="#dwi2response-675"><span class="linenos">675</span></a><span class="sd">    Each algorithm available has its own help page, including necessary</span>
</span><span id="dwi2response-676"><a href="#dwi2response-676"><span class="linenos">676</span></a><span class="sd">    references; e.g. to see the help page of the &#39;fa&#39; algorithm, type</span>
</span><span id="dwi2response-677"><a href="#dwi2response-677"><span class="linenos">677</span></a><span class="sd">    &#39;dwi2response fa&#39;.</span>
</span><span id="dwi2response-678"><a href="#dwi2response-678"><span class="linenos">678</span></a><span class="sd">    </span>
</span><span id="dwi2response-679"><a href="#dwi2response-679"><span class="linenos">679</span></a><span class="sd">    Author: Robert E. Smith (robert.smith@florey.edu.au) &amp; Thijs Dhollander</span>
</span><span id="dwi2response-680"><a href="#dwi2response-680"><span class="linenos">680</span></a><span class="sd">    (thijs.dhollander@gmail.com)</span>
</span><span id="dwi2response-681"><a href="#dwi2response-681"><span class="linenos">681</span></a><span class="sd">    </span>
</span><span id="dwi2response-682"><a href="#dwi2response-682"><span class="linenos">682</span></a><span class="sd">    URL:</span>
</span><span id="dwi2response-683"><a href="#dwi2response-683"><span class="linenos">683</span></a><span class="sd">    https://mrtrix.readthedocs.io/en/3.0.4/reference/commands/dwi2response.html</span>
</span><span id="dwi2response-684"><a href="#dwi2response-684"><span class="linenos">684</span></a><span class="sd">    </span>
</span><span id="dwi2response-685"><a href="#dwi2response-685"><span class="linenos">685</span></a><span class="sd">    Args:</span>
</span><span id="dwi2response-686"><a href="#dwi2response-686"><span class="linenos">686</span></a><span class="sd">        algorithm: Select the algorithm to be used to complete the script\</span>
</span><span id="dwi2response-687"><a href="#dwi2response-687"><span class="linenos">687</span></a><span class="sd">            operation; additional details and options become available once an\</span>
</span><span id="dwi2response-688"><a href="#dwi2response-688"><span class="linenos">688</span></a><span class="sd">            algorithm is nominated. Options are: dhollander, fa, manual, msmt_5tt,\</span>
</span><span id="dwi2response-689"><a href="#dwi2response-689"><span class="linenos">689</span></a><span class="sd">            tax, tournier.</span>
</span><span id="dwi2response-690"><a href="#dwi2response-690"><span class="linenos">690</span></a><span class="sd">        grad: Provide the diffusion gradient table in MRtrix format.</span>
</span><span id="dwi2response-691"><a href="#dwi2response-691"><span class="linenos">691</span></a><span class="sd">        fslgrad: Provide the diffusion gradient table in FSL bvecs/bvals format.</span>
</span><span id="dwi2response-692"><a href="#dwi2response-692"><span class="linenos">692</span></a><span class="sd">        mask: Only process voxels within the specified binary brain mask image.</span>
</span><span id="dwi2response-693"><a href="#dwi2response-693"><span class="linenos">693</span></a><span class="sd">        voxels: Output an image showing the final voxel selection(s).</span>
</span><span id="dwi2response-694"><a href="#dwi2response-694"><span class="linenos">694</span></a><span class="sd">        shells: b-value(s) to use in response function estimation\</span>
</span><span id="dwi2response-695"><a href="#dwi2response-695"><span class="linenos">695</span></a><span class="sd">            (comma-separated list in case of multiple b-values, b=0 must be\</span>
</span><span id="dwi2response-696"><a href="#dwi2response-696"><span class="linenos">696</span></a><span class="sd">            included explicitly).</span>
</span><span id="dwi2response-697"><a href="#dwi2response-697"><span class="linenos">697</span></a><span class="sd">        lmax: maximum harmonic degree(s) for response function estimation\</span>
</span><span id="dwi2response-698"><a href="#dwi2response-698"><span class="linenos">698</span></a><span class="sd">            (comma-separated list in case of multiple b-values).</span>
</span><span id="dwi2response-699"><a href="#dwi2response-699"><span class="linenos">699</span></a><span class="sd">        nocleanup: do not delete intermediate files during script execution,\</span>
</span><span id="dwi2response-700"><a href="#dwi2response-700"><span class="linenos">700</span></a><span class="sd">            and do not delete scratch directory at script completion.</span>
</span><span id="dwi2response-701"><a href="#dwi2response-701"><span class="linenos">701</span></a><span class="sd">        scratch: manually specify the path in which to generate the scratch\</span>
</span><span id="dwi2response-702"><a href="#dwi2response-702"><span class="linenos">702</span></a><span class="sd">            directory.</span>
</span><span id="dwi2response-703"><a href="#dwi2response-703"><span class="linenos">703</span></a><span class="sd">        continue_: continue the script from a previous execution; must provide\</span>
</span><span id="dwi2response-704"><a href="#dwi2response-704"><span class="linenos">704</span></a><span class="sd">            the scratch directory path, and the name of the last\</span>
</span><span id="dwi2response-705"><a href="#dwi2response-705"><span class="linenos">705</span></a><span class="sd">            successfully-generated file.</span>
</span><span id="dwi2response-706"><a href="#dwi2response-706"><span class="linenos">706</span></a><span class="sd">        info: display information messages.</span>
</span><span id="dwi2response-707"><a href="#dwi2response-707"><span class="linenos">707</span></a><span class="sd">        quiet: do not display information messages or progress status;\</span>
</span><span id="dwi2response-708"><a href="#dwi2response-708"><span class="linenos">708</span></a><span class="sd">            alternatively, this can be achieved by setting the MRTRIX_QUIET\</span>
</span><span id="dwi2response-709"><a href="#dwi2response-709"><span class="linenos">709</span></a><span class="sd">            environment variable to a non-empty string.</span>
</span><span id="dwi2response-710"><a href="#dwi2response-710"><span class="linenos">710</span></a><span class="sd">        debug: display debugging messages.</span>
</span><span id="dwi2response-711"><a href="#dwi2response-711"><span class="linenos">711</span></a><span class="sd">        force: force overwrite of output files (caution: using the same file as\</span>
</span><span id="dwi2response-712"><a href="#dwi2response-712"><span class="linenos">712</span></a><span class="sd">            input and output might cause unexpected behaviour).</span>
</span><span id="dwi2response-713"><a href="#dwi2response-713"><span class="linenos">713</span></a><span class="sd">        nthreads: use this number of threads in multi-threaded applications\</span>
</span><span id="dwi2response-714"><a href="#dwi2response-714"><span class="linenos">714</span></a><span class="sd">            (set to 0 to disable multi-threading).</span>
</span><span id="dwi2response-715"><a href="#dwi2response-715"><span class="linenos">715</span></a><span class="sd">        config: temporarily set the value of an MRtrix config file entry.</span>
</span><span id="dwi2response-716"><a href="#dwi2response-716"><span class="linenos">716</span></a><span class="sd">        help_: display this information page and exit.</span>
</span><span id="dwi2response-717"><a href="#dwi2response-717"><span class="linenos">717</span></a><span class="sd">        version: display version information and exit.</span>
</span><span id="dwi2response-718"><a href="#dwi2response-718"><span class="linenos">718</span></a><span class="sd">        runner: Command runner.</span>
</span><span id="dwi2response-719"><a href="#dwi2response-719"><span class="linenos">719</span></a><span class="sd">    Returns:</span>
</span><span id="dwi2response-720"><a href="#dwi2response-720"><span class="linenos">720</span></a><span class="sd">        NamedTuple of outputs (described in `Dwi2responseOutputs`).</span>
</span><span id="dwi2response-721"><a href="#dwi2response-721"><span class="linenos">721</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="dwi2response-722"><a href="#dwi2response-722"><span class="linenos">722</span></a>    <span class="n">runner</span> <span class="o">=</span> <span class="n">runner</span> <span class="ow">or</span> <span class="n">get_global_runner</span><span class="p">()</span>
</span><span id="dwi2response-723"><a href="#dwi2response-723"><span class="linenos">723</span></a>    <span class="n">execution</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">start_execution</span><span class="p">(</span><span class="n">DWI2RESPONSE_METADATA</span><span class="p">)</span>
</span><span id="dwi2response-724"><a href="#dwi2response-724"><span class="linenos">724</span></a>    <span class="n">cargs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="dwi2response-725"><a href="#dwi2response-725"><span class="linenos">725</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;dwi2response&quot;</span><span class="p">)</span>
</span><span id="dwi2response-726"><a href="#dwi2response-726"><span class="linenos">726</span></a>    <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">algorithm</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">execution</span><span class="p">))</span>
</span><span id="dwi2response-727"><a href="#dwi2response-727"><span class="linenos">727</span></a>    <span class="k">if</span> <span class="n">grad</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="dwi2response-728"><a href="#dwi2response-728"><span class="linenos">728</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="dwi2response-729"><a href="#dwi2response-729"><span class="linenos">729</span></a>            <span class="s2">&quot;-grad&quot;</span><span class="p">,</span>
</span><span id="dwi2response-730"><a href="#dwi2response-730"><span class="linenos">730</span></a>            <span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="n">grad</span><span class="p">)</span>
</span><span id="dwi2response-731"><a href="#dwi2response-731"><span class="linenos">731</span></a>        <span class="p">])</span>
</span><span id="dwi2response-732"><a href="#dwi2response-732"><span class="linenos">732</span></a>    <span class="k">if</span> <span class="n">fslgrad</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="dwi2response-733"><a href="#dwi2response-733"><span class="linenos">733</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">fslgrad</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">execution</span><span class="p">))</span>
</span><span id="dwi2response-734"><a href="#dwi2response-734"><span class="linenos">734</span></a>    <span class="k">if</span> <span class="n">mask</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="dwi2response-735"><a href="#dwi2response-735"><span class="linenos">735</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="dwi2response-736"><a href="#dwi2response-736"><span class="linenos">736</span></a>            <span class="s2">&quot;-mask&quot;</span><span class="p">,</span>
</span><span id="dwi2response-737"><a href="#dwi2response-737"><span class="linenos">737</span></a>            <span class="n">execution</span><span class="o">.</span><span class="n">input_file</span><span class="p">(</span><span class="n">mask</span><span class="p">)</span>
</span><span id="dwi2response-738"><a href="#dwi2response-738"><span class="linenos">738</span></a>        <span class="p">])</span>
</span><span id="dwi2response-739"><a href="#dwi2response-739"><span class="linenos">739</span></a>    <span class="k">if</span> <span class="n">voxels</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="dwi2response-740"><a href="#dwi2response-740"><span class="linenos">740</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="dwi2response-741"><a href="#dwi2response-741"><span class="linenos">741</span></a>            <span class="s2">&quot;-voxels&quot;</span><span class="p">,</span>
</span><span id="dwi2response-742"><a href="#dwi2response-742"><span class="linenos">742</span></a>            <span class="n">voxels</span>
</span><span id="dwi2response-743"><a href="#dwi2response-743"><span class="linenos">743</span></a>        <span class="p">])</span>
</span><span id="dwi2response-744"><a href="#dwi2response-744"><span class="linenos">744</span></a>    <span class="k">if</span> <span class="n">shells</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="dwi2response-745"><a href="#dwi2response-745"><span class="linenos">745</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="dwi2response-746"><a href="#dwi2response-746"><span class="linenos">746</span></a>            <span class="s2">&quot;-shells&quot;</span><span class="p">,</span>
</span><span id="dwi2response-747"><a href="#dwi2response-747"><span class="linenos">747</span></a>            <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">shells</span><span class="p">))</span>
</span><span id="dwi2response-748"><a href="#dwi2response-748"><span class="linenos">748</span></a>        <span class="p">])</span>
</span><span id="dwi2response-749"><a href="#dwi2response-749"><span class="linenos">749</span></a>    <span class="k">if</span> <span class="n">lmax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="dwi2response-750"><a href="#dwi2response-750"><span class="linenos">750</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="dwi2response-751"><a href="#dwi2response-751"><span class="linenos">751</span></a>            <span class="s2">&quot;-lmax&quot;</span><span class="p">,</span>
</span><span id="dwi2response-752"><a href="#dwi2response-752"><span class="linenos">752</span></a>            <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">lmax</span><span class="p">))</span>
</span><span id="dwi2response-753"><a href="#dwi2response-753"><span class="linenos">753</span></a>        <span class="p">])</span>
</span><span id="dwi2response-754"><a href="#dwi2response-754"><span class="linenos">754</span></a>    <span class="k">if</span> <span class="n">nocleanup</span><span class="p">:</span>
</span><span id="dwi2response-755"><a href="#dwi2response-755"><span class="linenos">755</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-nocleanup&quot;</span><span class="p">)</span>
</span><span id="dwi2response-756"><a href="#dwi2response-756"><span class="linenos">756</span></a>    <span class="k">if</span> <span class="n">scratch</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="dwi2response-757"><a href="#dwi2response-757"><span class="linenos">757</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="dwi2response-758"><a href="#dwi2response-758"><span class="linenos">758</span></a>            <span class="s2">&quot;-scratch&quot;</span><span class="p">,</span>
</span><span id="dwi2response-759"><a href="#dwi2response-759"><span class="linenos">759</span></a>            <span class="n">scratch</span>
</span><span id="dwi2response-760"><a href="#dwi2response-760"><span class="linenos">760</span></a>        <span class="p">])</span>
</span><span id="dwi2response-761"><a href="#dwi2response-761"><span class="linenos">761</span></a>    <span class="k">if</span> <span class="n">continue_</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="dwi2response-762"><a href="#dwi2response-762"><span class="linenos">762</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="dwi2response-763"><a href="#dwi2response-763"><span class="linenos">763</span></a>            <span class="s2">&quot;-continue&quot;</span><span class="p">,</span>
</span><span id="dwi2response-764"><a href="#dwi2response-764"><span class="linenos">764</span></a>            <span class="n">continue_</span>
</span><span id="dwi2response-765"><a href="#dwi2response-765"><span class="linenos">765</span></a>        <span class="p">])</span>
</span><span id="dwi2response-766"><a href="#dwi2response-766"><span class="linenos">766</span></a>    <span class="k">if</span> <span class="n">info</span><span class="p">:</span>
</span><span id="dwi2response-767"><a href="#dwi2response-767"><span class="linenos">767</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-info&quot;</span><span class="p">)</span>
</span><span id="dwi2response-768"><a href="#dwi2response-768"><span class="linenos">768</span></a>    <span class="k">if</span> <span class="n">quiet</span><span class="p">:</span>
</span><span id="dwi2response-769"><a href="#dwi2response-769"><span class="linenos">769</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-quiet&quot;</span><span class="p">)</span>
</span><span id="dwi2response-770"><a href="#dwi2response-770"><span class="linenos">770</span></a>    <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
</span><span id="dwi2response-771"><a href="#dwi2response-771"><span class="linenos">771</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-debug&quot;</span><span class="p">)</span>
</span><span id="dwi2response-772"><a href="#dwi2response-772"><span class="linenos">772</span></a>    <span class="k">if</span> <span class="n">force</span><span class="p">:</span>
</span><span id="dwi2response-773"><a href="#dwi2response-773"><span class="linenos">773</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-force&quot;</span><span class="p">)</span>
</span><span id="dwi2response-774"><a href="#dwi2response-774"><span class="linenos">774</span></a>    <span class="k">if</span> <span class="n">nthreads</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="dwi2response-775"><a href="#dwi2response-775"><span class="linenos">775</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
</span><span id="dwi2response-776"><a href="#dwi2response-776"><span class="linenos">776</span></a>            <span class="s2">&quot;-nthreads&quot;</span><span class="p">,</span>
</span><span id="dwi2response-777"><a href="#dwi2response-777"><span class="linenos">777</span></a>            <span class="nb">str</span><span class="p">(</span><span class="n">nthreads</span><span class="p">)</span>
</span><span id="dwi2response-778"><a href="#dwi2response-778"><span class="linenos">778</span></a>        <span class="p">])</span>
</span><span id="dwi2response-779"><a href="#dwi2response-779"><span class="linenos">779</span></a>    <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="dwi2response-780"><a href="#dwi2response-780"><span class="linenos">780</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">a</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">execution</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">config</span><span class="p">]</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">c</span><span class="p">])</span>
</span><span id="dwi2response-781"><a href="#dwi2response-781"><span class="linenos">781</span></a>    <span class="k">if</span> <span class="n">help_</span><span class="p">:</span>
</span><span id="dwi2response-782"><a href="#dwi2response-782"><span class="linenos">782</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-help&quot;</span><span class="p">)</span>
</span><span id="dwi2response-783"><a href="#dwi2response-783"><span class="linenos">783</span></a>    <span class="k">if</span> <span class="n">version</span><span class="p">:</span>
</span><span id="dwi2response-784"><a href="#dwi2response-784"><span class="linenos">784</span></a>        <span class="n">cargs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-version&quot;</span><span class="p">)</span>
</span><span id="dwi2response-785"><a href="#dwi2response-785"><span class="linenos">785</span></a>    <span class="n">ret</span> <span class="o">=</span> <span class="n">Dwi2responseOutputs</span><span class="p">(</span>
</span><span id="dwi2response-786"><a href="#dwi2response-786"><span class="linenos">786</span></a>        <span class="n">root</span><span class="o">=</span><span class="n">execution</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">),</span>
</span><span id="dwi2response-787"><a href="#dwi2response-787"><span class="linenos">787</span></a>        <span class="n">algorithm</span><span class="o">=</span><span class="n">algorithm</span><span class="o">.</span><span class="n">outputs</span><span class="p">(</span><span class="n">execution</span><span class="p">),</span>
</span><span id="dwi2response-788"><a href="#dwi2response-788"><span class="linenos">788</span></a>    <span class="p">)</span>
</span><span id="dwi2response-789"><a href="#dwi2response-789"><span class="linenos">789</span></a>    <span class="n">execution</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">cargs</span><span class="p">)</span>
</span><span id="dwi2response-790"><a href="#dwi2response-790"><span class="linenos">790</span></a>    <span class="k">return</span> <span class="n">ret</span>
</span></pre></div>


            <div class="docstring"><p>Estimate response function(s) for spherical deconvolution.
dwi2response offers different algorithms for performing various types of
response function estimation. The name of the algorithm must appear as the
first argument on the command-line after ‘dwi2response’. The subsequent
arguments and options depend on the particular algorithm being invoked.
Each algorithm available has its own help page, including necessary
references; e.g. to see the help page of the 'fa' algorithm, type
'dwi2response fa'.</p>

<p>Author: Robert E. Smith (robert.smith@florey.edu.au) &amp; Thijs Dhollander
(thijs.dhollander@gmail.com)</p>

<p>URL:
<a href="https://mrtrix.readthedocs.io/en/3.0.4/reference/commands/dwi2response.html">https://mrtrix.readthedocs.io/en/3.0.4/reference/commands/dwi2response.html</a></p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>algorithm:</strong>  Select the algorithm to be used to complete the script            operation; additional details and options become available once an            algorithm is nominated. Options are: dhollander, fa, manual, msmt_5tt,            tax, tournier.</li>
<li><strong>grad:</strong>  Provide the diffusion gradient table in MRtrix format.</li>
<li><strong>fslgrad:</strong>  Provide the diffusion gradient table in FSL bvecs/bvals format.</li>
<li><strong>mask:</strong>  Only process voxels within the specified binary brain mask image.</li>
<li><strong>voxels:</strong>  Output an image showing the final voxel selection(s).</li>
<li><strong>shells:</strong>  b-value(s) to use in response function estimation            (comma-separated list in case of multiple b-values, b=0 must be            included explicitly).</li>
<li><strong>lmax:</strong>  maximum harmonic degree(s) for response function estimation            (comma-separated list in case of multiple b-values).</li>
<li><strong>nocleanup:</strong>  do not delete intermediate files during script execution,            and do not delete scratch directory at script completion.</li>
<li><strong>scratch:</strong>  manually specify the path in which to generate the scratch            directory.</li>
<li><strong>continue_:</strong>  continue the script from a previous execution; must provide            the scratch directory path, and the name of the last            successfully-generated file.</li>
<li><strong>info:</strong>  display information messages.</li>
<li><strong>quiet:</strong>  do not display information messages or progress status;            alternatively, this can be achieved by setting the MRTRIX_QUIET            environment variable to a non-empty string.</li>
<li><strong>debug:</strong>  display debugging messages.</li>
<li><strong>force:</strong>  force overwrite of output files (caution: using the same file as            input and output might cause unexpected behaviour).</li>
<li><strong>nthreads:</strong>  use this number of threads in multi-threaded applications            (set to 0 to disable multi-threading).</li>
<li><strong>config:</strong>  temporarily set the value of an MRtrix config file entry.</li>
<li><strong>help_:</strong>  display this information page and exit.</li>
<li><strong>version:</strong>  display version information and exit.</li>
<li><strong>runner:</strong>  Command runner.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>NamedTuple of outputs (described in <code><a href="#Dwi2responseOutputs">Dwi2responseOutputs</a></code>).</p>
</blockquote>
</div>


                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>