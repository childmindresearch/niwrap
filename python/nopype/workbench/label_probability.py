# This file was auto generated by styx-boutiques-codegen
# Do not edit this file directly
# Timestamp: 2024-05-16T18:56:52.779060

import typing

from ..styxdefs import *


LABEL_PROBABILITY_METADATA = Metadata(
    id="f4361e3a5ea4ff9b134bba2beecc51b71ef9fb94",
    name="label-probability",
    container_image_type="docker",
    container_image_tag="mcin/docker-fsl:latest",
)


class LabelProbabilityOutputs(typing.NamedTuple):
    """
    Output object returned when calling `label_probability(...)`.
    """
    probability_metric_out: OutputPathType
    """the relative frequencies of each label at each vertex"""


def label_probability(
    runner: Runner,
    label_maps: InputPathType,
    probability_metric_out: InputPathType,
    opt_exclude_unlabeled: bool = False,
) -> LabelProbabilityOutputs:
    """
    FIND FREQUENCY OF SURFACE LABELS.
    
    This command outputs a set of soft ROIs, one for each label in the input,
    where the value is how many of the input maps had that label at that vertex,
    divided by the number of input maps.
    
    Args:
        runner: Command runner
        label_maps: label file containing individual label maps from many
            subjects
        probability_metric_out: the relative frequencies of each label at each
            vertex
        opt_exclude_unlabeled: don't make a probability map of the unlabeled key
    Returns:
        NamedTuple of outputs (described in `LabelProbabilityOutputs`).
    """
    execution = runner.start_execution(LABEL_PROBABILITY_METADATA)
    cargs = []
    cargs.append("wb_command")
    cargs.append("-label-probability")
    cargs.append(execution.input_file(label_maps))
    cargs.append(execution.input_file(probability_metric_out))
    if opt_exclude_unlabeled:
        cargs.append("-exclude-unlabeled")
    ret = LabelProbabilityOutputs(
        probability_metric_out=execution.output_file(f"{probability_metric_out}"),
    )
    execution.run(cargs)
    return ret
