{
  "tool-version": "1.5.0 2e663bdff57597d5d1fb251dc4740d14d9cf11dd",
  "name": "volume-extrema",
  "author": "Washington University School of Medicin",
  "command-line": "wb_command -volume-extrema [VOLUME_IN] [DISTANCE] [VOLUME_OUT] [OPT_PRESMOOTH_KERNEL] [OPT_ROI_ROI_VOLUME] [OPT_SUM_SUBVOLS] [OPT_CONSOLIDATE_MODE] [OPT_ONLY_MAXIMA] [OPT_ONLY_MINIMA] [OPT_SUBVOLUME_SUBVOLUME]",
  "container-image": {
    "image": "mcin/docker-fsl:latest",
    "type": "docker"
  },
  "description": "FIND EXTREMA IN A VOLUME FILE.\n\nFinds extrema in a volume file, such that no two extrema of the same type are within <distance> of each other.  The extrema are labeled as -1 for minima, 1 for maxima, 0 otherwise.  If -only-maxima or -only-minima is specified, then it will ignore extrema not of the specified type.  These options are mutually exclusive.\n\nIf -sum-subvols is specified, these extrema subvolumes are summed, and the output has a single subvolume with this result.\n\nBy default, a datapoint is an extrema only if it is more extreme than every other datapoint that is within <distance> from it.  If -consolidate-mode is used, it instead starts by finding all datapoints that are more extreme than their immediate neighbors, then while there are any extrema within <distance> of each other, take the two extrema closest to each other and merge them into one by a weighted average based on how many original extrema have been merged into each.\n\nBy default, all input subvolumes are used with no smoothing, use -subvolume to specify a single subvolume to use, and -presmooth to smooth the input before finding the extrema.",
  "schema-version": "0.5",
  "tags": {},
  "inputs": [
    {
      "id": "volume_in",
      "name": "volume_in",
      "description": "volume file to find the extrema of",
      "type": "File",
      "optional": false,
      "value-key": "[VOLUME_IN]"
    },
    {
      "id": "distance",
      "name": "distance",
      "description": "the minimum distance between identified extrema of the same type",
      "type": "Number",
      "optional": false,
      "value-key": "[DISTANCE]"
    },
    {
      "id": "volume_out",
      "name": "volume_out",
      "description": "the output extrema volume",
      "type": "File",
      "optional": false,
      "value-key": "[VOLUME_OUT]"
    },
    {
      "id": "opt_presmooth_kernel",
      "name": "opt_presmooth_kernel",
      "command-line-flag": "-presmooth",
      "description": "smooth the volume before finding extrema: the size of the gaussian smoothing kernel in mm, as sigma by default",
      "type": "Number",
      "optional": true,
      "value-key": "[OPT_PRESMOOTH_KERNEL]"
    },
    {
      "id": "opt_roi_roi_volume",
      "name": "opt_roi_roi_volume",
      "command-line-flag": "-roi",
      "description": "ignore values outside the selected area: the area to find extrema in",
      "type": "File",
      "optional": true,
      "value-key": "[OPT_ROI_ROI_VOLUME]"
    },
    {
      "id": "opt_sum_subvols",
      "name": "opt_sum_subvols",
      "command-line-flag": "-sum-subvols",
      "description": "output the sum of the extrema subvolumes instead of each subvolume separately",
      "type": "Flag",
      "optional": true,
      "value-key": "[OPT_SUM_SUBVOLS]"
    },
    {
      "id": "opt_consolidate_mode",
      "name": "opt_consolidate_mode",
      "command-line-flag": "-consolidate-mode",
      "description": "use consolidation of local minima instead of a large neighborhood",
      "type": "Flag",
      "optional": true,
      "value-key": "[OPT_CONSOLIDATE_MODE]"
    },
    {
      "id": "opt_only_maxima",
      "name": "opt_only_maxima",
      "command-line-flag": "-only-maxima",
      "description": "only find the maxima",
      "type": "Flag",
      "optional": true,
      "value-key": "[OPT_ONLY_MAXIMA]"
    },
    {
      "id": "opt_only_minima",
      "name": "opt_only_minima",
      "command-line-flag": "-only-minima",
      "description": "only find the minima",
      "type": "Flag",
      "optional": true,
      "value-key": "[OPT_ONLY_MINIMA]"
    },
    {
      "id": "opt_subvolume_subvolume",
      "name": "opt_subvolume_subvolume",
      "command-line-flag": "-subvolume",
      "description": "select a single subvolume to find extrema in: the subvolume number or name",
      "type": "String",
      "optional": true,
      "value-key": "[OPT_SUBVOLUME_SUBVOLUME]"
    }
  ],
  "output-files": [
    {
      "id": "volume_out",
      "name": "volume_out",
      "path-template": "[VOLUME_OUT]",
      "description": "the output extrema volume",
      "optional": false
    }
  ]
}
