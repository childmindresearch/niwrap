{
  "name": "FAST",
  "command-line": "FAST [NUMBER_CLASSES] [BIAS_ITERS] [BIAS_LOWPASS] [IMG_TYPE] [INIT_SEG_SMOOTH] [SEGMENTS] [INIT_TRANSFORM] [OTHER_PRIORS] [OUTPUT_BIASFIELD] [OUTPUT_BIASCORRECTED] [NO_BIAS] [CHANNELS] [OUT_BASENAME] [USE_PRIORS] [NO_PVE] [SEGMENT_ITERS] [MIXEL_SMOOTH] [HYPER] [VERBOSE] [MANUAL_SEG] [ITERS_AFTERBIAS] [PROBABILITY_MAPS] [IN_FILES]",
  "author": "Oxford Centre for Functional MRI of the Brain (FMRIB)",
  "description": "FAST (FMRIB's Automated Segmentation Tool) segments a 3D image of the brain into different tissue types (Grey Matter, White Matter, CSF, etc.), whilst also correcting for spatial intensity variations (also known as bias field or RF inhomogeneities). The underlying method is based on a hidden Markov random field model and an associated Expectation-Maximization algorithm. The whole process is fully automated and can also produce a bias field-corrected input image and a probabilistic and/or partial volume tissue segmentation. It is robust and reliable, compared to most finite mixture model-based methods, which are sensitive to noise.",
  "url": "https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FAST",
  "inputs": [
    {
      "name": "Number classes",
      "id": "number_classes",
      "type": "Number",
      "value-key": "[NUMBER_CLASSES]",
      "description": "number of tissue-type classes; default=3",
      "minimum": 1,
      "default-value": 3,
      "integer": true,
      "command-line-flag": "-n",
      "optional": true
    },
    {
      "name": "Bias iters",
      "id": "bias_iters",
      "type": "Number",
      "value-key": "[BIAS_ITERS]",
      "description": "number of main-loop iterations during bias-field removal; default=4",
      "minimum": 1,
      "default-value": 3,
      "integer": true,
      "command-line-flag": "-I",
      "optional": true
    },
    {
      "name": "Bias lowpass",
      "id": "bias_lowpass",
      "type": "Number",
      "value-key": "[BIAS_LOWPASS]",
      "description": "bias field smoothing extent (FWHM) in mm; default=20",
      "minimum": 0,
      "default-value": 20,
      "command-line-flag": "-l",
      "optional": true
    },
    {
      "name": "Img type",
      "id": "img_type",
      "type": "Number",
      "value-key": "[IMG_TYPE]",
      "description": "type of image 1=T1, 2=T2, 3=PD; default=T1",
      "command-line-flag": "-t",
      "optional": true,
      "integer": true,
      "value-choices": [1, 2, 3],
      "default-value": 1
    },
    {
      "name": "Init seg smooth",
      "id": "init_seg_smooth",
      "type": "Number",
      "value-key": "[INIT_SEG_SMOOTH]",
      "description": "initial segmentation spatial smoothness (during bias field estimation); default=0.02",
      "default-value": 0.02,
      "minimum": 0.0001,
      "maximum": 0.1,
      "command-line-flag": "-f",
      "optional": true
    },
    {
      "name": "Segments",
      "id": "segments",
      "type": "Flag",
      "value-key": "[SEGMENTS]",
      "description": "outputs a separate binary image for each tissue type",
      "command-line-flag": "-g",
      "optional": true
    },
    {
      "name": "Init transform",
      "id": "init_transform",
      "type": "File",
      "value-key": "[INIT_TRANSFORM]",
      "description": "initialise using priors; you must supply a FLIRT transform",
      "command-line-flag": "-a",
      "optional": true
    },
    {
      "name": "Other priors",
      "id": "other_priors",
      "type": "File",
      "value-key": "[OTHER_PRIORS]",
      "description": "Alternative prior images.",
      "list": true,
      "command-line-flag": "-A",
      "optional": true
    },
    {
      "name": "Output biasfield",
      "id": "output_biasfield",
      "type": "Flag",
      "value-key": "[OUTPUT_BIASFIELD]",
      "description": "Output estimated bias field.",
      "command-line-flag": "-b",
      "optional": true
    },
    {
      "name": "Output biascorrected",
      "id": "output_biascorrected",
      "type": "Flag",
      "value-key": "[OUTPUT_BIASCORRECTED]",
      "description": "Output restored image (bias-corrected image).",
      "command-line-flag": "-B",
      "optional": true
    },
    {
      "name": "No bias",
      "id": "no_bias",
      "type": "Flag",
      "value-key": "[NO_BIAS]",
      "description": "Do not remove bias field.",
      "command-line-flag": "-N",
      "optional": true
    },
    {
      "name": "Channels",
      "id": "channels",
      "type": "Number",
      "value-key": "[CHANNELS]",
      "description": "number of input images (channels); default 1",
      "command-line-flag": "-S",
      "minimum": 1,
      "default-value": 1,
      "integer": true,
      "optional": true
    },
    {
      "name": "Out basename",
      "id": "out_basename",
      "type": "File",
      "value-key": "[OUT_BASENAME]",
      "description": "Base name of output files.",
      "command-line-flag": "-o",
      "default-value": "BrainExtractionBrain",
      "optional": true
    },
    {
      "name": "Use priors",
      "id": "use_priors",
      "type": "Flag",
      "value-key": "[USE_PRIORS]",
      "description": "Use priors throughout.",
      "command-line-flag": "-P",
      "optional": true,
      "requires-inputs": ["init_transform"]
    },
    {
      "name": "No pve",
      "id": "no_pve",
      "type": "Flag",
      "value-key": "[NO_PVE]",
      "description": "Turn off pve (partial volume estimation).",
      "command-line-flag": "--nopve",
      "optional": true
    },
    {
      "name": "Segment iters",
      "id": "segment_iters",
      "type": "Number",
      "value-key": "[SEGMENT_ITERS]",
      "description": "number of segmentation-initialisation iterations; default=15",
      "integer": true,
      "minimum": 1,
      "default-value": 15,
      "command-line-flag": "-W",
      "optional": true
    },
    {
      "name": "Mixel smooth",
      "id": "mixel_smooth",
      "type": "Number",
      "value-key": "[MIXEL_SMOOTH]",
      "description": "spatial smoothness for mixeltype; default=0.3",
      "minimum": 0.0,
      "maximum": 1.0,
      "default-value": 0.3,
      "command-line-flag": "-R",
      "optional": true
    },
    {
      "name": "Iters afterbias",
      "id": "iters_afterbias",
      "type": "Number",
      "value-key": "[ITERS_AFTERBIAS]",
      "description": "number of main-loop iterations after bias-field removal; default=4",
      "minimum": 1,
      "maximum": 20,
      "default-value": 4,
      "integer": true,
      "command-line-flag": "-O",
      "optional": true
    },
    {
      "name": "Hyper",
      "id": "hyper",
      "type": "Number",
      "value-key": "[HYPER]",
      "description": "0.0 <= a floating point number <= 1.0. segmentation spatial smoothness; default=0.1",
      "minimum": 0.0,
      "maximum": 1.0,
      "default-value": 0.1,
      "command-line-flag": "-H",
      "optional": true
    },
    {
      "name": "Verbose",
      "id": "verbose",
      "type": "Flag",
      "value-key": "[VERBOSE]",
      "description": "Switch on diagnostic messages.",
      "command-line-flag": "-v",
      "optional": true
    },
    {
      "name": "Manual seg",
      "id": "manual_seg",
      "type": "File",
      "value-key": "[MANUAL_SEG]",
      "description": "Filename containing intensities.",
      "command-line-flag": "-s",
      "optional": true
    },
    {
      "id": "in_files",
      "name": "In files",
      "type": "File",
      "list": true,
      "value-key": "[IN_FILES]",
      "description": "Image, or multi-channel set of images, to be segmented.",
      "optional": false
    }
  ],
  "output-files": [
    {
      "name": "Mixeltype",
      "id": "mixeltype",
      "path-template": "[OUT_BASENAME]_mixeltype.nii.gz",
      "optional": true,
      "description": "Path/name of mixeltype volume file _mixeltype."
    },
    {
      "name": "Bias field",
      "id": "bias_field",
      "path-template": "[OUT_BASENAME]_bias.nii.gz",
      "optional": true,
      "description": "No description provided.",
      "list": true
    },
    {
      "name": "Partial volume files",
      "id": "partial_volume_files",
      "path-template": "[OUT_BASENAME]_pve_*.nii.gz",
      "optional": true,
      "description": "No description provided.",
      "list": true
    },
    {
      "name": "Partial volume map",
      "id": "partial_volume_map",
      "path-template": "[OUT_BASENAME]_pveseg.nii.gz",
      "optional": true,
      "description": "Path/name of partial volume file _pveseg."
    },
    {
      "name": "Probability maps",
      "id": "probability_maps_outfile",
      "path-template": "[OUT_BASENAME]_prob_*.nii.gz",
      "optional": true,
      "description": "No description provided.",
      "list": true
    },
    {
      "name": "Restored image",
      "id": "restored_image",
      "path-template": "[OUT_BASENAME]_restore.nii.gz",
      "optional": true,
      "description": "No description provided.",
      "list": true
    },
    {
      "name": "Tissue class files",
      "id": "tissue_class_files",
      "path-template": "[OUT_BASENAME]_seg_*.nii.gz",
      "optional": true,
      "description": "No description provided.",
      "list": true
    },
    {
      "name": "Tissue class map",
      "id": "tissue_class_map",
      "path-template": "[OUT_BASENAME]_seg.nii.gz",
      "optional": true,
      "description": "Path/name of binary segmented volume file one val for each class  _seg."
    }
  ],
  "tool-version": "6.0.5",
  "schema-version": "0.5",
  "container-image": {
    "image": "mcin/fsl:6.0.5",
    "type": "docker"
  },
  "tags": {
    "domain": "neuroinformatics",
    "package": "fsl"
  }
}
