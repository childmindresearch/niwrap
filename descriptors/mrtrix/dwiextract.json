{
  "name": "dwiextract",
  "description": "Extract diffusion-weighted volumes, b=0 volumes, or certain shells from a DWI dataset.\n\n\n\nReferences:\n\n",
  "author": "David Raffelt (david.raffelt@florey.edu.au) and Thijs Dhollander (thijs.dhollander@gmail.com) and Robert E. Smith (robert.smith@florey.edu.au)",
  "tool-version": "3.0.4",
  "schema-version": "0.5",
  "container-image": {
    "image": "mrtrix3/mrtrix3:3.0.4",
    "type": "docker"
  },
  "command-line": "dwiextract [OPTIONS_BZERO] [OPTIONS_NO_BZERO] [OPTIONS_SINGLESHELL] [DW_GRADIENT_TABLE_IMPORT_OPTIONS_GRAD] [DW_GRADIENT_TABLE_IMPORT_OPTIONS_FSLGRAD] [DW_SHELL_SELECTION_OPTIONS_SHELLS] [DW_GRADIENT_TABLE_EXPORT_OPTIONS_EXPORT_GRAD_MRTRIX] [DW_GRADIENT_TABLE_EXPORT_OPTIONS_EXPORT_GRAD_FSL] [OPTIONS_FOR_IMPORTING_PHASE_ENCODE_TABLES_IMPORT_PE_TABLE] [OPTIONS_FOR_IMPORTING_PHASE_ENCODE_TABLES_IMPORT_PE_EDDY] [OPTIONS_FOR_SELECTING_VOLUMES_BASED_ON_PHASE_ENCODING_PE] [STRIDE_OPTIONS_STRIDES] [__STANDARD_OPTIONS_INFO] [__STANDARD_OPTIONS_QUIET] [__STANDARD_OPTIONS_DEBUG] [__STANDARD_OPTIONS_FORCE] [__STANDARD_OPTIONS_NTHREADS] [__STANDARD_OPTIONS_CONFIG] [__STANDARD_OPTIONS_HELP] [__STANDARD_OPTIONS_VERSION] [INPUT] [OUTPUT]",
  "inputs": [
    {
      "id": "input",
      "name": "input",
      "value-key": "[INPUT]",
      "description": "the input DW image.",
      "type": "File",
      "optional": false
    },
    {
      "id": "output",
      "name": "output",
      "value-key": "[OUTPUT]",
      "description": "the output image (diffusion-weighted volumes by default).",
      "type": "String",
      "optional": false
    },
    {
      "id": "bzero",
      "name": "bzero",
      "command-line-flag": "-bzero",
      "value-key": "[OPTIONS_BZERO]",
      "description": "Output b=0 volumes (instead of the diffusion weighted volumes, if -singleshell is not specified).",
      "type": "Flag",
      "optional": true
    },
    {
      "id": "no_bzero",
      "name": "no_bzero",
      "command-line-flag": "-no_bzero",
      "value-key": "[OPTIONS_NO_BZERO]",
      "description": "Output only non b=0 volumes (default, if -singleshell is not specified).",
      "type": "Flag",
      "optional": true
    },
    {
      "id": "singleshell",
      "name": "singleshell",
      "command-line-flag": "-singleshell",
      "value-key": "[OPTIONS_SINGLESHELL]",
      "description": "Force a single-shell (single non b=0 shell) output. This will include b=0 volumes, if present. Use with -bzero to enforce presence of b=0 volumes (error if not present) or with -no_bzero to exclude them.",
      "type": "Flag",
      "optional": true
    },
    {
      "id": "grad",
      "name": "grad",
      "command-line-flag": "-grad",
      "value-key": "[DW_GRADIENT_TABLE_IMPORT_OPTIONS_GRAD]",
      "description": "Provide the diffusion-weighted gradient scheme used in the acquisition in a text file. This should be supplied as a 4xN text file with each line is in the format [ X Y Z b ], where [ X Y Z ] describe the direction of the applied gradient, and b gives the b-value in units of s/mm^2. If a diffusion gradient scheme is present in the input image header, the data provided with this option will be instead used.",
      "type": "File",
      "optional": true
    },
    {
      "id": "fslgrad",
      "name": "fslgrad",
      "value-key": "[DW_GRADIENT_TABLE_IMPORT_OPTIONS_FSLGRAD]",
      "description": "Provide the diffusion-weighted gradient scheme used in the acquisition in FSL bvecs/bvals format files. If a diffusion gradient scheme is present in the input image header, the data provided with this option will be instead used.",
      "type": {
        "id": "fslgrad",
        "name": "fslgrad",
        "description": "Provide the diffusion-weighted gradient scheme used in the acquisition in FSL bvecs/bvals format files. If a diffusion gradient scheme is present in the input image header, the data provided with this option will be instead used.",
        "command-line": "-fslgrad [BVECS] [BVALS]",
        "inputs": [
          {
            "id": "bvecs",
            "name": "bvecs",
            "value-key": "[BVECS]",
            "description": "Provide the diffusion-weighted gradient scheme used in the acquisition in FSL bvecs/bvals format files. If a diffusion gradient scheme is present in the input image header, the data provided with this option will be instead used.",
            "type": "File",
            "optional": false
          },
          {
            "id": "bvals",
            "name": "bvals",
            "value-key": "[BVALS]",
            "description": "Provide the diffusion-weighted gradient scheme used in the acquisition in FSL bvecs/bvals format files. If a diffusion gradient scheme is present in the input image header, the data provided with this option will be instead used.",
            "type": "File",
            "optional": false
          }
        ],
        "output-files": []
      },
      "optional": true
    },
    {
      "id": "shells",
      "name": "shells",
      "command-line-flag": "-shells",
      "value-key": "[DW_SHELL_SELECTION_OPTIONS_SHELLS]",
      "description": "specify one or more b-values to use during processing, as a comma-separated list of the desired approximate b-values (b-values are clustered to allow for small deviations). Note that some commands are incompatible with multiple b-values, and will report an error if more than one b-value is provided. \nWARNING: note that, even though the b=0 volumes are never referred to as shells in the literature, they still have to be explicitly included in the list of b-values as provided to the -shell option! Several algorithms which include the b=0 volumes in their computations may otherwise return an undesired result.",
      "type": "Number",
      "optional": true,
      "integer": false,
      "list": true,
      "list-separator": ","
    },
    {
      "id": "export_grad_mrtrix",
      "name": "export_grad_mrtrix",
      "command-line-flag": "-export_grad_mrtrix",
      "value-key": "[DW_GRADIENT_TABLE_EXPORT_OPTIONS_EXPORT_GRAD_MRTRIX]",
      "description": "export the diffusion-weighted gradient table to file in MRtrix format",
      "type": "String",
      "optional": true
    },
    {
      "id": "export_grad_fsl",
      "name": "export_grad_fsl",
      "value-key": "[DW_GRADIENT_TABLE_EXPORT_OPTIONS_EXPORT_GRAD_FSL]",
      "description": "export the diffusion-weighted gradient table to files in FSL (bvecs / bvals) format",
      "type": {
        "id": "export_grad_fsl",
        "name": "export_grad_fsl",
        "description": "export the diffusion-weighted gradient table to files in FSL (bvecs / bvals) format",
        "command-line": "-export_grad_fsl [BVECS_PATH] [BVALS_PATH]",
        "inputs": [
          {
            "id": "bvecs_path",
            "name": "bvecs_path",
            "value-key": "[BVECS_PATH]",
            "description": "export the diffusion-weighted gradient table to files in FSL (bvecs / bvals) format",
            "type": "String",
            "optional": false
          },
          {
            "id": "bvals_path",
            "name": "bvals_path",
            "value-key": "[BVALS_PATH]",
            "description": "export the diffusion-weighted gradient table to files in FSL (bvecs / bvals) format",
            "type": "String",
            "optional": false
          }
        ],
        "output-files": [
          {
            "id": "bvecs_path",
            "name": "bvecs_path",
            "path-template": "[BVECS_PATH]",
            "description": "export the diffusion-weighted gradient table to files in FSL (bvecs / bvals) format"
          },
          {
            "id": "bvals_path",
            "name": "bvals_path",
            "path-template": "[BVALS_PATH]",
            "description": "export the diffusion-weighted gradient table to files in FSL (bvecs / bvals) format"
          }
        ]
      },
      "optional": true
    },
    {
      "id": "import_pe_table",
      "name": "import_pe_table",
      "command-line-flag": "-import_pe_table",
      "value-key": "[OPTIONS_FOR_IMPORTING_PHASE_ENCODE_TABLES_IMPORT_PE_TABLE]",
      "description": "import a phase-encoding table from file",
      "type": "File",
      "optional": true
    },
    {
      "id": "import_pe_eddy",
      "name": "import_pe_eddy",
      "value-key": "[OPTIONS_FOR_IMPORTING_PHASE_ENCODE_TABLES_IMPORT_PE_EDDY]",
      "description": "import phase-encoding information from an EDDY-style config / index file pair",
      "type": {
        "id": "import_pe_eddy",
        "name": "import_pe_eddy",
        "description": "import phase-encoding information from an EDDY-style config / index file pair",
        "command-line": "-import_pe_eddy [CONFIG] [INDICES]",
        "inputs": [
          {
            "id": "config",
            "name": "config",
            "value-key": "[CONFIG]",
            "description": "import phase-encoding information from an EDDY-style config / index file pair",
            "type": "File",
            "optional": false
          },
          {
            "id": "indices",
            "name": "indices",
            "value-key": "[INDICES]",
            "description": "import phase-encoding information from an EDDY-style config / index file pair",
            "type": "File",
            "optional": false
          }
        ],
        "output-files": []
      },
      "optional": true
    },
    {
      "id": "pe",
      "name": "pe",
      "command-line-flag": "-pe",
      "value-key": "[OPTIONS_FOR_SELECTING_VOLUMES_BASED_ON_PHASE_ENCODING_PE]",
      "description": "select volumes with a particular phase encoding; this can be three comma-separated values (for i,j,k components of vector direction) or four (direction & total readout time)",
      "type": "Number",
      "optional": true,
      "integer": false,
      "list": true,
      "list-separator": ","
    },
    {
      "id": "strides",
      "name": "strides",
      "command-line-flag": "-strides",
      "value-key": "[STRIDE_OPTIONS_STRIDES]",
      "description": "specify the strides of the output data in memory; either as a comma-separated list of (signed) integers, or as a template image from which the strides shall be extracted and used. The actual strides produced will depend on whether the output image format can support it.",
      "type": [
        {
          "id": "VariousString",
          "command-line": "[OBJ]",
          "inputs": [
            {
              "id": "obj",
              "name": "Object",
              "value-key": "[OBJ]",
              "description": "String object.",
              "type": "String",
              "optional": false
            }
          ]
        },
        {
          "id": "VariousFile",
          "command-line": "[OBJ]",
          "inputs": [
            {
              "id": "obj",
              "name": "Object",
              "value-key": "[OBJ]",
              "description": "File object.",
              "type": "File",
              "optional": false
            }
          ]
        }
      ],
      "optional": true
    },
    {
      "id": "info",
      "name": "info",
      "command-line-flag": "-info",
      "value-key": "[__STANDARD_OPTIONS_INFO]",
      "description": "display information messages.",
      "type": "Flag",
      "optional": true
    },
    {
      "id": "quiet",
      "name": "quiet",
      "command-line-flag": "-quiet",
      "value-key": "[__STANDARD_OPTIONS_QUIET]",
      "description": "do not display information messages or progress status; alternatively, this can be achieved by setting the MRTRIX_QUIET environment variable to a non-empty string.",
      "type": "Flag",
      "optional": true
    },
    {
      "id": "debug",
      "name": "debug",
      "command-line-flag": "-debug",
      "value-key": "[__STANDARD_OPTIONS_DEBUG]",
      "description": "display debugging messages.",
      "type": "Flag",
      "optional": true
    },
    {
      "id": "force",
      "name": "force",
      "command-line-flag": "-force",
      "value-key": "[__STANDARD_OPTIONS_FORCE]",
      "description": "force overwrite of output files (caution: using the same file as input and output might cause unexpected behaviour).",
      "type": "Flag",
      "optional": true
    },
    {
      "id": "nthreads",
      "name": "nthreads",
      "command-line-flag": "-nthreads",
      "value-key": "[__STANDARD_OPTIONS_NTHREADS]",
      "description": "use this number of threads in multi-threaded applications (set to 0 to disable multi-threading).",
      "type": "Number",
      "optional": true,
      "integer": true
    },
    {
      "id": "config",
      "name": "config",
      "value-key": "[__STANDARD_OPTIONS_CONFIG]",
      "description": "temporarily set the value of an MRtrix config file entry.",
      "type": {
        "id": "config",
        "name": "config",
        "description": "temporarily set the value of an MRtrix config file entry.",
        "command-line": "-config [KEY] [VALUE]",
        "inputs": [
          {
            "id": "key",
            "name": "key",
            "value-key": "[KEY]",
            "description": "temporarily set the value of an MRtrix config file entry.",
            "type": "String",
            "optional": false
          },
          {
            "id": "value",
            "name": "value",
            "value-key": "[VALUE]",
            "description": "temporarily set the value of an MRtrix config file entry.",
            "type": "String",
            "optional": false
          }
        ],
        "output-files": []
      },
      "optional": true,
      "list": true
    },
    {
      "id": "help",
      "name": "help",
      "command-line-flag": "-help",
      "value-key": "[__STANDARD_OPTIONS_HELP]",
      "description": "display this information page and exit.",
      "type": "Flag",
      "optional": true
    },
    {
      "id": "version",
      "name": "version",
      "command-line-flag": "-version",
      "value-key": "[__STANDARD_OPTIONS_VERSION]",
      "description": "display version information and exit.",
      "type": "Flag",
      "optional": true
    }
  ],
  "output-files": [
    {
      "id": "output",
      "name": "output",
      "path-template": "[OUTPUT]",
      "description": "the output image (diffusion-weighted volumes by default)."
    },
    {
      "id": "export_grad_mrtrix",
      "name": "export_grad_mrtrix",
      "path-template": "[DW_GRADIENT_TABLE_EXPORT_OPTIONS_EXPORT_GRAD_MRTRIX]",
      "description": "export the diffusion-weighted gradient table to file in MRtrix format "
    }
  ],
  "url": "https://mrtrix.readthedocs.io/en/latest/reference/commands/dwiextract.html"
}
